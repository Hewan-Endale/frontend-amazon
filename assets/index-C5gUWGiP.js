var SM=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var nee=SM((vee,mp)=>{function IM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var F0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function U0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pA={exports:{}},Pm={},mA={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd=Symbol.for("react.element"),TM=Symbol.for("react.portal"),bM=Symbol.for("react.fragment"),RM=Symbol.for("react.strict_mode"),AM=Symbol.for("react.profiler"),PM=Symbol.for("react.provider"),kM=Symbol.for("react.context"),CM=Symbol.for("react.forward_ref"),xM=Symbol.for("react.suspense"),OM=Symbol.for("react.memo"),DM=Symbol.for("react.lazy"),ZI=Symbol.iterator;function NM(t){return t===null||typeof t!="object"?null:(t=ZI&&t[ZI]||t["@@iterator"],typeof t=="function"?t:null)}var gA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yA=Object.assign,_A={};function ou(t,e,n){this.props=t,this.context=e,this.refs=_A,this.updater=n||gA}ou.prototype.isReactComponent={};ou.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ou.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vA(){}vA.prototype=ou.prototype;function j0(t,e,n){this.props=t,this.context=e,this.refs=_A,this.updater=n||gA}var B0=j0.prototype=new vA;B0.constructor=j0;yA(B0,ou.prototype);B0.isPureReactComponent=!0;var eT=Array.isArray,wA=Object.prototype.hasOwnProperty,$0={current:null},EA={key:!0,ref:!0,__self:!0,__source:!0};function SA(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)wA.call(e,r)&&!EA.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Hd,type:t,key:s,ref:o,props:i,_owner:$0.current}}function MM(t,e){return{$$typeof:Hd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function z0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hd}function LM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tT=/\/+/g;function Py(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LM(""+t.key):e.toString(36)}function Nf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hd:case TM:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Py(o,0):r,eT(i)?(n="",t!=null&&(n=t.replace(tT,"$&/")+"/"),Nf(i,e,n,"",function(u){return u})):i!=null&&(z0(i)&&(i=MM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(tT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",eT(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Py(s,a);o+=Nf(s,e,n,l,i)}else if(l=NM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Py(s,a++),o+=Nf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jh(t,e,n){if(t==null)return t;var r=[],i=0;return Nf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function VM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var An={current:null},Mf={transition:null},FM={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:Mf,ReactCurrentOwner:$0};function IA(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Jh,forEach:function(t,e,n){Jh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jh(t,function(){e++}),e},toArray:function(t){return Jh(t,function(e){return e})||[]},only:function(t){if(!z0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=ou;ge.Fragment=bM;ge.Profiler=AM;ge.PureComponent=j0;ge.StrictMode=RM;ge.Suspense=xM;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FM;ge.act=IA;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=yA({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=$0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)wA.call(e,l)&&!EA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Hd,type:t.type,key:i,ref:s,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:kM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PM,_context:t},t.Consumer=t};ge.createElement=SA;ge.createFactory=function(t){var e=SA.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:CM,render:t}};ge.isValidElement=z0;ge.lazy=function(t){return{$$typeof:DM,_payload:{_status:-1,_result:t},_init:VM}};ge.memo=function(t,e){return{$$typeof:OM,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Mf.transition;Mf.transition={};try{t()}finally{Mf.transition=e}};ge.unstable_act=IA;ge.useCallback=function(t,e){return An.current.useCallback(t,e)};ge.useContext=function(t){return An.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return An.current.useDeferredValue(t)};ge.useEffect=function(t,e){return An.current.useEffect(t,e)};ge.useId=function(){return An.current.useId()};ge.useImperativeHandle=function(t,e,n){return An.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return An.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return An.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return An.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return An.current.useReducer(t,e,n)};ge.useRef=function(t){return An.current.useRef(t)};ge.useState=function(t){return An.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return An.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return An.current.useTransition()};ge.version="18.3.1";mA.exports=ge;var U=mA.exports;const we=U0(U),gp=IM({__proto__:null,default:we},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UM=U,jM=Symbol.for("react.element"),BM=Symbol.for("react.fragment"),$M=Object.prototype.hasOwnProperty,zM=UM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WM={key:!0,ref:!0,__self:!0,__source:!0};function TA(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$M.call(e,r)&&!WM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jM,type:t,key:s,ref:o,props:i,_owner:zM.current}}Pm.Fragment=BM;Pm.jsx=TA;Pm.jsxs=TA;pA.exports=Pm;var P=pA.exports,bA={exports:{}},rr={},RA={exports:{}},AA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,se){var oe=Y.length;Y.push(se);e:for(;0<oe;){var pe=oe-1>>>1,xe=Y[pe];if(0<i(xe,se))Y[pe]=se,Y[oe]=xe,oe=pe;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var se=Y[0],oe=Y.pop();if(oe!==se){Y[0]=oe;e:for(var pe=0,xe=Y.length,Ye=xe>>>1;pe<Ye;){var wr=2*(pe+1)-1,Er=Y[wr],Sr=wr+1,Ir=Y[Sr];if(0>i(Er,oe))Sr<xe&&0>i(Ir,Er)?(Y[pe]=Ir,Y[Sr]=oe,pe=Sr):(Y[pe]=Er,Y[wr]=oe,pe=wr);else if(Sr<xe&&0>i(Ir,oe))Y[pe]=Ir,Y[Sr]=oe,pe=Sr;else break e}}return se}function i(Y,se){var oe=Y.sortIndex-se.sortIndex;return oe!==0?oe:Y.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,g=!1,_=!1,v=!1,I=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Y){for(var se=n(u);se!==null;){if(se.callback===null)r(u);else if(se.startTime<=Y)r(u),se.sortIndex=se.expirationTime,e(l,se);else break;se=n(u)}}function O(Y){if(v=!1,E(Y),!_)if(n(l)!==null)_=!0,Ot(x);else{var se=n(u);se!==null&&rt(O,se.startTime-Y)}}function x(Y,se){_=!1,v&&(v=!1,T(S),S=-1),g=!0;var oe=f;try{for(E(se),h=n(l);h!==null&&(!(h.expirationTime>se)||Y&&!C());){var pe=h.callback;if(typeof pe=="function"){h.callback=null,f=h.priorityLevel;var xe=pe(h.expirationTime<=se);se=t.unstable_now(),typeof xe=="function"?h.callback=xe:h===n(l)&&r(l),E(se)}else r(l);h=n(l)}if(h!==null)var Ye=!0;else{var wr=n(u);wr!==null&&rt(O,wr.startTime-se),Ye=!1}return Ye}finally{h=null,f=oe,g=!1}}var N=!1,b=null,S=-1,m=5,A=-1;function C(){return!(t.unstable_now()-A<m)}function D(){if(b!==null){var Y=t.unstable_now();A=Y;var se=!0;try{se=b(!0,Y)}finally{se?k():(N=!1,b=null)}}else N=!1}var k;if(typeof w=="function")k=function(){w(D)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,fe=Ee.port2;Ee.port1.onmessage=D,k=function(){fe.postMessage(null)}}else k=function(){I(D,0)};function Ot(Y){b=Y,N||(N=!0,k())}function rt(Y,se){S=I(function(){Y(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,Ot(x))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(f){case 1:case 2:case 3:var se=3;break;default:se=f}var oe=f;f=se;try{return Y()}finally{f=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var oe=f;f=Y;try{return se()}finally{f=oe}},t.unstable_scheduleCallback=function(Y,se,oe){var pe=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?pe+oe:pe):oe=pe,Y){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=oe+xe,Y={id:d++,callback:se,priorityLevel:Y,startTime:oe,expirationTime:xe,sortIndex:-1},oe>pe?(Y.sortIndex=oe,e(u,Y),n(l)===null&&Y===n(u)&&(v?(T(S),S=-1):v=!0,rt(O,oe-pe))):(Y.sortIndex=xe,e(l,Y),_||g||(_=!0,Ot(x))),Y},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(Y){var se=f;return function(){var oe=f;f=se;try{return Y.apply(this,arguments)}finally{f=oe}}}})(AA);RA.exports=AA;var qM=RA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HM=U,tr=qM;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PA=new Set,Jc={};function va(t,e){Ol(t,e),Ol(t+"Capture",e)}function Ol(t,e){for(Jc[t]=e,t=0;t<e.length;t++)PA.add(e[t])}var Hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),O_=Object.prototype.hasOwnProperty,GM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nT={},rT={};function KM(t){return O_.call(rT,t)?!0:O_.call(nT,t)?!1:GM.test(t)?rT[t]=!0:(nT[t]=!0,!1)}function YM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function QM(t,e,n,r){if(e===null||typeof e>"u"||YM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zt[t]=new Pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zt[e]=new Pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zt[t]=new Pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zt[t]=new Pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zt[t]=new Pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zt[t]=new Pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zt[t]=new Pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zt[t]=new Pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zt[t]=new Pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var W0=/[\-:]([a-z])/g;function q0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(W0,q0);Zt[e]=new Pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(W0,q0);Zt[e]=new Pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(W0,q0);Zt[e]=new Pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zt[t]=new Pn(t,1,!1,t.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zt[t]=new Pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function H0(t,e,n,r){var i=Zt.hasOwnProperty(e)?Zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(QM(e,n,i,r)&&(n=null),r||i===null?KM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ns=HM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xh=Symbol.for("react.element"),tl=Symbol.for("react.portal"),nl=Symbol.for("react.fragment"),G0=Symbol.for("react.strict_mode"),D_=Symbol.for("react.profiler"),kA=Symbol.for("react.provider"),CA=Symbol.for("react.context"),K0=Symbol.for("react.forward_ref"),N_=Symbol.for("react.suspense"),M_=Symbol.for("react.suspense_list"),Y0=Symbol.for("react.memo"),Ss=Symbol.for("react.lazy"),xA=Symbol.for("react.offscreen"),iT=Symbol.iterator;function Wu(t){return t===null||typeof t!="object"?null:(t=iT&&t[iT]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,ky;function pc(t){if(ky===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ky=e&&e[1]||""}return`
`+ky+t}var Cy=!1;function xy(t,e){if(!t||Cy)return"";Cy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Cy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pc(t):""}function JM(t){switch(t.tag){case 5:return pc(t.type);case 16:return pc("Lazy");case 13:return pc("Suspense");case 19:return pc("SuspenseList");case 0:case 2:case 15:return t=xy(t.type,!1),t;case 11:return t=xy(t.type.render,!1),t;case 1:return t=xy(t.type,!0),t;default:return""}}function L_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nl:return"Fragment";case tl:return"Portal";case D_:return"Profiler";case G0:return"StrictMode";case N_:return"Suspense";case M_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case CA:return(t.displayName||"Context")+".Consumer";case kA:return(t._context.displayName||"Context")+".Provider";case K0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y0:return e=t.displayName||null,e!==null?e:L_(t.type)||"Memo";case Ss:e=t._payload,t=t._init;try{return L_(t(e))}catch{}}return null}function XM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L_(e);case 8:return e===G0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZM(t){var e=OA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zh(t){t._valueTracker||(t._valueTracker=ZM(t))}function DA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function V_(t,e){var n=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NA(t,e){e=e.checked,e!=null&&H0(t,"checked",e,!1)}function F_(t,e){NA(t,e);var n=Gs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?U_(t,e.type,n):e.hasOwnProperty("defaultValue")&&U_(t,e.type,Gs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function oT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function U_(t,e,n){(e!=="number"||yp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mc=Array.isArray;function ml(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function j_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(mc(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gs(n)}}function MA(t,e){var n=Gs(e.value),r=Gs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function B_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ef,VA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ef=ef||document.createElement("div"),ef.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ef.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ac={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eL=["Webkit","ms","Moz","O"];Object.keys(Ac).forEach(function(t){eL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ac[e]=Ac[t]})});function FA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ac.hasOwnProperty(t)&&Ac[t]?(""+e).trim():e+"px"}function UA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=FA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var tL=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $_(t,e){if(e){if(tL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function z_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W_=null;function Q0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var q_=null,gl=null,yl=null;function uT(t){if(t=Yd(t)){if(typeof q_!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Dm(e),q_(t.stateNode,t.type,e))}}function jA(t){gl?yl?yl.push(t):yl=[t]:gl=t}function BA(){if(gl){var t=gl,e=yl;if(yl=gl=null,uT(t),e)for(t=0;t<e.length;t++)uT(e[t])}}function $A(t,e){return t(e)}function zA(){}var Oy=!1;function WA(t,e,n){if(Oy)return t(e,n);Oy=!0;try{return $A(t,e,n)}finally{Oy=!1,(gl!==null||yl!==null)&&(zA(),BA())}}function Zc(t,e){var n=t.stateNode;if(n===null)return null;var r=Dm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var H_=!1;if(Hi)try{var qu={};Object.defineProperty(qu,"passive",{get:function(){H_=!0}}),window.addEventListener("test",qu,qu),window.removeEventListener("test",qu,qu)}catch{H_=!1}function nL(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Pc=!1,_p=null,vp=!1,G_=null,rL={onError:function(t){Pc=!0,_p=t}};function iL(t,e,n,r,i,s,o,a,l){Pc=!1,_p=null,nL.apply(rL,arguments)}function sL(t,e,n,r,i,s,o,a,l){if(iL.apply(this,arguments),Pc){if(Pc){var u=_p;Pc=!1,_p=null}else throw Error(W(198));vp||(vp=!0,G_=u)}}function wa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cT(t){if(wa(t)!==t)throw Error(W(188))}function oL(t){var e=t.alternate;if(!e){if(e=wa(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return cT(i),t;if(s===r)return cT(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function HA(t){return t=oL(t),t!==null?GA(t):null}function GA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=GA(t);if(e!==null)return e;t=t.sibling}return null}var KA=tr.unstable_scheduleCallback,dT=tr.unstable_cancelCallback,aL=tr.unstable_shouldYield,lL=tr.unstable_requestPaint,Et=tr.unstable_now,uL=tr.unstable_getCurrentPriorityLevel,J0=tr.unstable_ImmediatePriority,YA=tr.unstable_UserBlockingPriority,wp=tr.unstable_NormalPriority,cL=tr.unstable_LowPriority,QA=tr.unstable_IdlePriority,km=null,ai=null;function dL(t){if(ai&&typeof ai.onCommitFiberRoot=="function")try{ai.onCommitFiberRoot(km,t,void 0,(t.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:pL,hL=Math.log,fL=Math.LN2;function pL(t){return t>>>=0,t===0?32:31-(hL(t)/fL|0)|0}var tf=64,nf=4194304;function gc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ep(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=gc(a):(s&=o,s!==0&&(r=gc(s)))}else o=n&~i,o!==0?r=gc(o):s!==0&&(r=gc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dr(e),i=1<<n,r|=t[n],e&=~i;return r}function mL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Dr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=mL(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function K_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JA(){var t=tf;return tf<<=1,!(tf&4194240)&&(tf=64),t}function Dy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dr(e),t[e]=n}function yL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Dr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function X0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function XA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ZA,Z0,eP,tP,nP,Y_=!1,rf=[],Ms=null,Ls=null,Vs=null,ed=new Map,td=new Map,Ts=[],_L="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hT(t,e){switch(t){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":ed.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":td.delete(e.pointerId)}}function Hu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Yd(e),e!==null&&Z0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vL(t,e,n,r,i){switch(e){case"focusin":return Ms=Hu(Ms,t,e,n,r,i),!0;case"dragenter":return Ls=Hu(Ls,t,e,n,r,i),!0;case"mouseover":return Vs=Hu(Vs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ed.set(s,Hu(ed.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,td.set(s,Hu(td.get(s)||null,t,e,n,r,i)),!0}return!1}function rP(t){var e=jo(t.target);if(e!==null){var n=wa(e);if(n!==null){if(e=n.tag,e===13){if(e=qA(n),e!==null){t.blockedOn=e,nP(t.priority,function(){eP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Q_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);W_=r,n.target.dispatchEvent(r),W_=null}else return e=Yd(n),e!==null&&Z0(e),t.blockedOn=n,!1;e.shift()}return!0}function fT(t,e,n){Lf(t)&&n.delete(e)}function wL(){Y_=!1,Ms!==null&&Lf(Ms)&&(Ms=null),Ls!==null&&Lf(Ls)&&(Ls=null),Vs!==null&&Lf(Vs)&&(Vs=null),ed.forEach(fT),td.forEach(fT)}function Gu(t,e){t.blockedOn===e&&(t.blockedOn=null,Y_||(Y_=!0,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,wL)))}function nd(t){function e(i){return Gu(i,t)}if(0<rf.length){Gu(rf[0],t);for(var n=1;n<rf.length;n++){var r=rf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ms!==null&&Gu(Ms,t),Ls!==null&&Gu(Ls,t),Vs!==null&&Gu(Vs,t),ed.forEach(e),td.forEach(e),n=0;n<Ts.length;n++)r=Ts[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ts.length&&(n=Ts[0],n.blockedOn===null);)rP(n),n.blockedOn===null&&Ts.shift()}var _l=ns.ReactCurrentBatchConfig,Sp=!0;function EL(t,e,n,r){var i=Ne,s=_l.transition;_l.transition=null;try{Ne=1,ew(t,e,n,r)}finally{Ne=i,_l.transition=s}}function SL(t,e,n,r){var i=Ne,s=_l.transition;_l.transition=null;try{Ne=4,ew(t,e,n,r)}finally{Ne=i,_l.transition=s}}function ew(t,e,n,r){if(Sp){var i=Q_(t,e,n,r);if(i===null)zy(t,e,r,Ip,n),hT(t,r);else if(vL(i,t,e,n,r))r.stopPropagation();else if(hT(t,r),e&4&&-1<_L.indexOf(t)){for(;i!==null;){var s=Yd(i);if(s!==null&&ZA(s),s=Q_(t,e,n,r),s===null&&zy(t,e,r,Ip,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else zy(t,e,r,null,n)}}var Ip=null;function Q_(t,e,n,r){if(Ip=null,t=Q0(r),t=jo(t),t!==null)if(e=wa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ip=t,null}function iP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uL()){case J0:return 1;case YA:return 4;case wp:case cL:return 16;case QA:return 536870912;default:return 16}default:return 16}}var Ps=null,tw=null,Vf=null;function sP(){if(Vf)return Vf;var t,e=tw,n=e.length,r,i="value"in Ps?Ps.value:Ps.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Vf=i.slice(t,1<r?1-r:void 0)}function Ff(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sf(){return!0}function pT(){return!1}function ir(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sf:pT,this.isPropagationStopped=pT,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sf)},persist:function(){},isPersistent:sf}),e}var au={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nw=ir(au),Kd=lt({},au,{view:0,detail:0}),IL=ir(Kd),Ny,My,Ku,Cm=lt({},Kd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ku&&(Ku&&t.type==="mousemove"?(Ny=t.screenX-Ku.screenX,My=t.screenY-Ku.screenY):My=Ny=0,Ku=t),Ny)},movementY:function(t){return"movementY"in t?t.movementY:My}}),mT=ir(Cm),TL=lt({},Cm,{dataTransfer:0}),bL=ir(TL),RL=lt({},Kd,{relatedTarget:0}),Ly=ir(RL),AL=lt({},au,{animationName:0,elapsedTime:0,pseudoElement:0}),PL=ir(AL),kL=lt({},au,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CL=ir(kL),xL=lt({},au,{data:0}),gT=ir(xL),OL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ML(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NL[t])?!!e[t]:!1}function rw(){return ML}var LL=lt({},Kd,{key:function(t){if(t.key){var e=OL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ff(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rw,charCode:function(t){return t.type==="keypress"?Ff(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ff(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VL=ir(LL),FL=lt({},Cm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yT=ir(FL),UL=lt({},Kd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rw}),jL=ir(UL),BL=lt({},au,{propertyName:0,elapsedTime:0,pseudoElement:0}),$L=ir(BL),zL=lt({},Cm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WL=ir(zL),qL=[9,13,27,32],iw=Hi&&"CompositionEvent"in window,kc=null;Hi&&"documentMode"in document&&(kc=document.documentMode);var HL=Hi&&"TextEvent"in window&&!kc,oP=Hi&&(!iw||kc&&8<kc&&11>=kc),_T=" ",vT=!1;function aP(t,e){switch(t){case"keyup":return qL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rl=!1;function GL(t,e){switch(t){case"compositionend":return lP(e);case"keypress":return e.which!==32?null:(vT=!0,_T);case"textInput":return t=e.data,t===_T&&vT?null:t;default:return null}}function KL(t,e){if(rl)return t==="compositionend"||!iw&&aP(t,e)?(t=sP(),Vf=tw=Ps=null,rl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return oP&&e.locale!=="ko"?null:e.data;default:return null}}var YL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!YL[t.type]:e==="textarea"}function uP(t,e,n,r){jA(r),e=Tp(e,"onChange"),0<e.length&&(n=new nw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Cc=null,rd=null;function QL(t){wP(t,0)}function xm(t){var e=ol(t);if(DA(e))return t}function JL(t,e){if(t==="change")return e}var cP=!1;if(Hi){var Vy;if(Hi){var Fy="oninput"in document;if(!Fy){var ET=document.createElement("div");ET.setAttribute("oninput","return;"),Fy=typeof ET.oninput=="function"}Vy=Fy}else Vy=!1;cP=Vy&&(!document.documentMode||9<document.documentMode)}function ST(){Cc&&(Cc.detachEvent("onpropertychange",dP),rd=Cc=null)}function dP(t){if(t.propertyName==="value"&&xm(rd)){var e=[];uP(e,rd,t,Q0(t)),WA(QL,e)}}function XL(t,e,n){t==="focusin"?(ST(),Cc=e,rd=n,Cc.attachEvent("onpropertychange",dP)):t==="focusout"&&ST()}function ZL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xm(rd)}function eV(t,e){if(t==="click")return xm(e)}function tV(t,e){if(t==="input"||t==="change")return xm(e)}function nV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lr=typeof Object.is=="function"?Object.is:nV;function id(t,e){if(Lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!O_.call(e,i)||!Lr(t[i],e[i]))return!1}return!0}function IT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function TT(t,e){var n=IT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=IT(n)}}function hP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fP(){for(var t=window,e=yp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yp(t.document)}return e}function sw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rV(t){var e=fP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hP(n.ownerDocument.documentElement,n)){if(r!==null&&sw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=TT(n,s);var o=TT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iV=Hi&&"documentMode"in document&&11>=document.documentMode,il=null,J_=null,xc=null,X_=!1;function bT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;X_||il==null||il!==yp(r)||(r=il,"selectionStart"in r&&sw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xc&&id(xc,r)||(xc=r,r=Tp(J_,"onSelect"),0<r.length&&(e=new nw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=il)))}function of(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sl={animationend:of("Animation","AnimationEnd"),animationiteration:of("Animation","AnimationIteration"),animationstart:of("Animation","AnimationStart"),transitionend:of("Transition","TransitionEnd")},Uy={},pP={};Hi&&(pP=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function Om(t){if(Uy[t])return Uy[t];if(!sl[t])return t;var e=sl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pP)return Uy[t]=e[n];return t}var mP=Om("animationend"),gP=Om("animationiteration"),yP=Om("animationstart"),_P=Om("transitionend"),vP=new Map,RT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uo(t,e){vP.set(t,e),va(e,[t])}for(var jy=0;jy<RT.length;jy++){var By=RT[jy],sV=By.toLowerCase(),oV=By[0].toUpperCase()+By.slice(1);uo(sV,"on"+oV)}uo(mP,"onAnimationEnd");uo(gP,"onAnimationIteration");uo(yP,"onAnimationStart");uo("dblclick","onDoubleClick");uo("focusin","onFocus");uo("focusout","onBlur");uo(_P,"onTransitionEnd");Ol("onMouseEnter",["mouseout","mouseover"]);Ol("onMouseLeave",["mouseout","mouseover"]);Ol("onPointerEnter",["pointerout","pointerover"]);Ol("onPointerLeave",["pointerout","pointerover"]);va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));va("onBeforeInput",["compositionend","keypress","textInput","paste"]);va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aV=new Set("cancel close invalid load scroll toggle".split(" ").concat(yc));function AT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sL(r,e,void 0,t),t.currentTarget=null}function wP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;AT(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;AT(i,a,u),s=l}}}if(vp)throw t=G_,vp=!1,G_=null,t}function We(t,e){var n=e[rv];n===void 0&&(n=e[rv]=new Set);var r=t+"__bubble";n.has(r)||(EP(e,t,2,!1),n.add(r))}function $y(t,e,n){var r=0;e&&(r|=4),EP(n,t,r,e)}var af="_reactListening"+Math.random().toString(36).slice(2);function sd(t){if(!t[af]){t[af]=!0,PA.forEach(function(n){n!=="selectionchange"&&(aV.has(n)||$y(n,!1,t),$y(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[af]||(e[af]=!0,$y("selectionchange",!1,e))}}function EP(t,e,n,r){switch(iP(e)){case 1:var i=EL;break;case 4:i=SL;break;default:i=ew}n=i.bind(null,e,n,t),i=void 0,!H_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function zy(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=jo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}WA(function(){var u=s,d=Q0(n),h=[];e:{var f=vP.get(t);if(f!==void 0){var g=nw,_=t;switch(t){case"keypress":if(Ff(n)===0)break e;case"keydown":case"keyup":g=VL;break;case"focusin":_="focus",g=Ly;break;case"focusout":_="blur",g=Ly;break;case"beforeblur":case"afterblur":g=Ly;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=mT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=bL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=jL;break;case mP:case gP:case yP:g=PL;break;case _P:g=$L;break;case"scroll":g=IL;break;case"wheel":g=WL;break;case"copy":case"cut":case"paste":g=CL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=yT}var v=(e&4)!==0,I=!v&&t==="scroll",T=v?f!==null?f+"Capture":null:f;v=[];for(var w=u,E;w!==null;){E=w;var O=E.stateNode;if(E.tag===5&&O!==null&&(E=O,T!==null&&(O=Zc(w,T),O!=null&&v.push(od(w,O,E)))),I)break;w=w.return}0<v.length&&(f=new g(f,_,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==W_&&(_=n.relatedTarget||n.fromElement)&&(jo(_)||_[Gi]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?jo(_):null,_!==null&&(I=wa(_),_!==I||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(v=mT,O="onMouseLeave",T="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=yT,O="onPointerLeave",T="onPointerEnter",w="pointer"),I=g==null?f:ol(g),E=_==null?f:ol(_),f=new v(O,w+"leave",g,n,d),f.target=I,f.relatedTarget=E,O=null,jo(d)===u&&(v=new v(T,w+"enter",_,n,d),v.target=E,v.relatedTarget=I,O=v),I=O,g&&_)t:{for(v=g,T=_,w=0,E=v;E;E=La(E))w++;for(E=0,O=T;O;O=La(O))E++;for(;0<w-E;)v=La(v),w--;for(;0<E-w;)T=La(T),E--;for(;w--;){if(v===T||T!==null&&v===T.alternate)break t;v=La(v),T=La(T)}v=null}else v=null;g!==null&&PT(h,f,g,v,!1),_!==null&&I!==null&&PT(h,I,_,v,!0)}}e:{if(f=u?ol(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var x=JL;else if(wT(f))if(cP)x=tV;else{x=ZL;var N=XL}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=eV);if(x&&(x=x(t,u))){uP(h,x,n,d);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&U_(f,"number",f.value)}switch(N=u?ol(u):window,t){case"focusin":(wT(N)||N.contentEditable==="true")&&(il=N,J_=u,xc=null);break;case"focusout":xc=J_=il=null;break;case"mousedown":X_=!0;break;case"contextmenu":case"mouseup":case"dragend":X_=!1,bT(h,n,d);break;case"selectionchange":if(iV)break;case"keydown":case"keyup":bT(h,n,d)}var b;if(iw)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else rl?aP(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(oP&&n.locale!=="ko"&&(rl||S!=="onCompositionStart"?S==="onCompositionEnd"&&rl&&(b=sP()):(Ps=d,tw="value"in Ps?Ps.value:Ps.textContent,rl=!0)),N=Tp(u,S),0<N.length&&(S=new gT(S,t,null,n,d),h.push({event:S,listeners:N}),b?S.data=b:(b=lP(n),b!==null&&(S.data=b)))),(b=HL?GL(t,n):KL(t,n))&&(u=Tp(u,"onBeforeInput"),0<u.length&&(d=new gT("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=b))}wP(h,e)})}function od(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Zc(t,n),s!=null&&r.unshift(od(t,s,i)),s=Zc(t,e),s!=null&&r.push(od(t,s,i))),t=t.return}return r}function La(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function PT(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Zc(n,s),l!=null&&o.unshift(od(n,l,a))):i||(l=Zc(n,s),l!=null&&o.push(od(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var lV=/\r\n?/g,uV=/\u0000|\uFFFD/g;function kT(t){return(typeof t=="string"?t:""+t).replace(lV,`
`).replace(uV,"")}function lf(t,e,n){if(e=kT(e),kT(t)!==e&&n)throw Error(W(425))}function bp(){}var Z_=null,ev=null;function tv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nv=typeof setTimeout=="function"?setTimeout:void 0,cV=typeof clearTimeout=="function"?clearTimeout:void 0,CT=typeof Promise=="function"?Promise:void 0,dV=typeof queueMicrotask=="function"?queueMicrotask:typeof CT<"u"?function(t){return CT.resolve(null).then(t).catch(hV)}:nv;function hV(t){setTimeout(function(){throw t})}function Wy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),nd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);nd(e)}function Fs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var lu=Math.random().toString(36).slice(2),Qr="__reactFiber$"+lu,ad="__reactProps$"+lu,Gi="__reactContainer$"+lu,rv="__reactEvents$"+lu,fV="__reactListeners$"+lu,pV="__reactHandles$"+lu;function jo(t){var e=t[Qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gi]||n[Qr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xT(t);t!==null;){if(n=t[Qr])return n;t=xT(t)}return e}t=n,n=t.parentNode}return null}function Yd(t){return t=t[Qr]||t[Gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ol(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Dm(t){return t[ad]||null}var iv=[],al=-1;function co(t){return{current:t}}function He(t){0>al||(t.current=iv[al],iv[al]=null,al--)}function Be(t,e){al++,iv[al]=t.current,t.current=e}var Ks={},fn=co(Ks),Vn=co(!1),ta=Ks;function Dl(t,e){var n=t.type.contextTypes;if(!n)return Ks;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Fn(t){return t=t.childContextTypes,t!=null}function Rp(){He(Vn),He(fn)}function OT(t,e,n){if(fn.current!==Ks)throw Error(W(168));Be(fn,e),Be(Vn,n)}function SP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,XM(t)||"Unknown",i));return lt({},n,r)}function Ap(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ks,ta=fn.current,Be(fn,t),Be(Vn,Vn.current),!0}function DT(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=SP(t,e,ta),r.__reactInternalMemoizedMergedChildContext=t,He(Vn),He(fn),Be(fn,t)):He(Vn),Be(Vn,n)}var Ci=null,Nm=!1,qy=!1;function IP(t){Ci===null?Ci=[t]:Ci.push(t)}function mV(t){Nm=!0,IP(t)}function ho(){if(!qy&&Ci!==null){qy=!0;var t=0,e=Ne;try{var n=Ci;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ci=null,Nm=!1}catch(i){throw Ci!==null&&(Ci=Ci.slice(t+1)),KA(J0,ho),i}finally{Ne=e,qy=!1}}return null}var ll=[],ul=0,Pp=null,kp=0,or=[],ar=0,na=null,Ni=1,Mi="";function ko(t,e){ll[ul++]=kp,ll[ul++]=Pp,Pp=t,kp=e}function TP(t,e,n){or[ar++]=Ni,or[ar++]=Mi,or[ar++]=na,na=t;var r=Ni;t=Mi;var i=32-Dr(r)-1;r&=~(1<<i),n+=1;var s=32-Dr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ni=1<<32-Dr(e)+i|n<<i|r,Mi=s+t}else Ni=1<<s|n<<i|r,Mi=t}function ow(t){t.return!==null&&(ko(t,1),TP(t,1,0))}function aw(t){for(;t===Pp;)Pp=ll[--ul],ll[ul]=null,kp=ll[--ul],ll[ul]=null;for(;t===na;)na=or[--ar],or[ar]=null,Mi=or[--ar],or[ar]=null,Ni=or[--ar],or[ar]=null}var Jn=null,Yn=null,Ze=!1,xr=null;function bP(t,e){var n=cr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function NT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jn=t,Yn=Fs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jn=t,Yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=na!==null?{id:Ni,overflow:Mi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jn=t,Yn=null,!0):!1;default:return!1}}function sv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ov(t){if(Ze){var e=Yn;if(e){var n=e;if(!NT(t,e)){if(sv(t))throw Error(W(418));e=Fs(n.nextSibling);var r=Jn;e&&NT(t,e)?bP(r,n):(t.flags=t.flags&-4097|2,Ze=!1,Jn=t)}}else{if(sv(t))throw Error(W(418));t.flags=t.flags&-4097|2,Ze=!1,Jn=t}}}function MT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jn=t}function uf(t){if(t!==Jn)return!1;if(!Ze)return MT(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tv(t.type,t.memoizedProps)),e&&(e=Yn)){if(sv(t))throw RP(),Error(W(418));for(;e;)bP(t,e),e=Fs(e.nextSibling)}if(MT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yn=Fs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yn=null}}else Yn=Jn?Fs(t.stateNode.nextSibling):null;return!0}function RP(){for(var t=Yn;t;)t=Fs(t.nextSibling)}function Nl(){Yn=Jn=null,Ze=!1}function lw(t){xr===null?xr=[t]:xr.push(t)}var gV=ns.ReactCurrentBatchConfig;function Yu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function cf(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function LT(t){var e=t._init;return e(t._payload)}function AP(t){function e(T,w){if(t){var E=T.deletions;E===null?(T.deletions=[w],T.flags|=16):E.push(w)}}function n(T,w){if(!t)return null;for(;w!==null;)e(T,w),w=w.sibling;return null}function r(T,w){for(T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function i(T,w){return T=$s(T,w),T.index=0,T.sibling=null,T}function s(T,w,E){return T.index=E,t?(E=T.alternate,E!==null?(E=E.index,E<w?(T.flags|=2,w):E):(T.flags|=2,w)):(T.flags|=1048576,w)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,w,E,O){return w===null||w.tag!==6?(w=Xy(E,T.mode,O),w.return=T,w):(w=i(w,E),w.return=T,w)}function l(T,w,E,O){var x=E.type;return x===nl?d(T,w,E.props.children,O,E.key):w!==null&&(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ss&&LT(x)===w.type)?(O=i(w,E.props),O.ref=Yu(T,w,E),O.return=T,O):(O=qf(E.type,E.key,E.props,null,T.mode,O),O.ref=Yu(T,w,E),O.return=T,O)}function u(T,w,E,O){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=Zy(E,T.mode,O),w.return=T,w):(w=i(w,E.children||[]),w.return=T,w)}function d(T,w,E,O,x){return w===null||w.tag!==7?(w=Yo(E,T.mode,O,x),w.return=T,w):(w=i(w,E),w.return=T,w)}function h(T,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Xy(""+w,T.mode,E),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xh:return E=qf(w.type,w.key,w.props,null,T.mode,E),E.ref=Yu(T,null,w),E.return=T,E;case tl:return w=Zy(w,T.mode,E),w.return=T,w;case Ss:var O=w._init;return h(T,O(w._payload),E)}if(mc(w)||Wu(w))return w=Yo(w,T.mode,E,null),w.return=T,w;cf(T,w)}return null}function f(T,w,E,O){var x=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return x!==null?null:a(T,w,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Xh:return E.key===x?l(T,w,E,O):null;case tl:return E.key===x?u(T,w,E,O):null;case Ss:return x=E._init,f(T,w,x(E._payload),O)}if(mc(E)||Wu(E))return x!==null?null:d(T,w,E,O,null);cf(T,E)}return null}function g(T,w,E,O,x){if(typeof O=="string"&&O!==""||typeof O=="number")return T=T.get(E)||null,a(w,T,""+O,x);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Xh:return T=T.get(O.key===null?E:O.key)||null,l(w,T,O,x);case tl:return T=T.get(O.key===null?E:O.key)||null,u(w,T,O,x);case Ss:var N=O._init;return g(T,w,E,N(O._payload),x)}if(mc(O)||Wu(O))return T=T.get(E)||null,d(w,T,O,x,null);cf(w,O)}return null}function _(T,w,E,O){for(var x=null,N=null,b=w,S=w=0,m=null;b!==null&&S<E.length;S++){b.index>S?(m=b,b=null):m=b.sibling;var A=f(T,b,E[S],O);if(A===null){b===null&&(b=m);break}t&&b&&A.alternate===null&&e(T,b),w=s(A,w,S),N===null?x=A:N.sibling=A,N=A,b=m}if(S===E.length)return n(T,b),Ze&&ko(T,S),x;if(b===null){for(;S<E.length;S++)b=h(T,E[S],O),b!==null&&(w=s(b,w,S),N===null?x=b:N.sibling=b,N=b);return Ze&&ko(T,S),x}for(b=r(T,b);S<E.length;S++)m=g(b,T,S,E[S],O),m!==null&&(t&&m.alternate!==null&&b.delete(m.key===null?S:m.key),w=s(m,w,S),N===null?x=m:N.sibling=m,N=m);return t&&b.forEach(function(C){return e(T,C)}),Ze&&ko(T,S),x}function v(T,w,E,O){var x=Wu(E);if(typeof x!="function")throw Error(W(150));if(E=x.call(E),E==null)throw Error(W(151));for(var N=x=null,b=w,S=w=0,m=null,A=E.next();b!==null&&!A.done;S++,A=E.next()){b.index>S?(m=b,b=null):m=b.sibling;var C=f(T,b,A.value,O);if(C===null){b===null&&(b=m);break}t&&b&&C.alternate===null&&e(T,b),w=s(C,w,S),N===null?x=C:N.sibling=C,N=C,b=m}if(A.done)return n(T,b),Ze&&ko(T,S),x;if(b===null){for(;!A.done;S++,A=E.next())A=h(T,A.value,O),A!==null&&(w=s(A,w,S),N===null?x=A:N.sibling=A,N=A);return Ze&&ko(T,S),x}for(b=r(T,b);!A.done;S++,A=E.next())A=g(b,T,S,A.value,O),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?S:A.key),w=s(A,w,S),N===null?x=A:N.sibling=A,N=A);return t&&b.forEach(function(D){return e(T,D)}),Ze&&ko(T,S),x}function I(T,w,E,O){if(typeof E=="object"&&E!==null&&E.type===nl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Xh:e:{for(var x=E.key,N=w;N!==null;){if(N.key===x){if(x=E.type,x===nl){if(N.tag===7){n(T,N.sibling),w=i(N,E.props.children),w.return=T,T=w;break e}}else if(N.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ss&&LT(x)===N.type){n(T,N.sibling),w=i(N,E.props),w.ref=Yu(T,N,E),w.return=T,T=w;break e}n(T,N);break}else e(T,N);N=N.sibling}E.type===nl?(w=Yo(E.props.children,T.mode,O,E.key),w.return=T,T=w):(O=qf(E.type,E.key,E.props,null,T.mode,O),O.ref=Yu(T,w,E),O.return=T,T=O)}return o(T);case tl:e:{for(N=E.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(T,w.sibling),w=i(w,E.children||[]),w.return=T,T=w;break e}else{n(T,w);break}else e(T,w);w=w.sibling}w=Zy(E,T.mode,O),w.return=T,T=w}return o(T);case Ss:return N=E._init,I(T,w,N(E._payload),O)}if(mc(E))return _(T,w,E,O);if(Wu(E))return v(T,w,E,O);cf(T,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(T,w.sibling),w=i(w,E),w.return=T,T=w):(n(T,w),w=Xy(E,T.mode,O),w.return=T,T=w),o(T)):n(T,w)}return I}var Ml=AP(!0),PP=AP(!1),Cp=co(null),xp=null,cl=null,uw=null;function cw(){uw=cl=xp=null}function dw(t){var e=Cp.current;He(Cp),t._currentValue=e}function av(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vl(t,e){xp=t,uw=cl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dn=!0),t.firstContext=null)}function pr(t){var e=t._currentValue;if(uw!==t)if(t={context:t,memoizedValue:e,next:null},cl===null){if(xp===null)throw Error(W(308));cl=t,xp.dependencies={lanes:0,firstContext:t}}else cl=cl.next=t;return e}var Bo=null;function hw(t){Bo===null?Bo=[t]:Bo.push(t)}function kP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ki(t,r)}function Ki(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Is=!1;function fw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ki(t,n)}return i=r.interleaved,i===null?(e.next=e,hw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ki(t,n)}function Uf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,X0(t,n)}}function VT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Op(t,e,n,r){var i=t.updateQueue;Is=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,v=a;switch(f=e,g=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){h=_.call(g,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,f=typeof _=="function"?_.call(g,h,f):_,f==null)break e;h=lt({},h,f);break e;case 2:Is=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ia|=o,t.lanes=o,t.memoizedState=h}}function FT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Qd={},li=co(Qd),ld=co(Qd),ud=co(Qd);function $o(t){if(t===Qd)throw Error(W(174));return t}function pw(t,e){switch(Be(ud,e),Be(ld,t),Be(li,Qd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:B_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=B_(e,t)}He(li),Be(li,e)}function Ll(){He(li),He(ld),He(ud)}function xP(t){$o(ud.current);var e=$o(li.current),n=B_(e,t.type);e!==n&&(Be(ld,t),Be(li,n))}function mw(t){ld.current===t&&(He(li),He(ld))}var st=co(0);function Dp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hy=[];function gw(){for(var t=0;t<Hy.length;t++)Hy[t]._workInProgressVersionPrimary=null;Hy.length=0}var jf=ns.ReactCurrentDispatcher,Gy=ns.ReactCurrentBatchConfig,ra=0,ot=null,Dt=null,Bt=null,Np=!1,Oc=!1,cd=0,yV=0;function rn(){throw Error(W(321))}function yw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lr(t[n],e[n]))return!1;return!0}function _w(t,e,n,r,i,s){if(ra=s,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jf.current=t===null||t.memoizedState===null?EV:SV,t=n(r,i),Oc){s=0;do{if(Oc=!1,cd=0,25<=s)throw Error(W(301));s+=1,Bt=Dt=null,e.updateQueue=null,jf.current=IV,t=n(r,i)}while(Oc)}if(jf.current=Mp,e=Dt!==null&&Dt.next!==null,ra=0,Bt=Dt=ot=null,Np=!1,e)throw Error(W(300));return t}function vw(){var t=cd!==0;return cd=0,t}function Gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?ot.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function mr(){if(Dt===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=Bt===null?ot.memoizedState:Bt.next;if(e!==null)Bt=e,Dt=t;else{if(t===null)throw Error(W(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Bt===null?ot.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function dd(t,e){return typeof e=="function"?e(t):e}function Ky(t){var e=mr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Dt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((ra&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ot.lanes|=d,ia|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Lr(r,e.memoizedState)||(Dn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ot.lanes|=s,ia|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yy(t){var e=mr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Lr(s,e.memoizedState)||(Dn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function OP(){}function DP(t,e){var n=ot,r=mr(),i=e(),s=!Lr(r.memoizedState,i);if(s&&(r.memoizedState=i,Dn=!0),r=r.queue,ww(LP.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Bt!==null&&Bt.memoizedState.tag&1){if(n.flags|=2048,hd(9,MP.bind(null,n,r,i,e),void 0,null),zt===null)throw Error(W(349));ra&30||NP(n,e,i)}return i}function NP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function MP(t,e,n,r){e.value=n,e.getSnapshot=r,VP(e)&&FP(t)}function LP(t,e,n){return n(function(){VP(e)&&FP(t)})}function VP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lr(t,n)}catch{return!0}}function FP(t){var e=Ki(t,1);e!==null&&Nr(e,t,1,-1)}function UT(t){var e=Gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dd,lastRenderedState:t},e.queue=t,t=t.dispatch=wV.bind(null,ot,t),[e.memoizedState,t]}function hd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function UP(){return mr().memoizedState}function Bf(t,e,n,r){var i=Gr();ot.flags|=t,i.memoizedState=hd(1|e,n,void 0,r===void 0?null:r)}function Mm(t,e,n,r){var i=mr();r=r===void 0?null:r;var s=void 0;if(Dt!==null){var o=Dt.memoizedState;if(s=o.destroy,r!==null&&yw(r,o.deps)){i.memoizedState=hd(e,n,s,r);return}}ot.flags|=t,i.memoizedState=hd(1|e,n,s,r)}function jT(t,e){return Bf(8390656,8,t,e)}function ww(t,e){return Mm(2048,8,t,e)}function jP(t,e){return Mm(4,2,t,e)}function BP(t,e){return Mm(4,4,t,e)}function $P(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zP(t,e,n){return n=n!=null?n.concat([t]):null,Mm(4,4,$P.bind(null,e,t),n)}function Ew(){}function WP(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qP(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function HP(t,e,n){return ra&21?(Lr(n,e)||(n=JA(),ot.lanes|=n,ia|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dn=!0),t.memoizedState=n)}function _V(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=Gy.transition;Gy.transition={};try{t(!1),e()}finally{Ne=n,Gy.transition=r}}function GP(){return mr().memoizedState}function vV(t,e,n){var r=Bs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KP(t))YP(e,n);else if(n=kP(t,e,n,r),n!==null){var i=Sn();Nr(n,t,r,i),QP(n,e,r)}}function wV(t,e,n){var r=Bs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KP(t))YP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Lr(a,o)){var l=e.interleaved;l===null?(i.next=i,hw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=kP(t,e,i,r),n!==null&&(i=Sn(),Nr(n,t,r,i),QP(n,e,r))}}function KP(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function YP(t,e){Oc=Np=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,X0(t,n)}}var Mp={readContext:pr,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},EV={readContext:pr,useCallback:function(t,e){return Gr().memoizedState=[t,e===void 0?null:e],t},useContext:pr,useEffect:jT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bf(4194308,4,$P.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bf(4,2,t,e)},useMemo:function(t,e){var n=Gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vV.bind(null,ot,t),[r.memoizedState,t]},useRef:function(t){var e=Gr();return t={current:t},e.memoizedState=t},useState:UT,useDebugValue:Ew,useDeferredValue:function(t){return Gr().memoizedState=t},useTransition:function(){var t=UT(!1),e=t[0];return t=_V.bind(null,t[1]),Gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ot,i=Gr();if(Ze){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),zt===null)throw Error(W(349));ra&30||NP(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,jT(LP.bind(null,r,s,t),[t]),r.flags|=2048,hd(9,MP.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Gr(),e=zt.identifierPrefix;if(Ze){var n=Mi,r=Ni;n=(r&~(1<<32-Dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SV={readContext:pr,useCallback:WP,useContext:pr,useEffect:ww,useImperativeHandle:zP,useInsertionEffect:jP,useLayoutEffect:BP,useMemo:qP,useReducer:Ky,useRef:UP,useState:function(){return Ky(dd)},useDebugValue:Ew,useDeferredValue:function(t){var e=mr();return HP(e,Dt.memoizedState,t)},useTransition:function(){var t=Ky(dd)[0],e=mr().memoizedState;return[t,e]},useMutableSource:OP,useSyncExternalStore:DP,useId:GP,unstable_isNewReconciler:!1},IV={readContext:pr,useCallback:WP,useContext:pr,useEffect:ww,useImperativeHandle:zP,useInsertionEffect:jP,useLayoutEffect:BP,useMemo:qP,useReducer:Yy,useRef:UP,useState:function(){return Yy(dd)},useDebugValue:Ew,useDeferredValue:function(t){var e=mr();return Dt===null?e.memoizedState=t:HP(e,Dt.memoizedState,t)},useTransition:function(){var t=Yy(dd)[0],e=mr().memoizedState;return[t,e]},useMutableSource:OP,useSyncExternalStore:DP,useId:GP,unstable_isNewReconciler:!1};function kr(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function lv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lm={isMounted:function(t){return(t=t._reactInternals)?wa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=Bs(t),s=$i(r,i);s.payload=e,n!=null&&(s.callback=n),e=Us(t,s,i),e!==null&&(Nr(e,t,i,r),Uf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=Bs(t),s=$i(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Us(t,s,i),e!==null&&(Nr(e,t,i,r),Uf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Sn(),r=Bs(t),i=$i(n,r);i.tag=2,e!=null&&(i.callback=e),e=Us(t,i,r),e!==null&&(Nr(e,t,r,n),Uf(e,t,r))}};function BT(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!id(n,r)||!id(i,s):!0}function JP(t,e,n){var r=!1,i=Ks,s=e.contextType;return typeof s=="object"&&s!==null?s=pr(s):(i=Fn(e)?ta:fn.current,r=e.contextTypes,s=(r=r!=null)?Dl(t,i):Ks),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function $T(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Lm.enqueueReplaceState(e,e.state,null)}function uv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},fw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=pr(s):(s=Fn(e)?ta:fn.current,i.context=Dl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(lv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Lm.enqueueReplaceState(i,i.state,null),Op(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vl(t,e){try{var n="",r=e;do n+=JM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Qy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TV=typeof WeakMap=="function"?WeakMap:Map;function XP(t,e,n){n=$i(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vp||(Vp=!0,wv=r),cv(t,e)},n}function ZP(t,e,n){n=$i(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){cv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){cv(t,e),typeof r!="function"&&(js===null?js=new Set([this]):js.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function zT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=FV.bind(null,t,e,n),e.then(t,t))}function WT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$i(-1,1),e.tag=2,Us(n,e,1))),n.lanes|=1),t)}var bV=ns.ReactCurrentOwner,Dn=!1;function vn(t,e,n,r){e.child=t===null?PP(e,null,n,r):Ml(e,t.child,n,r)}function HT(t,e,n,r,i){n=n.render;var s=e.ref;return vl(e,i),r=_w(t,e,n,r,s,i),n=vw(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yi(t,e,i)):(Ze&&n&&ow(e),e.flags|=1,vn(t,e,r,i),e.child)}function GT(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!kw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ek(t,e,s,r,i)):(t=qf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:id,n(o,r)&&t.ref===e.ref)return Yi(t,e,i)}return e.flags|=1,t=$s(s,r),t.ref=e.ref,t.return=e,e.child=t}function ek(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(id(s,r)&&t.ref===e.ref)if(Dn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Dn=!0);else return e.lanes=t.lanes,Yi(t,e,i)}return dv(t,e,n,r,i)}function tk(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(hl,qn),qn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(hl,qn),qn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Be(hl,qn),qn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Be(hl,qn),qn|=r;return vn(t,e,i,n),e.child}function nk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dv(t,e,n,r,i){var s=Fn(n)?ta:fn.current;return s=Dl(e,s),vl(e,i),n=_w(t,e,n,r,s,i),r=vw(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yi(t,e,i)):(Ze&&r&&ow(e),e.flags|=1,vn(t,e,n,i),e.child)}function KT(t,e,n,r,i){if(Fn(n)){var s=!0;Ap(e)}else s=!1;if(vl(e,i),e.stateNode===null)$f(t,e),JP(e,n,r),uv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=pr(u):(u=Fn(n)?ta:fn.current,u=Dl(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&$T(e,o,r,u),Is=!1;var f=e.memoizedState;o.state=f,Op(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Vn.current||Is?(typeof d=="function"&&(lv(e,n,d,r),l=e.memoizedState),(a=Is||BT(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,CP(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:kr(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=pr(l):(l=Fn(n)?ta:fn.current,l=Dl(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&$T(e,o,r,l),Is=!1,f=e.memoizedState,o.state=f,Op(e,r,o,i);var _=e.memoizedState;a!==h||f!==_||Vn.current||Is?(typeof g=="function"&&(lv(e,n,g,r),_=e.memoizedState),(u=Is||BT(e,n,u,r,f,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return hv(t,e,n,r,s,i)}function hv(t,e,n,r,i,s){nk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&DT(e,n,!1),Yi(t,e,s);r=e.stateNode,bV.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ml(e,t.child,null,s),e.child=Ml(e,null,a,s)):vn(t,e,a,s),e.memoizedState=r.state,i&&DT(e,n,!0),e.child}function rk(t){var e=t.stateNode;e.pendingContext?OT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&OT(t,e.context,!1),pw(t,e.containerInfo)}function YT(t,e,n,r,i){return Nl(),lw(i),e.flags|=256,vn(t,e,n,r),e.child}var fv={dehydrated:null,treeContext:null,retryLane:0};function pv(t){return{baseLanes:t,cachePool:null,transitions:null}}function ik(t,e,n){var r=e.pendingProps,i=st.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(st,i&1),t===null)return ov(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Um(o,r,0,null),t=Yo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=pv(n),e.memoizedState=fv,t):Sw(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return RV(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$s(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=$s(a,s):(s=Yo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?pv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=fv,r}return s=t.child,t=s.sibling,r=$s(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sw(t,e){return e=Um({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function df(t,e,n,r){return r!==null&&lw(r),Ml(e,t.child,null,n),t=Sw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function RV(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Qy(Error(W(422))),df(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Um({mode:"visible",children:r.children},i,0,null),s=Yo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ml(e,t.child,null,o),e.child.memoizedState=pv(o),e.memoizedState=fv,s);if(!(e.mode&1))return df(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=Qy(s,r,void 0),df(t,e,o,r)}if(a=(o&t.childLanes)!==0,Dn||a){if(r=zt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ki(t,i),Nr(r,t,i,-1))}return Pw(),r=Qy(Error(W(421))),df(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=UV.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Yn=Fs(i.nextSibling),Jn=e,Ze=!0,xr=null,t!==null&&(or[ar++]=Ni,or[ar++]=Mi,or[ar++]=na,Ni=t.id,Mi=t.overflow,na=e),e=Sw(e,r.children),e.flags|=4096,e)}function QT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),av(t.return,e,n)}function Jy(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function sk(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(vn(t,e,r.children,n),r=st.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&QT(t,n,e);else if(t.tag===19)QT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(st,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Jy(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Jy(e,!0,n,null,s);break;case"together":Jy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $f(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ia|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=$s(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$s(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AV(t,e,n){switch(e.tag){case 3:rk(e),Nl();break;case 5:xP(e);break;case 1:Fn(e.type)&&Ap(e);break;case 4:pw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(Cp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(st,st.current&1),e.flags|=128,null):n&e.child.childLanes?ik(t,e,n):(Be(st,st.current&1),t=Yi(t,e,n),t!==null?t.sibling:null);Be(st,st.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(st,st.current),r)break;return null;case 22:case 23:return e.lanes=0,tk(t,e,n)}return Yi(t,e,n)}var ok,mv,ak,lk;ok=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mv=function(){};ak=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$o(li.current);var s=null;switch(n){case"input":i=V_(t,i),r=V_(t,r),s=[];break;case"select":i=lt({},i,{value:void 0}),r=lt({},r,{value:void 0}),s=[];break;case"textarea":i=j_(t,i),r=j_(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bp)}$_(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&We("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};lk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qu(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PV(t,e,n){var r=e.pendingProps;switch(aw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(e),null;case 1:return Fn(e.type)&&Rp(),sn(e),null;case 3:return r=e.stateNode,Ll(),He(Vn),He(fn),gw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(uf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xr!==null&&(Iv(xr),xr=null))),mv(t,e),sn(e),null;case 5:mw(e);var i=$o(ud.current);if(n=e.type,t!==null&&e.stateNode!=null)ak(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return sn(e),null}if(t=$o(li.current),uf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Qr]=e,r[ad]=s,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<yc.length;i++)We(yc[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":sT(r,s),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},We("invalid",r);break;case"textarea":aT(r,s),We("invalid",r)}$_(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&lf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&lf(r.textContent,a,t),i=["children",""+a]):Jc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&We("scroll",r)}switch(n){case"input":Zh(r),oT(r,s,!0);break;case"textarea":Zh(r),lT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=bp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qr]=e,t[ad]=r,ok(t,e,!1,!1),e.stateNode=t;e:{switch(o=z_(n,r),n){case"dialog":We("cancel",t),We("close",t),i=r;break;case"iframe":case"object":case"embed":We("load",t),i=r;break;case"video":case"audio":for(i=0;i<yc.length;i++)We(yc[i],t);i=r;break;case"source":We("error",t),i=r;break;case"img":case"image":case"link":We("error",t),We("load",t),i=r;break;case"details":We("toggle",t),i=r;break;case"input":sT(t,r),i=V_(t,r),We("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=lt({},r,{value:void 0}),We("invalid",t);break;case"textarea":aT(t,r),i=j_(t,r),We("invalid",t);break;default:i=r}$_(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?UA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&VA(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xc(t,l):typeof l=="number"&&Xc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Jc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&We("scroll",t):l!=null&&H0(t,s,l,o))}switch(n){case"input":Zh(t),oT(t,r,!1);break;case"textarea":Zh(t),lT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ml(t,!!r.multiple,s,!1):r.defaultValue!=null&&ml(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sn(e),null;case 6:if(t&&e.stateNode!=null)lk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=$o(ud.current),$o(li.current),uf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qr]=e,(s=r.nodeValue!==n)&&(t=Jn,t!==null))switch(t.tag){case 3:lf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qr]=e,e.stateNode=r}return sn(e),null;case 13:if(He(st),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&Yn!==null&&e.mode&1&&!(e.flags&128))RP(),Nl(),e.flags|=98560,s=!1;else if(s=uf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Qr]=e}else Nl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sn(e),s=!1}else xr!==null&&(Iv(xr),xr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||st.current&1?Nt===0&&(Nt=3):Pw())),e.updateQueue!==null&&(e.flags|=4),sn(e),null);case 4:return Ll(),mv(t,e),t===null&&sd(e.stateNode.containerInfo),sn(e),null;case 10:return dw(e.type._context),sn(e),null;case 17:return Fn(e.type)&&Rp(),sn(e),null;case 19:if(He(st),s=e.memoizedState,s===null)return sn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Qu(s,!1);else{if(Nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dp(t),o!==null){for(e.flags|=128,Qu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(st,st.current&1|2),e.child}t=t.sibling}s.tail!==null&&Et()>Fl&&(e.flags|=128,r=!0,Qu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Dp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ze)return sn(e),null}else 2*Et()-s.renderingStartTime>Fl&&n!==1073741824&&(e.flags|=128,r=!0,Qu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Et(),e.sibling=null,n=st.current,Be(st,r?n&1|2:n&1),e):(sn(e),null);case 22:case 23:return Aw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qn&1073741824&&(sn(e),e.subtreeFlags&6&&(e.flags|=8192)):sn(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function kV(t,e){switch(aw(e),e.tag){case 1:return Fn(e.type)&&Rp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ll(),He(Vn),He(fn),gw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mw(e),null;case 13:if(He(st),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Nl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(st),null;case 4:return Ll(),null;case 10:return dw(e.type._context),null;case 22:case 23:return Aw(),null;case 24:return null;default:return null}}var hf=!1,un=!1,CV=typeof WeakSet=="function"?WeakSet:Set,ee=null;function dl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(t,e,r)}else n.current=null}function gv(t,e,n){try{n()}catch(r){pt(t,e,r)}}var JT=!1;function xV(t,e){if(Z_=Sp,t=fP(),sw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ev={focusedElem:t,selectionRange:n},Sp=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,I=_.memoizedState,T=e.stateNode,w=T.getSnapshotBeforeUpdate(e.elementType===e.type?v:kr(e.type,v),I);T.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(O){pt(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return _=JT,JT=!1,_}function Dc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&gv(e,n,s)}i=i.next}while(i!==r)}}function Vm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function uk(t){var e=t.alternate;e!==null&&(t.alternate=null,uk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qr],delete e[ad],delete e[rv],delete e[fV],delete e[pV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ck(t){return t.tag===5||t.tag===3||t.tag===4}function XT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ck(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _v(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bp));else if(r!==4&&(t=t.child,t!==null))for(_v(t,e,n),t=t.sibling;t!==null;)_v(t,e,n),t=t.sibling}function vv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vv(t,e,n),t=t.sibling;t!==null;)vv(t,e,n),t=t.sibling}var Gt=null,Cr=!1;function ms(t,e,n){for(n=n.child;n!==null;)dk(t,e,n),n=n.sibling}function dk(t,e,n){if(ai&&typeof ai.onCommitFiberUnmount=="function")try{ai.onCommitFiberUnmount(km,n)}catch{}switch(n.tag){case 5:un||dl(n,e);case 6:var r=Gt,i=Cr;Gt=null,ms(t,e,n),Gt=r,Cr=i,Gt!==null&&(Cr?(t=Gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Gt.removeChild(n.stateNode));break;case 18:Gt!==null&&(Cr?(t=Gt,n=n.stateNode,t.nodeType===8?Wy(t.parentNode,n):t.nodeType===1&&Wy(t,n),nd(t)):Wy(Gt,n.stateNode));break;case 4:r=Gt,i=Cr,Gt=n.stateNode.containerInfo,Cr=!0,ms(t,e,n),Gt=r,Cr=i;break;case 0:case 11:case 14:case 15:if(!un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&gv(n,e,o),i=i.next}while(i!==r)}ms(t,e,n);break;case 1:if(!un&&(dl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pt(n,e,a)}ms(t,e,n);break;case 21:ms(t,e,n);break;case 22:n.mode&1?(un=(r=un)||n.memoizedState!==null,ms(t,e,n),un=r):ms(t,e,n);break;default:ms(t,e,n)}}function ZT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new CV),e.forEach(function(r){var i=jV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Gt=a.stateNode,Cr=!1;break e;case 3:Gt=a.stateNode.containerInfo,Cr=!0;break e;case 4:Gt=a.stateNode.containerInfo,Cr=!0;break e}a=a.return}if(Gt===null)throw Error(W(160));dk(s,o,i),Gt=null,Cr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){pt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hk(e,t),e=e.sibling}function hk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rr(e,t),zr(t),r&4){try{Dc(3,t,t.return),Vm(3,t)}catch(v){pt(t,t.return,v)}try{Dc(5,t,t.return)}catch(v){pt(t,t.return,v)}}break;case 1:Rr(e,t),zr(t),r&512&&n!==null&&dl(n,n.return);break;case 5:if(Rr(e,t),zr(t),r&512&&n!==null&&dl(n,n.return),t.flags&32){var i=t.stateNode;try{Xc(i,"")}catch(v){pt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&NA(i,s),z_(a,o);var u=z_(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?UA(i,h):d==="dangerouslySetInnerHTML"?VA(i,h):d==="children"?Xc(i,h):H0(i,d,h,u)}switch(a){case"input":F_(i,s);break;case"textarea":MA(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?ml(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?ml(i,!!s.multiple,s.defaultValue,!0):ml(i,!!s.multiple,s.multiple?[]:"",!1))}i[ad]=s}catch(v){pt(t,t.return,v)}}break;case 6:if(Rr(e,t),zr(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){pt(t,t.return,v)}}break;case 3:if(Rr(e,t),zr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nd(e.containerInfo)}catch(v){pt(t,t.return,v)}break;case 4:Rr(e,t),zr(t);break;case 13:Rr(e,t),zr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(bw=Et())),r&4&&ZT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(un=(u=un)||d,Rr(e,t),un=u):Rr(e,t),zr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ee=t,d=t.child;d!==null;){for(h=ee=d;ee!==null;){switch(f=ee,g=f.child,f.tag){case 0:case 11:case 14:case 15:Dc(4,f,f.return);break;case 1:dl(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){pt(r,n,v)}}break;case 5:dl(f,f.return);break;case 22:if(f.memoizedState!==null){t1(h);continue}}g!==null?(g.return=f,ee=g):t1(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=FA("display",o))}catch(v){pt(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){pt(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Rr(e,t),zr(t),r&4&&ZT(t);break;case 21:break;default:Rr(e,t),zr(t)}}function zr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ck(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xc(i,""),r.flags&=-33);var s=XT(t);vv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=XT(t);_v(t,a,o);break;default:throw Error(W(161))}}catch(l){pt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OV(t,e,n){ee=t,fk(t)}function fk(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var i=ee,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hf;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||un;a=hf;var u=un;if(hf=o,(un=l)&&!u)for(ee=i;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?n1(i):l!==null?(l.return=o,ee=l):n1(i);for(;s!==null;)ee=s,fk(s),s=s.sibling;ee=i,hf=a,un=u}e1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ee=s):e1(t)}}function e1(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||Vm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!un)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:kr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&FT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}FT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&nd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}un||e.flags&512&&yv(e)}catch(f){pt(e,e.return,f)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function t1(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function n1(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vm(4,e)}catch(l){pt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){pt(e,i,l)}}var s=e.return;try{yv(e)}catch(l){pt(e,s,l)}break;case 5:var o=e.return;try{yv(e)}catch(l){pt(e,o,l)}}}catch(l){pt(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var DV=Math.ceil,Lp=ns.ReactCurrentDispatcher,Iw=ns.ReactCurrentOwner,hr=ns.ReactCurrentBatchConfig,Te=0,zt=null,Ct=null,Jt=0,qn=0,hl=co(0),Nt=0,fd=null,ia=0,Fm=0,Tw=0,Nc=null,On=null,bw=0,Fl=1/0,Pi=null,Vp=!1,wv=null,js=null,ff=!1,ks=null,Fp=0,Mc=0,Ev=null,zf=-1,Wf=0;function Sn(){return Te&6?Et():zf!==-1?zf:zf=Et()}function Bs(t){return t.mode&1?Te&2&&Jt!==0?Jt&-Jt:gV.transition!==null?(Wf===0&&(Wf=JA()),Wf):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:iP(t.type)),t):1}function Nr(t,e,n,r){if(50<Mc)throw Mc=0,Ev=null,Error(W(185));Gd(t,n,r),(!(Te&2)||t!==zt)&&(t===zt&&(!(Te&2)&&(Fm|=n),Nt===4&&bs(t,Jt)),Un(t,r),n===1&&Te===0&&!(e.mode&1)&&(Fl=Et()+500,Nm&&ho()))}function Un(t,e){var n=t.callbackNode;gL(t,e);var r=Ep(t,t===zt?Jt:0);if(r===0)n!==null&&dT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&dT(n),e===1)t.tag===0?mV(r1.bind(null,t)):IP(r1.bind(null,t)),dV(function(){!(Te&6)&&ho()}),n=null;else{switch(XA(r)){case 1:n=J0;break;case 4:n=YA;break;case 16:n=wp;break;case 536870912:n=QA;break;default:n=wp}n=Ek(n,pk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pk(t,e){if(zf=-1,Wf=0,Te&6)throw Error(W(327));var n=t.callbackNode;if(wl()&&t.callbackNode!==n)return null;var r=Ep(t,t===zt?Jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Up(t,r);else{e=r;var i=Te;Te|=2;var s=gk();(zt!==t||Jt!==e)&&(Pi=null,Fl=Et()+500,Ko(t,e));do try{LV();break}catch(a){mk(t,a)}while(!0);cw(),Lp.current=s,Te=i,Ct!==null?e=0:(zt=null,Jt=0,e=Nt)}if(e!==0){if(e===2&&(i=K_(t),i!==0&&(r=i,e=Sv(t,i))),e===1)throw n=fd,Ko(t,0),bs(t,r),Un(t,Et()),n;if(e===6)bs(t,r);else{if(i=t.current.alternate,!(r&30)&&!NV(i)&&(e=Up(t,r),e===2&&(s=K_(t),s!==0&&(r=s,e=Sv(t,s))),e===1))throw n=fd,Ko(t,0),bs(t,r),Un(t,Et()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Co(t,On,Pi);break;case 3:if(bs(t,r),(r&130023424)===r&&(e=bw+500-Et(),10<e)){if(Ep(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=nv(Co.bind(null,t,On,Pi),e);break}Co(t,On,Pi);break;case 4:if(bs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Dr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DV(r/1960))-r,10<r){t.timeoutHandle=nv(Co.bind(null,t,On,Pi),r);break}Co(t,On,Pi);break;case 5:Co(t,On,Pi);break;default:throw Error(W(329))}}}return Un(t,Et()),t.callbackNode===n?pk.bind(null,t):null}function Sv(t,e){var n=Nc;return t.current.memoizedState.isDehydrated&&(Ko(t,e).flags|=256),t=Up(t,e),t!==2&&(e=On,On=n,e!==null&&Iv(e)),t}function Iv(t){On===null?On=t:On.push.apply(On,t)}function NV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Lr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bs(t,e){for(e&=~Tw,e&=~Fm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dr(e),r=1<<n;t[n]=-1,e&=~r}}function r1(t){if(Te&6)throw Error(W(327));wl();var e=Ep(t,0);if(!(e&1))return Un(t,Et()),null;var n=Up(t,e);if(t.tag!==0&&n===2){var r=K_(t);r!==0&&(e=r,n=Sv(t,r))}if(n===1)throw n=fd,Ko(t,0),bs(t,e),Un(t,Et()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Co(t,On,Pi),Un(t,Et()),null}function Rw(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Fl=Et()+500,Nm&&ho())}}function sa(t){ks!==null&&ks.tag===0&&!(Te&6)&&wl();var e=Te;Te|=1;var n=hr.transition,r=Ne;try{if(hr.transition=null,Ne=1,t)return t()}finally{Ne=r,hr.transition=n,Te=e,!(Te&6)&&ho()}}function Aw(){qn=hl.current,He(hl)}function Ko(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cV(n)),Ct!==null)for(n=Ct.return;n!==null;){var r=n;switch(aw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rp();break;case 3:Ll(),He(Vn),He(fn),gw();break;case 5:mw(r);break;case 4:Ll();break;case 13:He(st);break;case 19:He(st);break;case 10:dw(r.type._context);break;case 22:case 23:Aw()}n=n.return}if(zt=t,Ct=t=$s(t.current,null),Jt=qn=e,Nt=0,fd=null,Tw=Fm=ia=0,On=Nc=null,Bo!==null){for(e=0;e<Bo.length;e++)if(n=Bo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Bo=null}return t}function mk(t,e){do{var n=Ct;try{if(cw(),jf.current=Mp,Np){for(var r=ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Np=!1}if(ra=0,Bt=Dt=ot=null,Oc=!1,cd=0,Iw.current=null,n===null||n.return===null){Nt=1,fd=e,Ct=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=WT(o);if(g!==null){g.flags&=-257,qT(g,o,a,s,e),g.mode&1&&zT(s,u,e),e=g,l=u;var _=e.updateQueue;if(_===null){var v=new Set;v.add(l),e.updateQueue=v}else _.add(l);break e}else{if(!(e&1)){zT(s,u,e),Pw();break e}l=Error(W(426))}}else if(Ze&&a.mode&1){var I=WT(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),qT(I,o,a,s,e),lw(Vl(l,a));break e}}s=l=Vl(l,a),Nt!==4&&(Nt=2),Nc===null?Nc=[s]:Nc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=XP(s,l,e);VT(s,T);break e;case 1:a=l;var w=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(js===null||!js.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=ZP(s,a,e);VT(s,O);break e}}s=s.return}while(s!==null)}_k(n)}catch(x){e=x,Ct===n&&n!==null&&(Ct=n=n.return);continue}break}while(!0)}function gk(){var t=Lp.current;return Lp.current=Mp,t===null?Mp:t}function Pw(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),zt===null||!(ia&268435455)&&!(Fm&268435455)||bs(zt,Jt)}function Up(t,e){var n=Te;Te|=2;var r=gk();(zt!==t||Jt!==e)&&(Pi=null,Ko(t,e));do try{MV();break}catch(i){mk(t,i)}while(!0);if(cw(),Te=n,Lp.current=r,Ct!==null)throw Error(W(261));return zt=null,Jt=0,Nt}function MV(){for(;Ct!==null;)yk(Ct)}function LV(){for(;Ct!==null&&!aL();)yk(Ct)}function yk(t){var e=wk(t.alternate,t,qn);t.memoizedProps=t.pendingProps,e===null?_k(t):Ct=e,Iw.current=null}function _k(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kV(n,e),n!==null){n.flags&=32767,Ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Nt=6,Ct=null;return}}else if(n=PV(n,e,qn),n!==null){Ct=n;return}if(e=e.sibling,e!==null){Ct=e;return}Ct=e=t}while(e!==null);Nt===0&&(Nt=5)}function Co(t,e,n){var r=Ne,i=hr.transition;try{hr.transition=null,Ne=1,VV(t,e,n,r)}finally{hr.transition=i,Ne=r}return null}function VV(t,e,n,r){do wl();while(ks!==null);if(Te&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(yL(t,s),t===zt&&(Ct=zt=null,Jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ff||(ff=!0,Ek(wp,function(){return wl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hr.transition,hr.transition=null;var o=Ne;Ne=1;var a=Te;Te|=4,Iw.current=null,xV(t,n),hk(n,t),rV(ev),Sp=!!Z_,ev=Z_=null,t.current=n,OV(n),lL(),Te=a,Ne=o,hr.transition=s}else t.current=n;if(ff&&(ff=!1,ks=t,Fp=i),s=t.pendingLanes,s===0&&(js=null),dL(n.stateNode),Un(t,Et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vp)throw Vp=!1,t=wv,wv=null,t;return Fp&1&&t.tag!==0&&wl(),s=t.pendingLanes,s&1?t===Ev?Mc++:(Mc=0,Ev=t):Mc=0,ho(),null}function wl(){if(ks!==null){var t=XA(Fp),e=hr.transition,n=Ne;try{if(hr.transition=null,Ne=16>t?16:t,ks===null)var r=!1;else{if(t=ks,ks=null,Fp=0,Te&6)throw Error(W(331));var i=Te;for(Te|=4,ee=t.current;ee!==null;){var s=ee,o=s.child;if(ee.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:Dc(8,d,s)}var h=d.child;if(h!==null)h.return=d,ee=h;else for(;ee!==null;){d=ee;var f=d.sibling,g=d.return;if(uk(d),d===u){ee=null;break}if(f!==null){f.return=g,ee=f;break}ee=g}}}var _=s.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var I=v.sibling;v.sibling=null,v=I}while(v!==null)}}ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ee=o;else e:for(;ee!==null;){if(s=ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Dc(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,ee=T;break e}ee=s.return}}var w=t.current;for(ee=w;ee!==null;){o=ee;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ee=E;else e:for(o=w;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vm(9,a)}}catch(x){pt(a,a.return,x)}if(a===o){ee=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,ee=O;break e}ee=a.return}}if(Te=i,ho(),ai&&typeof ai.onPostCommitFiberRoot=="function")try{ai.onPostCommitFiberRoot(km,t)}catch{}r=!0}return r}finally{Ne=n,hr.transition=e}}return!1}function i1(t,e,n){e=Vl(n,e),e=XP(t,e,1),t=Us(t,e,1),e=Sn(),t!==null&&(Gd(t,1,e),Un(t,e))}function pt(t,e,n){if(t.tag===3)i1(t,t,n);else for(;e!==null;){if(e.tag===3){i1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(js===null||!js.has(r))){t=Vl(n,t),t=ZP(e,t,1),e=Us(e,t,1),t=Sn(),e!==null&&(Gd(e,1,t),Un(e,t));break}}e=e.return}}function FV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Sn(),t.pingedLanes|=t.suspendedLanes&n,zt===t&&(Jt&n)===n&&(Nt===4||Nt===3&&(Jt&130023424)===Jt&&500>Et()-bw?Ko(t,0):Tw|=n),Un(t,e)}function vk(t,e){e===0&&(t.mode&1?(e=nf,nf<<=1,!(nf&130023424)&&(nf=4194304)):e=1);var n=Sn();t=Ki(t,e),t!==null&&(Gd(t,e,n),Un(t,n))}function UV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vk(t,n)}function jV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),vk(t,n)}var wk;wk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vn.current)Dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dn=!1,AV(t,e,n);Dn=!!(t.flags&131072)}else Dn=!1,Ze&&e.flags&1048576&&TP(e,kp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$f(t,e),t=e.pendingProps;var i=Dl(e,fn.current);vl(e,n),i=_w(null,e,r,t,i,n);var s=vw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fn(r)?(s=!0,Ap(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fw(e),i.updater=Lm,e.stateNode=i,i._reactInternals=e,uv(e,r,t,n),e=hv(null,e,r,!0,s,n)):(e.tag=0,Ze&&s&&ow(e),vn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($f(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$V(r),t=kr(r,t),i){case 0:e=dv(null,e,r,t,n);break e;case 1:e=KT(null,e,r,t,n);break e;case 11:e=HT(null,e,r,t,n);break e;case 14:e=GT(null,e,r,kr(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),dv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),KT(t,e,r,i,n);case 3:e:{if(rk(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,CP(t,e),Op(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Vl(Error(W(423)),e),e=YT(t,e,r,n,i);break e}else if(r!==i){i=Vl(Error(W(424)),e),e=YT(t,e,r,n,i);break e}else for(Yn=Fs(e.stateNode.containerInfo.firstChild),Jn=e,Ze=!0,xr=null,n=PP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nl(),r===i){e=Yi(t,e,n);break e}vn(t,e,r,n)}e=e.child}return e;case 5:return xP(e),t===null&&ov(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,tv(r,i)?o=null:s!==null&&tv(r,s)&&(e.flags|=32),nk(t,e),vn(t,e,o,n),e.child;case 6:return t===null&&ov(e),null;case 13:return ik(t,e,n);case 4:return pw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ml(e,null,r,n):vn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),HT(t,e,r,i,n);case 7:return vn(t,e,e.pendingProps,n),e.child;case 8:return vn(t,e,e.pendingProps.children,n),e.child;case 12:return vn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Be(Cp,r._currentValue),r._currentValue=o,s!==null)if(Lr(s.value,o)){if(s.children===i.children&&!Vn.current){e=Yi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=$i(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),av(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),av(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,vl(e,n),i=pr(i),r=r(i),e.flags|=1,vn(t,e,r,n),e.child;case 14:return r=e.type,i=kr(r,e.pendingProps),i=kr(r.type,i),GT(t,e,r,i,n);case 15:return ek(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),$f(t,e),e.tag=1,Fn(r)?(t=!0,Ap(e)):t=!1,vl(e,n),JP(e,r,i),uv(e,r,i,n),hv(null,e,r,!0,t,n);case 19:return sk(t,e,n);case 22:return tk(t,e,n)}throw Error(W(156,e.tag))};function Ek(t,e){return KA(t,e)}function BV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(t,e,n,r){return new BV(t,e,n,r)}function kw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $V(t){if(typeof t=="function")return kw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===K0)return 11;if(t===Y0)return 14}return 2}function $s(t,e){var n=t.alternate;return n===null?(n=cr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")kw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case nl:return Yo(n.children,i,s,e);case G0:o=8,i|=8;break;case D_:return t=cr(12,n,e,i|2),t.elementType=D_,t.lanes=s,t;case N_:return t=cr(13,n,e,i),t.elementType=N_,t.lanes=s,t;case M_:return t=cr(19,n,e,i),t.elementType=M_,t.lanes=s,t;case xA:return Um(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kA:o=10;break e;case CA:o=9;break e;case K0:o=11;break e;case Y0:o=14;break e;case Ss:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=cr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Yo(t,e,n,r){return t=cr(7,t,r,e),t.lanes=n,t}function Um(t,e,n,r){return t=cr(22,t,r,e),t.elementType=xA,t.lanes=n,t.stateNode={isHidden:!1},t}function Xy(t,e,n){return t=cr(6,t,null,e),t.lanes=n,t}function Zy(t,e,n){return e=cr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dy(0),this.expirationTimes=Dy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cw(t,e,n,r,i,s,o,a,l){return t=new zV(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fw(s),t}function WV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Sk(t){if(!t)return Ks;t=t._reactInternals;e:{if(wa(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Fn(n))return SP(t,n,e)}return e}function Ik(t,e,n,r,i,s,o,a,l){return t=Cw(n,r,!0,t,i,s,o,a,l),t.context=Sk(null),n=t.current,r=Sn(),i=Bs(n),s=$i(r,i),s.callback=e??null,Us(n,s,i),t.current.lanes=i,Gd(t,i,r),Un(t,r),t}function jm(t,e,n,r){var i=e.current,s=Sn(),o=Bs(i);return n=Sk(n),e.context===null?e.context=n:e.pendingContext=n,e=$i(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Us(i,e,o),t!==null&&(Nr(t,i,o,s),Uf(t,i,o)),o}function jp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function s1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xw(t,e){s1(t,e),(t=t.alternate)&&s1(t,e)}function qV(){return null}var Tk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ow(t){this._internalRoot=t}Bm.prototype.render=Ow.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));jm(t,e,null,null)};Bm.prototype.unmount=Ow.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sa(function(){jm(null,t,null,null)}),e[Gi]=null}};function Bm(t){this._internalRoot=t}Bm.prototype.unstable_scheduleHydration=function(t){if(t){var e=tP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ts.length&&e!==0&&e<Ts[n].priority;n++);Ts.splice(n,0,t),n===0&&rP(t)}};function Dw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $m(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function o1(){}function HV(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=jp(o);s.call(u)}}var o=Ik(e,r,t,0,null,!1,!1,"",o1);return t._reactRootContainer=o,t[Gi]=o.current,sd(t.nodeType===8?t.parentNode:t),sa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=jp(l);a.call(u)}}var l=Cw(t,0,!1,null,null,!1,!1,"",o1);return t._reactRootContainer=l,t[Gi]=l.current,sd(t.nodeType===8?t.parentNode:t),sa(function(){jm(e,l,n,r)}),l}function zm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=jp(o);a.call(l)}}jm(e,o,t,i)}else o=HV(n,e,t,i,r);return jp(o)}ZA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gc(e.pendingLanes);n!==0&&(X0(e,n|1),Un(e,Et()),!(Te&6)&&(Fl=Et()+500,ho()))}break;case 13:sa(function(){var r=Ki(t,1);if(r!==null){var i=Sn();Nr(r,t,1,i)}}),xw(t,1)}};Z0=function(t){if(t.tag===13){var e=Ki(t,134217728);if(e!==null){var n=Sn();Nr(e,t,134217728,n)}xw(t,134217728)}};eP=function(t){if(t.tag===13){var e=Bs(t),n=Ki(t,e);if(n!==null){var r=Sn();Nr(n,t,e,r)}xw(t,e)}};tP=function(){return Ne};nP=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};q_=function(t,e,n){switch(e){case"input":if(F_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Dm(r);if(!i)throw Error(W(90));DA(r),F_(r,i)}}}break;case"textarea":MA(t,n);break;case"select":e=n.value,e!=null&&ml(t,!!n.multiple,e,!1)}};$A=Rw;zA=sa;var GV={usingClientEntryPoint:!1,Events:[Yd,ol,Dm,jA,BA,Rw]},Ju={findFiberByHostInstance:jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KV={bundleType:Ju.bundleType,version:Ju.version,rendererPackageName:Ju.rendererPackageName,rendererConfig:Ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=HA(t),t===null?null:t.stateNode},findFiberByHostInstance:Ju.findFiberByHostInstance||qV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pf.isDisabled&&pf.supportsFiber)try{km=pf.inject(KV),ai=pf}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GV;rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dw(e))throw Error(W(200));return WV(t,e,null,n)};rr.createRoot=function(t,e){if(!Dw(t))throw Error(W(299));var n=!1,r="",i=Tk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Cw(t,1,!1,null,null,n,!1,r,i),t[Gi]=e.current,sd(t.nodeType===8?t.parentNode:t),new Ow(e)};rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=HA(e),t=t===null?null:t.stateNode,t};rr.flushSync=function(t){return sa(t)};rr.hydrate=function(t,e,n){if(!$m(e))throw Error(W(200));return zm(null,t,e,!0,n)};rr.hydrateRoot=function(t,e,n){if(!Dw(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Tk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ik(e,null,t,1,n??null,i,!1,s,o),t[Gi]=e.current,sd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Bm(e)};rr.render=function(t,e,n){if(!$m(e))throw Error(W(200));return zm(null,t,e,!1,n)};rr.unmountComponentAtNode=function(t){if(!$m(t))throw Error(W(40));return t._reactRootContainer?(sa(function(){zm(null,null,t,!1,function(){t._reactRootContainer=null,t[Gi]=null})}),!0):!1};rr.unstable_batchedUpdates=Rw;rr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$m(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return zm(t,e,n,!1,r)};rr.version="18.3.1-next-f1338f8080-20240426";function bk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bk)}catch(t){console.error(t)}}bk(),bA.exports=rr;var YV=bA.exports,Rk,a1=YV;Rk=a1.createRoot,a1.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pd(){return pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pd.apply(this,arguments)}var Cs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Cs||(Cs={}));const l1="popstate";function QV(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Tv("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bp(i)}return XV(e,n,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ak(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JV(){return Math.random().toString(36).substr(2,8)}function u1(t,e){return{usr:t.state,key:t.key,idx:e}}function Tv(t,e,n,r){return n===void 0&&(n=null),pd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?uu(e):e,{state:n,key:e&&e.key||r||JV()})}function Bp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function uu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function XV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Cs.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(pd({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Cs.Pop;let I=d(),T=I==null?null:I-u;u=I,l&&l({action:a,location:v.location,delta:T})}function f(I,T){a=Cs.Push;let w=Tv(v.location,I,T);u=d()+1;let E=u1(w,u),O=v.createHref(w);try{o.pushState(E,"",O)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(O)}s&&l&&l({action:a,location:v.location,delta:1})}function g(I,T){a=Cs.Replace;let w=Tv(v.location,I,T);u=d();let E=u1(w,u),O=v.createHref(w);o.replaceState(E,"",O),s&&l&&l({action:a,location:v.location,delta:0})}function _(I){let T=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof I=="string"?I:Bp(I);return w=w.replace(/ $/,"%20"),xt(T,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,T)}let v={get action(){return a},get location(){return t(i,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(l1,h),l=I,()=>{i.removeEventListener(l1,h),l=null}},createHref(I){return e(i,I)},createURL:_,encodeLocation(I){let T=_(I);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:f,replace:g,go(I){return o.go(I)}};return v}var c1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(c1||(c1={}));function ZV(t,e,n){return n===void 0&&(n="/"),eF(t,e,n,!1)}function eF(t,e,n,r){let i=typeof e=="string"?uu(e):e,s=Nw(i.pathname||"/",n);if(s==null)return null;let o=Pk(t);tF(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=hF(s);a=cF(o[l],u,r)}return a}function Pk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(xt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=zs([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(xt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Pk(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:lF(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of kk(s.path))i(s,o,l)}),e}function kk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=kk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function tF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nF=/^:[\w-]+$/,rF=3,iF=2,sF=1,oF=10,aF=-2,d1=t=>t==="*";function lF(t,e){let n=t.split("/"),r=n.length;return n.some(d1)&&(r+=aF),e&&(r+=iF),n.filter(i=>!d1(i)).reduce((i,s)=>i+(nF.test(s)?rF:s===""?sF:oF),r)}function uF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function cF(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=h1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=h1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:zs([s,h.pathname]),pathnameBase:gF(zs([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=zs([s,h.pathnameBase]))}return o}function h1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const _=a[h];return g&&!_?u[f]=void 0:u[f]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function dF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ak(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ak(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Nw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?uu(t):t;return{pathname:n?n.startsWith("/")?n:pF(n,e):e,search:yF(r),hash:_F(i)}}function pF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function e_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ck(t,e){let n=mF(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xk(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=uu(t):(i=pd({},t),xt(!i.pathname||!i.pathname.includes("?"),e_("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),e_("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),e_("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=fF(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const zs=t=>t.join("/").replace(/\/\/+/g,"/"),gF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_F=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function vF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ok=["post","put","patch","delete"];new Set(Ok);const wF=["get",...Ok];new Set(wF);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function md(){return md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},md.apply(this,arguments)}const Mw=U.createContext(null),EF=U.createContext(null),Ea=U.createContext(null),Wm=U.createContext(null),fo=U.createContext({outlet:null,matches:[],isDataRoute:!1}),Dk=U.createContext(null);function SF(t,e){let{relative:n}=e===void 0?{}:e;Jd()||xt(!1);let{basename:r,navigator:i}=U.useContext(Ea),{hash:s,pathname:o,search:a}=Lk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:zs([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Jd(){return U.useContext(Wm)!=null}function Xd(){return Jd()||xt(!1),U.useContext(Wm).location}function Nk(t){U.useContext(Ea).static||U.useLayoutEffect(t)}function qm(){let{isDataRoute:t}=U.useContext(fo);return t?MF():IF()}function IF(){Jd()||xt(!1);let t=U.useContext(Mw),{basename:e,future:n,navigator:r}=U.useContext(Ea),{matches:i}=U.useContext(fo),{pathname:s}=Xd(),o=JSON.stringify(Ck(i,n.v7_relativeSplatPath)),a=U.useRef(!1);return Nk(()=>{a.current=!0}),U.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=xk(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:zs([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function Mk(){let{matches:t}=U.useContext(fo),e=t[t.length-1];return e?e.params:{}}function Lk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=U.useContext(Ea),{matches:i}=U.useContext(fo),{pathname:s}=Xd(),o=JSON.stringify(Ck(i,r.v7_relativeSplatPath));return U.useMemo(()=>xk(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function TF(t,e){return bF(t,e)}function bF(t,e,n,r){Jd()||xt(!1);let{navigator:i}=U.useContext(Ea),{matches:s}=U.useContext(fo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Xd(),d;if(e){var h;let I=typeof e=="string"?uu(e):e;l==="/"||(h=I.pathname)!=null&&h.startsWith(l)||xt(!1),d=I}else d=u;let f=d.pathname||"/",g=f;if(l!=="/"){let I=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(I.length).join("/")}let _=ZV(t,{pathname:g}),v=CF(_&&_.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:zs([l,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:zs([l,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&v?U.createElement(Wm.Provider,{value:{location:md({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Cs.Pop}},v):v}function RF(){let t=NF(),e=vF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,null)}const AF=U.createElement(RF,null);class PF extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(fo.Provider,{value:this.props.routeContext},U.createElement(Dk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kF(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(Mw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(fo.Provider,{value:e},r)}function CF(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||xt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:g}=n,_=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let g,_=!1,v=null,I=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||AF,l&&(u<0&&f===0?(_=!0,I=null):u===f&&(_=!0,I=h.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,f+1)),w=()=>{let E;return g?E=v:_?E=I:h.route.Component?E=U.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=d,U.createElement(kF,{match:h,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?U.createElement(PF,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:w(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):w()},null)}var Vk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Vk||{}),$p=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($p||{});function xF(t){let e=U.useContext(Mw);return e||xt(!1),e}function OF(t){let e=U.useContext(EF);return e||xt(!1),e}function DF(t){let e=U.useContext(fo);return e||xt(!1),e}function Fk(t){let e=DF(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function NF(){var t;let e=U.useContext(Dk),n=OF($p.UseRouteError),r=Fk($p.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function MF(){let{router:t}=xF(Vk.UseNavigateStable),e=Fk($p.UseNavigateStable),n=U.useRef(!1);return Nk(()=>{n.current=!0}),U.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,md({fromRouteId:e},s)))},[t,e])}function Hr(t){xt(!1)}function LF(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Cs.Pop,navigator:s,static:o=!1,future:a}=t;Jd()&&xt(!1);let l=e.replace(/^\/*/,"/"),u=U.useMemo(()=>({basename:l,navigator:s,static:o,future:md({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=uu(r));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:_="default"}=r,v=U.useMemo(()=>{let I=Nw(d,l);return I==null?null:{location:{pathname:I,search:h,hash:f,state:g,key:_},navigationType:i}},[l,d,h,f,g,_,i]);return v==null?null:U.createElement(Ea.Provider,{value:u},U.createElement(Wm.Provider,{children:n,value:v}))}function VF(t){let{children:e,location:n}=t;return TF(bv(e),n)}new Promise(()=>{});function bv(t,e){e===void 0&&(e=[]);let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;let s=[...e,i];if(r.type===U.Fragment){n.push.apply(n,bv(r.props.children,s));return}r.type!==Hr&&xt(!1),!r.props.index||!r.props.children||xt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=bv(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(this,arguments)}function FF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function UF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jF(t,e){return t.button===0&&(!e||e==="_self")&&!UF(t)}const BF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],$F="6";try{window.__reactRouterVersion=$F}catch{}const zF="startTransition",f1=gp[zF];function WF(t){let{basename:e,children:n,future:r,window:i}=t,s=U.useRef();s.current==null&&(s.current=QV({window:i,v5Compat:!0}));let o=s.current,[a,l]=U.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=U.useCallback(h=>{u&&f1?f1(()=>l(h)):l(h)},[l,u]);return U.useLayoutEffect(()=>o.listen(d),[o,d]),U.createElement(LF,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const qF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oi=U.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=FF(e,BF),{basename:g}=U.useContext(Ea),_,v=!1;if(typeof u=="string"&&HF.test(u)&&(_=u,qF))try{let E=new URL(window.location.href),O=u.startsWith("//")?new URL(E.protocol+u):new URL(u),x=Nw(O.pathname,g);O.origin===E.origin&&x!=null?u=x+O.search+O.hash:v=!0}catch{}let I=SF(u,{relative:i}),T=GF(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:h});function w(E){r&&r(E),E.defaultPrevented||T(E)}return U.createElement("a",Rv({},f,{href:_||I,onClick:v||s?r:w,ref:n,target:l}))});var p1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(p1||(p1={}));var m1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(m1||(m1={}));function GF(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=qm(),u=Xd(),d=Lk(t,{relative:o});return U.useCallback(h=>{if(jF(h,n)){h.preventDefault();let f=r!==void 0?r:Bp(u)===Bp(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}const KF=[{title:"Electronics",name:"electronics",imgLink:"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Dashboard/Fuji_Dash_TV_2X._SY304_CB432517900_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://images-na.ssl-images-amazon.com/images/G/01/softlines/shopbop/ingress/2023/March/mp_20230219_ff_desktopsinglecategory_desktop_379x304_1._SY304_CB612639047_.jpg"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/618bcm65ksL._AC_UL480_FMwebp_QL65_.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://m.media-amazon.com/images/I/71r7eWuCsaL._AC_UL480_FMwebp_QL65_.jpg"}],YF="_category_5jcdb_1",QF="_category__container_5jcdb_35",Uk={category:YF,category__container:QF};function JF({data:t}){return P.jsx("div",{className:Uk.category,children:P.jsxs(Oi,{to:`/category/${t==null?void 0:t.name}`,children:[P.jsx("span",{children:P.jsx("h2",{children:t==null?void 0:t.title})}),P.jsx("img",{src:t==null?void 0:t.imgLink,alt:t.name+" products"}),P.jsx("p",{children:"shop now"})]})})}function XF(){return P.jsx("section",{className:Uk.category__container,children:KF.map(t=>P.jsx(JF,{data:t},t.name))})}var jk={},Hm={},Lw={},t_={},Bk={exports:{}},ZF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",e4=ZF,t4=e4;function $k(){}function zk(){}zk.resetWarningCache=$k;var n4=function(){function t(r,i,s,o,a,l){if(l!==t4){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:zk,resetWarningCache:$k};return n.PropTypes=n,n};Bk.exports=n4();var Wk=Bk.exports;const it=U0(Wk);var g1;function r4(){return g1||(g1=1,function(t){(function(e,n){n(t,U,Wk)})(F0,function(e,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=_;var i=o(n),s=o(r);function o(w){return w&&w.__esModule?w:{default:w}}var a=Object.assign||function(w){for(var E=1;E<arguments.length;E++){var O=arguments[E];for(var x in O)Object.prototype.hasOwnProperty.call(O,x)&&(w[x]=O[x])}return w};function l(w,E){var O={};for(var x in w)E.indexOf(x)>=0||Object.prototype.hasOwnProperty.call(w,x)&&(O[x]=w[x]);return O}function u(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}var d=function(){function w(E,O){for(var x=0;x<O.length;x++){var N=O[x];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,N.key,N)}}return function(E,O,x){return O&&w(E.prototype,O),x&&w(E,x),E}}();function h(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function f(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var g=!1;function _(w){g=w}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){_(!0)}}))}catch{}function v(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return g?w:w.capture}function I(w){if("touches"in w){var E=w.touches[0],O=E.pageX,x=E.pageY;return{x:O,y:x}}var N=w.screenX,b=w.screenY;return{x:N,y:b}}var T=function(w){f(E,w);function E(){var O;u(this,E);for(var x=arguments.length,N=Array(x),b=0;b<x;b++)N[b]=arguments[b];var S=h(this,(O=E.__proto__||Object.getPrototypeOf(E)).call.apply(O,[this].concat(N)));return S._handleSwipeStart=S._handleSwipeStart.bind(S),S._handleSwipeMove=S._handleSwipeMove.bind(S),S._handleSwipeEnd=S._handleSwipeEnd.bind(S),S._onMouseDown=S._onMouseDown.bind(S),S._onMouseMove=S._onMouseMove.bind(S),S._onMouseUp=S._onMouseUp.bind(S),S._setSwiperRef=S._setSwiperRef.bind(S),S}return d(E,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,v({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,v({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(x){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(x))}},{key:"_onMouseMove",value:function(x){this.mouseDown&&this._handleSwipeMove(x)}},{key:"_onMouseUp",value:function(x){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(x)}},{key:"_handleSwipeStart",value:function(x){var N=I(x),b=N.x,S=N.y;this.moveStart={x:b,y:S},this.props.onSwipeStart(x)}},{key:"_handleSwipeMove",value:function(x){if(this.moveStart){var N=I(x),b=N.x,S=N.y,m=b-this.moveStart.x,A=S-this.moveStart.y;this.moving=!0;var C=this.props.onSwipeMove({x:m,y:A},x);C&&x.cancelable&&x.preventDefault(),this.movePosition={deltaX:m,deltaY:A}}}},{key:"_handleSwipeEnd",value:function(x){this.props.onSwipeEnd(x);var N=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-N?this.props.onSwipeLeft(1,x):this.movePosition.deltaX>N&&this.props.onSwipeRight(1,x),this.movePosition.deltaY<-N?this.props.onSwipeUp(1,x):this.movePosition.deltaY>N&&this.props.onSwipeDown(1,x)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(x){this.swiper=x,this.props.innerRef(x)}},{key:"render",value:function(){var x=this.props;x.tagName;var N=x.className,b=x.style,S=x.children;x.allowMouseEvents,x.onSwipeUp,x.onSwipeDown,x.onSwipeLeft,x.onSwipeRight,x.onSwipeStart,x.onSwipeMove,x.onSwipeEnd,x.innerRef,x.tolerance;var m=l(x,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,a({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:N,style:b},m),S)}}]),E}(n.Component);T.displayName="ReactSwipe",T.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},T.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=T})}(t_)),t_}(function(t){(function(e,n){n(t,r4())})(F0,function(e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})})(Lw);var Zd={},qk={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(qk);var i4=qk.exports;Object.defineProperty(Zd,"__esModule",{value:!0});Zd.default=void 0;var gs=s4(i4);function s4(t){return t&&t.__esModule?t:{default:t}}function o4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a4={ROOT:function(e){return(0,gs.default)(o4({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,gs.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,n){return(0,gs.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":n==="horizontal","axis-vertical":n!=="horizontal"})},SLIDER:function(e,n){return(0,gs.default)({thumbs:!e,slider:e,animated:!n})},ITEM:function(e,n,r){return(0,gs.default)({thumb:!e,slide:e,selected:n,previous:r})},ARROW_PREV:function(e){return(0,gs.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,gs.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,gs.default)({dot:!0,selected:e})}};Zd.default=a4;var eh={},Gm={};Object.defineProperty(Gm,"__esModule",{value:!0});Gm.outerWidth=void 0;var l4=function(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseInt(r.marginLeft)+parseInt(r.marginRight),n};Gm.outerWidth=l4;var cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.default=void 0;var u4=function(e,n,r){var i=e===0?e:e+n,s=r==="horizontal"?[i,0,0]:[0,i,0],o="translate3d",a="("+s.join(",")+")";return o+a};cu.default=u4;var th={};Object.defineProperty(th,"__esModule",{value:!0});th.default=void 0;var c4=function(){return window};th.default=c4;Object.defineProperty(eh,"__esModule",{value:!0});eh.default=void 0;var Ar=f4(U),Ro=Km(Zd),d4=Gm,y1=Km(cu),h4=Km(Lw),mf=Km(th);function Km(t){return t&&t.__esModule?t:{default:t}}function Hk(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return Hk=function(){return t},t}function f4(t){if(t&&t.__esModule)return t;if(t===null||Lc(t)!=="object"&&typeof t!="function")return{default:t};var e=Hk();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Lc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lc=function(n){return typeof n}:Lc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Lc(t)}function Av(){return Av=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Av.apply(this,arguments)}function p4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g4(t,e,n){return e&&m4(t.prototype,e),t}function y4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pv(t,e)}function Pv(t,e){return Pv=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Pv(t,e)}function _4(t){var e=w4();return function(){var r=zp(t),i;if(e){var s=zp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return v4(this,i)}}function v4(t,e){return e&&(Lc(e)==="object"||typeof e=="function")?e:_n(t)}function _n(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function zp(t){return zp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},zp(t)}function ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E4=function(e){return e.hasOwnProperty("key")},Vw=function(t){y4(n,t);var e=_4(n);function n(r){var i;return p4(this,n),i=e.call(this,r),ln(_n(i),"itemsWrapperRef",void 0),ln(_n(i),"itemsListRef",void 0),ln(_n(i),"thumbsRef",void 0),ln(_n(i),"setItemsWrapperRef",function(s){i.itemsWrapperRef=s}),ln(_n(i),"setItemsListRef",function(s){i.itemsListRef=s}),ln(_n(i),"setThumbsRef",function(s,o){i.thumbsRef||(i.thumbsRef=[]),i.thumbsRef[o]=s}),ln(_n(i),"updateSizes",function(){if(!(!i.props.children||!i.itemsWrapperRef||!i.thumbsRef)){var s=Ar.Children.count(i.props.children),o=i.itemsWrapperRef.clientWidth,a=i.props.thumbWidth?i.props.thumbWidth:(0,d4.outerWidth)(i.thumbsRef[0]),l=Math.floor(o/a),u=l<s,d=u?s-l:0;i.setState(function(h,f){return{itemSize:a,visibleItems:l,firstItem:u?i.getFirstItem(f.selectedItem):0,lastPosition:d,showArrows:u}})}}),ln(_n(i),"handleClickItem",function(s,o,a){if(!E4(a)||a.key==="Enter"){var l=i.props.onSelectItem;typeof l=="function"&&l(s,o)}}),ln(_n(i),"onSwipeStart",function(){i.setState({swiping:!0})}),ln(_n(i),"onSwipeEnd",function(){i.setState({swiping:!1})}),ln(_n(i),"onSwipeMove",function(s){var o=s.x;if(!i.state.itemSize||!i.itemsWrapperRef||!i.state.visibleItems)return!1;var a=0,l=Ar.Children.count(i.props.children),u=-(i.state.firstItem*100)/i.state.visibleItems,d=Math.max(l-i.state.visibleItems,0),h=-d*100/i.state.visibleItems;u===a&&o>0&&(o=0),u===h&&o<0&&(o=0);var f=i.itemsWrapperRef.clientWidth,g=u+100/(f/o);return i.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(_){i.itemsListRef.style[_]=(0,y1.default)(g,"%",i.props.axis)}),!0}),ln(_n(i),"slideRight",function(s){i.moveTo(i.state.firstItem-(typeof s=="number"?s:1))}),ln(_n(i),"slideLeft",function(s){i.moveTo(i.state.firstItem+(typeof s=="number"?s:1))}),ln(_n(i),"moveTo",function(s){s=s<0?0:s,s=s>=i.state.lastPosition?i.state.lastPosition:s,i.setState({firstItem:s})}),i.state={selectedItem:r.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},i}return g4(n,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(i){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==i.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,mf.default)().addEventListener("resize",this.updateSizes),(0,mf.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,mf.default)().removeEventListener("resize",this.updateSizes),(0,mf.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(i){var s=i;return i>=this.state.lastPosition&&(s=this.state.lastPosition),i<this.state.firstItem+this.state.visibleItems&&(s=this.state.firstItem),i<this.state.firstItem&&(s=i),s}},{key:"renderItems",value:function(){var i=this;return this.props.children.map(function(s,o){var a=Ro.default.ITEM(!1,o===i.state.selectedItem),l={key:o,ref:function(d){return i.setThumbsRef(d,o)},className:a,onClick:i.handleClickItem.bind(i,o,i.props.children[o]),onKeyDown:i.handleClickItem.bind(i,o,i.props.children[o]),"aria-label":"".concat(i.props.labels.item," ").concat(o+1),style:{width:i.props.thumbWidth}};return Ar.default.createElement("li",Av({},l,{role:"button",tabIndex:0}),s)})}},{key:"render",value:function(){var i=this;if(!this.props.children)return null;var s=Ar.Children.count(this.props.children)>1,o=this.state.showArrows&&this.state.firstItem>0,a=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,l={},u=-this.state.firstItem*(this.state.itemSize||0),d=(0,y1.default)(u,"px",this.props.axis),h=this.props.transitionTime+"ms";return l={WebkitTransform:d,MozTransform:d,MsTransform:d,OTransform:d,transform:d,msTransform:d,WebkitTransitionDuration:h,MozTransitionDuration:h,MsTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h},Ar.default.createElement("div",{className:Ro.default.CAROUSEL(!1)},Ar.default.createElement("div",{className:Ro.default.WRAPPER(!1),ref:this.setItemsWrapperRef},Ar.default.createElement("button",{type:"button",className:Ro.default.ARROW_PREV(!o),onClick:function(){return i.slideRight()},"aria-label":this.props.labels.leftArrow}),s?Ar.default.createElement(h4.default,{tagName:"ul",className:Ro.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:l,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):Ar.default.createElement("ul",{className:Ro.default.SLIDER(!1,this.state.swiping),ref:function(g){return i.setItemsListRef(g)},style:l},this.renderItems()),Ar.default.createElement("button",{type:"button",className:Ro.default.ARROW_NEXT(!a),onClick:function(){return i.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),n}(Ar.Component);eh.default=Vw;ln(Vw,"displayName","Thumbs");ln(Vw,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var Ym={};Object.defineProperty(Ym,"__esModule",{value:!0});Ym.default=void 0;var S4=function(){return document};Ym.default=S4;var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.setPosition=Gn.getPosition=Gn.isKeyboardEvent=Gn.defaultStatusFormatter=Gn.noop=void 0;var I4=U,T4=b4(cu);function b4(t){return t&&t.__esModule?t:{default:t}}var R4=function(){};Gn.noop=R4;var A4=function(e,n){return"".concat(e," of ").concat(n)};Gn.defaultStatusFormatter=A4;var P4=function(e){return e?e.hasOwnProperty("key"):!1};Gn.isKeyboardEvent=P4;var k4=function(e,n){if(n.infiniteLoop&&++e,e===0)return 0;var r=I4.Children.count(n.children);if(n.centerMode&&n.axis==="horizontal"){var i=-e*n.centerSlidePercentage,s=r-1;return e&&(e!==s||n.infiniteLoop)?i+=(100-n.centerSlidePercentage)/2:e===s&&(i+=100-n.centerSlidePercentage),i}return-e*100};Gn.getPosition=k4;var C4=function(e,n){var r={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(i){r[i]=(0,T4.default)(e,"%",n)}),r};Gn.setPosition=C4;var ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.fadeAnimationHandler=ni.slideStopSwipingHandler=ni.slideSwipeAnimationHandler=ni.slideAnimationHandler=void 0;var Gk=U,x4=O4(cu),ri=Gn;function O4(t){return t&&t.__esModule?t:{default:t}}function _1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function No(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_1(Object(n),!0).forEach(function(r){D4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N4=function(e,n){var r={},i=n.selectedItem,s=i,o=Gk.Children.count(e.children)-1,a=e.infiniteLoop&&(i<0||i>o);if(a)return s<0?e.centerMode&&e.centerSlidePercentage&&e.axis==="horizontal"?r.itemListStyle=(0,ri.setPosition)(-(o+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):r.itemListStyle=(0,ri.setPosition)(-(o+2)*100,e.axis):s>o&&(r.itemListStyle=(0,ri.setPosition)(0,e.axis)),r;var l=(0,ri.getPosition)(i,e),u=(0,x4.default)(l,"%",e.axis),d=e.transitionTime+"ms";return r.itemListStyle={WebkitTransform:u,msTransform:u,OTransform:u,transform:u},n.swiping||(r.itemListStyle=No(No({},r.itemListStyle),{},{WebkitTransitionDuration:d,MozTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d})),r};ni.slideAnimationHandler=N4;var M4=function(e,n,r,i){var s={},o=n.axis==="horizontal",a=Gk.Children.count(n.children),l=0,u=(0,ri.getPosition)(r.selectedItem,n),d=n.infiniteLoop?(0,ri.getPosition)(a-1,n)-100:(0,ri.getPosition)(a-1,n),h=o?e.x:e.y,f=h;u===l&&h>0&&(f=0),u===d&&h<0&&(f=0);var g=u+100/(r.itemSize/f),_=Math.abs(h)>n.swipeScrollTolerance;return n.infiniteLoop&&_&&(r.selectedItem===0&&g>-100?g-=a*100:r.selectedItem===a-1&&g<-a*100&&(g+=a*100)),(!n.preventMovementUntilSwipeScrollTolerance||_||r.swipeMovementStarted)&&(r.swipeMovementStarted||i({swipeMovementStarted:!0}),s.itemListStyle=(0,ri.setPosition)(g,n.axis)),_&&!r.cancelClick&&i({cancelClick:!0}),s};ni.slideSwipeAnimationHandler=M4;var L4=function(e,n){var r=(0,ri.getPosition)(n.selectedItem,e),i=(0,ri.setPosition)(r,e.axis);return{itemListStyle:i}};ni.slideStopSwipingHandler=L4;var V4=function(e,n){var r=e.transitionTime+"ms",i="ease-in-out",s={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:i,msTransitionTimingFunction:i,MozTransitionTimingFunction:i,WebkitTransitionTimingFunction:i,OTransitionTimingFunction:i};return n.swiping||(s=No(No({},s),{},{WebkitTransitionDuration:r,MozTransitionDuration:r,OTransitionDuration:r,transitionDuration:r,msTransitionDuration:r})),{slideStyle:s,selectedStyle:No(No({},s),{},{opacity:1,position:"relative"}),prevStyle:No({},s)}};ni.fadeAnimationHandler=V4;Object.defineProperty(Hm,"__esModule",{value:!0});Hm.default=void 0;var Oe=j4(U),F4=nh(Lw),xi=nh(Zd),U4=nh(eh),gf=nh(Ym),yf=nh(th),_c=Gn,Wp=ni;function nh(t){return t&&t.__esModule?t:{default:t}}function Kk(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return Kk=function(){return t},t}function j4(t){if(t&&t.__esModule)return t;if(t===null||Vc(t)!=="object"&&typeof t!="function")return{default:t};var e=Kk();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Vc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vc=function(n){return typeof n}:Vc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vc(t)}function kv(){return kv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kv.apply(this,arguments)}function v1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v1(Object(n),!0).forEach(function(r){de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z4(t,e,n){return e&&$4(t.prototype,e),t}function W4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cv(t,e)}function Cv(t,e){return Cv=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Cv(t,e)}function q4(t){var e=G4();return function(){var r=qp(t),i;if(e){var s=qp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return H4(this,i)}}function H4(t,e){return e&&(Vc(e)==="object"||typeof e=="function")?e:he(t)}function he(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},qp(t)}function de(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fw=function(t){W4(n,t);var e=q4(n);function n(r){var i;B4(this,n),i=e.call(this,r),de(he(i),"thumbsRef",void 0),de(he(i),"carouselWrapperRef",void 0),de(he(i),"listRef",void 0),de(he(i),"itemsRef",void 0),de(he(i),"timer",void 0),de(he(i),"animationHandler",void 0),de(he(i),"setThumbsRef",function(o){i.thumbsRef=o}),de(he(i),"setCarouselWrapperRef",function(o){i.carouselWrapperRef=o}),de(he(i),"setListRef",function(o){i.listRef=o}),de(he(i),"setItemsRef",function(o,a){i.itemsRef||(i.itemsRef=[]),i.itemsRef[a]=o}),de(he(i),"autoPlay",function(){Oe.Children.count(i.props.children)<=1||(i.clearAutoPlay(),i.props.autoPlay&&(i.timer=setTimeout(function(){i.increment()},i.props.interval)))}),de(he(i),"clearAutoPlay",function(){i.timer&&clearTimeout(i.timer)}),de(he(i),"resetAutoPlay",function(){i.clearAutoPlay(),i.autoPlay()}),de(he(i),"stopOnHover",function(){i.setState({isMouseEntered:!0},i.clearAutoPlay)}),de(he(i),"startOnLeave",function(){i.setState({isMouseEntered:!1},i.autoPlay)}),de(he(i),"isFocusWithinTheCarousel",function(){return i.carouselWrapperRef?!!((0,gf.default)().activeElement===i.carouselWrapperRef||i.carouselWrapperRef.contains((0,gf.default)().activeElement)):!1}),de(he(i),"navigateWithKeyboard",function(o){if(i.isFocusWithinTheCarousel()){var a=i.props.axis,l=a==="horizontal",u={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},d=l?u.ArrowRight:u.ArrowDown,h=l?u.ArrowLeft:u.ArrowUp;d===o.keyCode?i.increment():h===o.keyCode&&i.decrement()}}),de(he(i),"updateSizes",function(){if(!(!i.state.initialized||!i.itemsRef||i.itemsRef.length===0)){var o=i.props.axis==="horizontal",a=i.itemsRef[0];if(a){var l=o?a.clientWidth:a.clientHeight;i.setState({itemSize:l}),i.thumbsRef&&i.thumbsRef.updateSizes()}}}),de(he(i),"setMountState",function(){i.setState({hasMount:!0}),i.updateSizes()}),de(he(i),"handleClickItem",function(o,a){if(Oe.Children.count(i.props.children)!==0){if(i.state.cancelClick){i.setState({cancelClick:!1});return}i.props.onClickItem(o,a),o!==i.state.selectedItem&&i.setState({selectedItem:o})}}),de(he(i),"handleOnChange",function(o,a){Oe.Children.count(i.props.children)<=1||i.props.onChange(o,a)}),de(he(i),"handleClickThumb",function(o,a){i.props.onClickThumb(o,a),i.moveTo(o)}),de(he(i),"onSwipeStart",function(o){i.setState({swiping:!0}),i.props.onSwipeStart(o)}),de(he(i),"onSwipeEnd",function(o){i.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),i.props.onSwipeEnd(o),i.clearAutoPlay(),i.state.autoPlay&&i.autoPlay()}),de(he(i),"onSwipeMove",function(o,a){i.props.onSwipeMove(a);var l=i.props.swipeAnimationHandler(o,i.props,i.state,i.setState.bind(he(i)));return i.setState(Pr({},l)),!!Object.keys(l).length}),de(he(i),"decrement",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem-(typeof o=="number"?o:1))}),de(he(i),"increment",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem+(typeof o=="number"?o:1))}),de(he(i),"moveTo",function(o){if(typeof o=="number"){var a=Oe.Children.count(i.props.children)-1;o<0&&(o=i.props.infiniteLoop?a:0),o>a&&(o=i.props.infiniteLoop?0:a),i.selectItem({selectedItem:o}),i.state.autoPlay&&i.state.isMouseEntered===!1&&i.resetAutoPlay()}}),de(he(i),"onClickNext",function(){i.increment(1)}),de(he(i),"onClickPrev",function(){i.decrement(1)}),de(he(i),"onSwipeForward",function(){i.increment(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),de(he(i),"onSwipeBackwards",function(){i.decrement(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),de(he(i),"changeItem",function(o){return function(a){(!(0,_c.isKeyboardEvent)(a)||a.key==="Enter")&&i.moveTo(o)}}),de(he(i),"selectItem",function(o){i.setState(Pr({previousItem:i.state.selectedItem},o),function(){i.setState(i.animationHandler(i.props,i.state))}),i.handleOnChange(o.selectedItem,Oe.Children.toArray(i.props.children)[o.selectedItem])}),de(he(i),"getInitialImage",function(){var o=i.props.selectedItem,a=i.itemsRef&&i.itemsRef[o],l=a&&a.getElementsByTagName("img")||[];return l[0]}),de(he(i),"getVariableItemHeight",function(o){var a=i.itemsRef&&i.itemsRef[o];if(i.state.hasMount&&a&&a.children.length){var l=a.children[0].getElementsByTagName("img")||[];if(l.length>0){var u=l[0];if(!u.complete){var d=function g(){i.forceUpdate(),u.removeEventListener("load",g)};u.addEventListener("load",d)}}var h=l[0]||a.children[0],f=h.clientHeight;return f>0?f:null}return null});var s={initialized:!1,previousItem:r.selectedItem,selectedItem:r.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:r.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return i.animationHandler=typeof r.animationHandler=="function"&&r.animationHandler||r.animationHandler==="fade"&&Wp.fadeAnimationHandler||Wp.slideAnimationHandler,i.state=Pr(Pr({},s),i.animationHandler(r,s)),i}return z4(n,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(i,s){!i.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!i.autoFocus&&this.props.autoFocus&&this.forceFocus(),s.swiping&&!this.state.swiping&&this.setState(Pr({},this.props.stopSwipingHandler(this.props,this.state))),(i.selectedItem!==this.props.selectedItem||i.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),i.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var i=this;this.bindEvents(),this.state.autoPlay&&Oe.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var s=i.getInitialImage();s&&!s.complete?s.addEventListener("load",i.setMountState):i.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.addEventListener("mouseenter",this.stopOnHover),i.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.removeEventListener("mouseenter",this.stopOnHover),i.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,yf.default)().addEventListener("resize",this.updateSizes),(0,yf.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,gf.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,yf.default)().removeEventListener("resize",this.updateSizes),(0,yf.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var i=this.getInitialImage();i&&i.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,gf.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var i;(i=this.carouselWrapperRef)===null||i===void 0||i.focus()}},{key:"renderItems",value:function(i){var s=this;return this.props.children?Oe.Children.map(this.props.children,function(o,a){var l=a===s.state.selectedItem,u=a===s.state.previousItem,d=l&&s.state.selectedStyle||u&&s.state.prevStyle||s.state.slideStyle||{};s.props.centerMode&&s.props.axis==="horizontal"&&(d=Pr(Pr({},d),{},{minWidth:s.props.centerSlidePercentage+"%"})),s.state.swiping&&s.state.swipeMovementStarted&&(d=Pr(Pr({},d),{},{pointerEvents:"none"}));var h={ref:function(g){return s.setItemsRef(g,a)},key:"itemKey"+a+(i?"clone":""),className:xi.default.ITEM(!0,a===s.state.selectedItem,a===s.state.previousItem),onClick:s.handleClickItem.bind(s,a,o),style:d};return Oe.default.createElement("li",h,s.props.renderItem(o,{isSelected:a===s.state.selectedItem,isPrevious:a===s.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var i=this,s=this.props,o=s.showIndicators,a=s.labels,l=s.renderIndicator,u=s.children;return o?Oe.default.createElement("ul",{className:"control-dots"},Oe.Children.map(u,function(d,h){return l&&l(i.changeItem(h),h===i.state.selectedItem,h,a.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?Oe.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,Oe.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||Oe.Children.count(this.props.children)===0?null:Oe.default.createElement(U4.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var i=this;if(!this.props.children||Oe.Children.count(this.props.children)===0)return null;var s=this.props.swipeable&&Oe.Children.count(this.props.children)>1,o=this.props.axis==="horizontal",a=this.props.showArrows&&Oe.Children.count(this.props.children)>1,l=a&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,u=a&&(this.state.selectedItem<Oe.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,d=this.renderItems(!0),h=d.shift(),f=d.pop(),g={className:xi.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},_={};if(o){if(g.onSwipeLeft=this.onSwipeForward,g.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var v=this.getVariableItemHeight(this.state.selectedItem);_.height=v||"auto"}}else g.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,g.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,g.style=Pr(Pr({},g.style),{},{height:this.state.itemSize}),_.height=this.state.itemSize;return Oe.default.createElement("div",{"aria-label":this.props.ariaLabel,className:xi.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},Oe.default.createElement("div",{className:xi.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,l,this.props.labels.leftArrow),Oe.default.createElement("div",{className:xi.default.WRAPPER(!0,this.props.axis),style:_},s?Oe.default.createElement(F4.default,kv({tagName:"ul",innerRef:this.setListRef},g,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&h):Oe.default.createElement("ul",{className:xi.default.SLIDER(!0,this.state.swiping),ref:function(T){return i.setListRef(T)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&h)),this.props.renderArrowNext(this.onClickNext,u,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),n}(Oe.default.Component);Hm.default=Fw;de(Fw,"displayName","Carousel");de(Fw,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:_c.noop,onClickThumb:_c.noop,onChange:_c.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,n,r){return Oe.default.createElement("button",{type:"button","aria-label":r,className:xi.default.ARROW_PREV(!n),onClick:e})},renderArrowNext:function(e,n,r){return Oe.default.createElement("button",{type:"button","aria-label":r,className:xi.default.ARROW_NEXT(!n),onClick:e})},renderIndicator:function(e,n,r,i){return Oe.default.createElement("li",{className:xi.default.DOT(n),onClick:e,onKeyDown:e,value:r,key:r,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(r+1)})},renderItem:function(e){return e},renderThumbs:function(e){var n=Oe.Children.map(e,function(r){var i=r;if(r.type!=="img"&&(i=Oe.Children.toArray(r.props.children).find(function(s){return s.type==="img"})),!!i)return i});return n.filter(function(r){return r}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):n},statusFormatter:_c.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:Wp.slideSwipeAnimationHandler,stopSwipingHandler:Wp.slideStopSwipingHandler});var K4={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(t,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(Hm),n=K4,r=i(eh);function i(s){return s&&s.__esModule?s:{default:s}}})(jk);const Y4="/assets/game_store-D5N4-SpK.jpg",Q4="/assets/beauty_products-DdBKhaaq.jpg",J4="/assets/kitchen_fav-BVidbrhC.jpg",X4="/assets/new_arrival_toys-bl35EseN.jpg",Z4="/assets/shop_books-X-_6zMIx.jpg",eU=[Y4,Q4,J4,X4,Z4],tU={"hero__img--bottom":"_hero__img--bottom_1etls_1"};function nU(){return P.jsxs("div",{children:[P.jsx(jk.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:eU.map((t,e)=>P.jsx("img",{src:t},e))}),P.jsx("div",{className:tU["hero__img--bottom"]})]})}function Yk(t,e){return function(){return t.apply(e,arguments)}}const{toString:rU}=Object.prototype,{getPrototypeOf:Uw}=Object,Qm=(t=>e=>{const n=rU.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),jr=t=>(t=t.toLowerCase(),e=>Qm(e)===t),Jm=t=>e=>typeof e===t,{isArray:du}=Array,gd=Jm("undefined");function iU(t){return t!==null&&!gd(t)&&t.constructor!==null&&!gd(t.constructor)&&Xn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Qk=jr("ArrayBuffer");function sU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Qk(t.buffer),e}const oU=Jm("string"),Xn=Jm("function"),Jk=Jm("number"),Xm=t=>t!==null&&typeof t=="object",aU=t=>t===!0||t===!1,Hf=t=>{if(Qm(t)!=="object")return!1;const e=Uw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},lU=jr("Date"),uU=jr("File"),cU=jr("Blob"),dU=jr("FileList"),hU=t=>Xm(t)&&Xn(t.pipe),fU=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Xn(t.append)&&((e=Qm(t))==="formdata"||e==="object"&&Xn(t.toString)&&t.toString()==="[object FormData]"))},pU=jr("URLSearchParams"),[mU,gU,yU,_U]=["ReadableStream","Request","Response","Headers"].map(jr),vU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),du(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function Xk(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const zo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Zk=t=>!gd(t)&&t!==zo;function xv(){const{caseless:t}=Zk(this)&&this||{},e={},n=(r,i)=>{const s=t&&Xk(e,i)||i;Hf(e[s])&&Hf(r)?e[s]=xv(e[s],r):Hf(r)?e[s]=xv({},r):du(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&rh(arguments[r],n);return e}const wU=(t,e,n,{allOwnKeys:r}={})=>(rh(e,(i,s)=>{n&&Xn(i)?t[s]=Yk(i,n):t[s]=i},{allOwnKeys:r}),t),EU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),SU=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},IU=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Uw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},TU=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},bU=t=>{if(!t)return null;if(du(t))return t;let e=t.length;if(!Jk(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},RU=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Uw(Uint8Array)),AU=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},PU=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},kU=jr("HTMLFormElement"),CU=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),w1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),xU=jr("RegExp"),eC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};rh(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},OU=t=>{eC(t,(e,n)=>{if(Xn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Xn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},DU=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return du(t)?r(t):r(String(t).split(e)),n},NU=()=>{},MU=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,n_="abcdefghijklmnopqrstuvwxyz",E1="0123456789",tC={DIGIT:E1,ALPHA:n_,ALPHA_DIGIT:n_+n_.toUpperCase()+E1},LU=(t=16,e=tC.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function VU(t){return!!(t&&Xn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const FU=t=>{const e=new Array(10),n=(r,i)=>{if(Xm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=du(r)?[]:{};return rh(r,(o,a)=>{const l=n(o,i+1);!gd(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},UU=jr("AsyncFunction"),jU=t=>t&&(Xm(t)||Xn(t))&&Xn(t.then)&&Xn(t.catch),nC=((t,e)=>t?setImmediate:e?((n,r)=>(zo.addEventListener("message",({source:i,data:s})=>{i===zo&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),zo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Xn(zo.postMessage)),BU=typeof queueMicrotask<"u"?queueMicrotask.bind(zo):typeof process<"u"&&process.nextTick||nC,j={isArray:du,isArrayBuffer:Qk,isBuffer:iU,isFormData:fU,isArrayBufferView:sU,isString:oU,isNumber:Jk,isBoolean:aU,isObject:Xm,isPlainObject:Hf,isReadableStream:mU,isRequest:gU,isResponse:yU,isHeaders:_U,isUndefined:gd,isDate:lU,isFile:uU,isBlob:cU,isRegExp:xU,isFunction:Xn,isStream:hU,isURLSearchParams:pU,isTypedArray:RU,isFileList:dU,forEach:rh,merge:xv,extend:wU,trim:vU,stripBOM:EU,inherits:SU,toFlatObject:IU,kindOf:Qm,kindOfTest:jr,endsWith:TU,toArray:bU,forEachEntry:AU,matchAll:PU,isHTMLForm:kU,hasOwnProperty:w1,hasOwnProp:w1,reduceDescriptors:eC,freezeMethods:OU,toObjectSet:DU,toCamelCase:CU,noop:NU,toFiniteNumber:MU,findKey:Xk,global:zo,isContextDefined:Zk,ALPHABET:tC,generateString:LU,isSpecCompliantForm:VU,toJSONObject:FU,isAsyncFn:UU,isThenable:jU,setImmediate:nC,asap:BU};function le(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}j.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const rC=le.prototype,iC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{iC[t]={value:t}});Object.defineProperties(le,iC);Object.defineProperty(rC,"isAxiosError",{value:!0});le.from=(t,e,n,r,i,s)=>{const o=Object.create(rC);return j.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),le.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const $U=null;function Ov(t){return j.isPlainObject(t)||j.isArray(t)}function sC(t){return j.endsWith(t,"[]")?t.slice(0,-2):t}function S1(t,e,n){return t?t.concat(e).map(function(i,s){return i=sC(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function zU(t){return j.isArray(t)&&!t.some(Ov)}const WU=j.toFlatObject(j,{},null,function(e){return/^is[A-Z]/.test(e)});function Zm(t,e,n){if(!j.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=j.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,I){return!j.isUndefined(I[v])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(e);if(!j.isFunction(i))throw new TypeError("visitor must be a function");function u(_){if(_===null)return"";if(j.isDate(_))return _.toISOString();if(!l&&j.isBlob(_))throw new le("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(_)||j.isTypedArray(_)?l&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function d(_,v,I){let T=_;if(_&&!I&&typeof _=="object"){if(j.endsWith(v,"{}"))v=r?v:v.slice(0,-2),_=JSON.stringify(_);else if(j.isArray(_)&&zU(_)||(j.isFileList(_)||j.endsWith(v,"[]"))&&(T=j.toArray(_)))return v=sC(v),T.forEach(function(E,O){!(j.isUndefined(E)||E===null)&&e.append(o===!0?S1([v],O,s):o===null?v:v+"[]",u(E))}),!1}return Ov(_)?!0:(e.append(S1(I,v,s),u(_)),!1)}const h=[],f=Object.assign(WU,{defaultVisitor:d,convertValue:u,isVisitable:Ov});function g(_,v){if(!j.isUndefined(_)){if(h.indexOf(_)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(_),j.forEach(_,function(T,w){(!(j.isUndefined(T)||T===null)&&i.call(e,T,j.isString(w)?w.trim():w,v,f))===!0&&g(T,v?v.concat(w):[w])}),h.pop()}}if(!j.isObject(t))throw new TypeError("data must be an object");return g(t),e}function I1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function jw(t,e){this._pairs=[],t&&Zm(t,this,e)}const oC=jw.prototype;oC.append=function(e,n){this._pairs.push([e,n])};oC.toString=function(e){const n=e?function(r){return e.call(this,r,I1)}:I1;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function qU(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function aC(t,e,n){if(!e)return t;const r=n&&n.encode||qU;j.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=j.isURLSearchParams(e)?e.toString():new jw(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class T1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){j.forEach(this.handlers,function(r){r!==null&&e(r)})}}const lC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HU=typeof URLSearchParams<"u"?URLSearchParams:jw,GU=typeof FormData<"u"?FormData:null,KU=typeof Blob<"u"?Blob:null,YU={isBrowser:!0,classes:{URLSearchParams:HU,FormData:GU,Blob:KU},protocols:["http","https","file","blob","url","data"]},Bw=typeof window<"u"&&typeof document<"u",Dv=typeof navigator=="object"&&navigator||void 0,QU=Bw&&(!Dv||["ReactNative","NativeScript","NS"].indexOf(Dv.product)<0),JU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",XU=Bw&&window.location.href||"http://localhost",ZU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bw,hasStandardBrowserEnv:QU,hasStandardBrowserWebWorkerEnv:JU,navigator:Dv,origin:XU},Symbol.toStringTag,{value:"Module"})),cn={...ZU,...YU};function e5(t,e){return Zm(t,new cn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return cn.isNode&&j.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function t5(t){return j.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function n5(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function uC(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&j.isArray(i)?i.length:o,l?(j.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!j.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&j.isArray(i[o])&&(i[o]=n5(i[o])),!a)}if(j.isFormData(t)&&j.isFunction(t.entries)){const n={};return j.forEachEntry(t,(r,i)=>{e(t5(r),i,n,0)}),n}return null}function r5(t,e,n){if(j.isString(t))try{return(e||JSON.parse)(t),j.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const ih={transitional:lC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=j.isObject(e);if(s&&j.isHTMLForm(e)&&(e=new FormData(e)),j.isFormData(e))return i?JSON.stringify(uC(e)):e;if(j.isArrayBuffer(e)||j.isBuffer(e)||j.isStream(e)||j.isFile(e)||j.isBlob(e)||j.isReadableStream(e))return e;if(j.isArrayBufferView(e))return e.buffer;if(j.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return e5(e,this.formSerializer).toString();if((a=j.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Zm(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),r5(e)):e}],transformResponse:[function(e){const n=this.transitional||ih.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(j.isResponse(e)||j.isReadableStream(e))return e;if(e&&j.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?le.from(a,le.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cn.classes.FormData,Blob:cn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],t=>{ih.headers[t]={}});const i5=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),s5=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&i5[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},b1=Symbol("internals");function Xu(t){return t&&String(t).trim().toLowerCase()}function Gf(t){return t===!1||t==null?t:j.isArray(t)?t.map(Gf):String(t)}function o5(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const a5=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function r_(t,e,n,r,i){if(j.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!j.isString(e)){if(j.isString(r))return e.indexOf(r)!==-1;if(j.isRegExp(r))return r.test(e)}}function l5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function u5(t,e){const n=j.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class jn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const d=Xu(l);if(!d)throw new Error("header name must be a non-empty string");const h=j.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=Gf(a))}const o=(a,l)=>j.forEach(a,(u,d)=>s(u,d,l));if(j.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(j.isString(e)&&(e=e.trim())&&!a5(e))o(s5(e),n);else if(j.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Xu(e),e){const r=j.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return o5(i);if(j.isFunction(n))return n.call(this,i,r);if(j.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Xu(e),e){const r=j.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||r_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Xu(o),o){const a=j.findKey(r,o);a&&(!n||r_(r,r[a],a,n))&&(delete r[a],i=!0)}}return j.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||r_(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return j.forEach(this,(i,s)=>{const o=j.findKey(r,s);if(o){n[o]=Gf(i),delete n[s];return}const a=e?l5(s):String(s).trim();a!==s&&delete n[s],n[a]=Gf(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return j.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&j.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[b1]=this[b1]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Xu(o);r[a]||(u5(i,o),r[a]=!0)}return j.isArray(e)?e.forEach(s):s(e),this}}jn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(jn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});j.freezeMethods(jn);function i_(t,e){const n=this||ih,r=e||n,i=jn.from(r.headers);let s=r.data;return j.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function cC(t){return!!(t&&t.__CANCEL__)}function hu(t,e,n){le.call(this,t??"canceled",le.ERR_CANCELED,e,n),this.name="CanceledError"}j.inherits(hu,le,{__CANCEL__:!0});function dC(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new le("Request failed with status code "+n.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function c5(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function d5(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[s];o||(o=u),n[i]=l,r[i]=u;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const g=d&&u-d;return g?Math.round(f*1e3/g):void 0}}function h5(t,e){let n=0,r=1e3/e,i,s;const o=(u,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const Hp=(t,e,n=3)=>{let r=0;const i=d5(50,250);return h5(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},R1=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},A1=t=>(...e)=>j.asap(()=>t(...e)),f5=cn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,cn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(cn.origin),cn.navigator&&/(msie|trident)/i.test(cn.navigator.userAgent)):()=>!0,p5=cn.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];j.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),j.isString(r)&&o.push("path="+r),j.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function m5(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function g5(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function hC(t,e){return t&&!m5(e)?g5(t,e):e}const P1=t=>t instanceof jn?{...t}:t;function oa(t,e){e=e||{};const n={};function r(u,d,h,f){return j.isPlainObject(u)&&j.isPlainObject(d)?j.merge.call({caseless:f},u,d):j.isPlainObject(d)?j.merge({},d):j.isArray(d)?d.slice():d}function i(u,d,h,f){if(j.isUndefined(d)){if(!j.isUndefined(u))return r(void 0,u,h,f)}else return r(u,d,h,f)}function s(u,d){if(!j.isUndefined(d))return r(void 0,d)}function o(u,d){if(j.isUndefined(d)){if(!j.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,h){if(h in e)return r(u,d);if(h in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,h)=>i(P1(u),P1(d),h,!0)};return j.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=l[d]||i,f=h(t[d],e[d],d);j.isUndefined(f)&&h!==a||(n[d]=f)}),n}const fC=t=>{const e=oa({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=jn.from(o),e.url=aC(hC(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(j.isFormData(n)){if(cn.hasStandardBrowserEnv||cn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(cn.hasStandardBrowserEnv&&(r&&j.isFunction(r)&&(r=r(e)),r||r!==!1&&f5(e.url))){const u=i&&s&&p5.read(s);u&&o.set(i,u)}return e},y5=typeof XMLHttpRequest<"u",_5=y5&&function(t){return new Promise(function(n,r){const i=fC(t);let s=i.data;const o=jn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,d,h,f,g,_;function v(){g&&g(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let I=new XMLHttpRequest;I.open(i.method.toUpperCase(),i.url,!0),I.timeout=i.timeout;function T(){if(!I)return;const E=jn.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:E,config:t,request:I};dC(function(b){n(b),v()},function(b){r(b),v()},x),I=null}"onloadend"in I?I.onloadend=T:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(T)},I.onabort=function(){I&&(r(new le("Request aborted",le.ECONNABORTED,t,I)),I=null)},I.onerror=function(){r(new le("Network Error",le.ERR_NETWORK,t,I)),I=null},I.ontimeout=function(){let O=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const x=i.transitional||lC;i.timeoutErrorMessage&&(O=i.timeoutErrorMessage),r(new le(O,x.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,t,I)),I=null},s===void 0&&o.setContentType(null),"setRequestHeader"in I&&j.forEach(o.toJSON(),function(O,x){I.setRequestHeader(x,O)}),j.isUndefined(i.withCredentials)||(I.withCredentials=!!i.withCredentials),a&&a!=="json"&&(I.responseType=i.responseType),u&&([f,_]=Hp(u,!0),I.addEventListener("progress",f)),l&&I.upload&&([h,g]=Hp(l),I.upload.addEventListener("progress",h),I.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(d=E=>{I&&(r(!E||E.type?new hu(null,t,I):E),I.abort(),I=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const w=c5(i.url);if(w&&cn.protocols.indexOf(w)===-1){r(new le("Unsupported protocol "+w+":",le.ERR_BAD_REQUEST,t));return}I.send(s||null)})},v5=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof le?d:new hu(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new le(`timeout ${e} of ms exceeded`,le.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>j.asap(a),l}},w5=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},E5=async function*(t,e){for await(const n of S5(t))yield*w5(n,e)},S5=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},k1=(t,e,n,r)=>{const i=E5(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){a(),l.close();return}let h=d.byteLength;if(n){let f=s+=h;n(f)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},eg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",pC=eg&&typeof ReadableStream=="function",I5=eg&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),mC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},T5=pC&&mC(()=>{let t=!1;const e=new Request(cn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),C1=64*1024,Nv=pC&&mC(()=>j.isReadableStream(new Response("").body)),Gp={stream:Nv&&(t=>t.body)};eg&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Gp[e]&&(Gp[e]=j.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new le(`Response type '${e}' is not supported`,le.ERR_NOT_SUPPORT,r)})})})(new Response);const b5=async t=>{if(t==null)return 0;if(j.isBlob(t))return t.size;if(j.isSpecCompliantForm(t))return(await new Request(cn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(j.isArrayBufferView(t)||j.isArrayBuffer(t))return t.byteLength;if(j.isURLSearchParams(t)&&(t=t+""),j.isString(t))return(await I5(t)).byteLength},R5=async(t,e)=>{const n=j.toFiniteNumber(t.getContentLength());return n??b5(e)},A5=eg&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=fC(t);u=u?(u+"").toLowerCase():"text";let g=v5([i,s&&s.toAbortSignal()],o),_;const v=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let I;try{if(l&&T5&&n!=="get"&&n!=="head"&&(I=await R5(d,r))!==0){let x=new Request(e,{method:"POST",body:r,duplex:"half"}),N;if(j.isFormData(r)&&(N=x.headers.get("content-type"))&&d.setContentType(N),x.body){const[b,S]=R1(I,Hp(A1(l)));r=k1(x.body,C1,b,S)}}j.isString(h)||(h=h?"include":"omit");const T="credentials"in Request.prototype;_=new Request(e,{...f,signal:g,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:T?h:void 0});let w=await fetch(_);const E=Nv&&(u==="stream"||u==="response");if(Nv&&(a||E&&v)){const x={};["status","statusText","headers"].forEach(m=>{x[m]=w[m]});const N=j.toFiniteNumber(w.headers.get("content-length")),[b,S]=a&&R1(N,Hp(A1(a),!0))||[];w=new Response(k1(w.body,C1,b,()=>{S&&S(),v&&v()}),x)}u=u||"text";let O=await Gp[j.findKey(Gp,u)||"text"](w,t);return!E&&v&&v(),await new Promise((x,N)=>{dC(x,N,{data:O,headers:jn.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:_})})}catch(T){throw v&&v(),T&&T.name==="TypeError"&&/fetch/i.test(T.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,t,_),{cause:T.cause||T}):le.from(T,T&&T.code,t,_)}}),Mv={http:$U,xhr:_5,fetch:A5};j.forEach(Mv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const x1=t=>`- ${t}`,P5=t=>j.isFunction(t)||t===null||t===!1,gC={getAdapter:t=>{t=j.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!P5(n)&&(r=Mv[(o=String(n)).toLowerCase()],r===void 0))throw new le(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(x1).join(`
`):" "+x1(s[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Mv};function s_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new hu(null,t)}function O1(t){return s_(t),t.headers=jn.from(t.headers),t.data=i_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),gC.getAdapter(t.adapter||ih.adapter)(t).then(function(r){return s_(t),r.data=i_.call(t,t.transformResponse,r),r.headers=jn.from(r.headers),r},function(r){return cC(r)||(s_(t),r&&r.response&&(r.response.data=i_.call(t,t.transformResponse,r.response),r.response.headers=jn.from(r.response.headers))),Promise.reject(r)})}const yC="1.7.9",tg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{tg[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const D1={};tg.transitional=function(e,n,r){function i(s,o){return"[Axios v"+yC+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new le(i(o," has been removed"+(n?" in "+n:"")),le.ERR_DEPRECATED);return n&&!D1[o]&&(D1[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};tg.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function k5(t,e,n){if(typeof t!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new le("option "+s+" must be "+l,le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new le("Unknown option "+s,le.ERR_BAD_OPTION)}}const Kf={assertOptions:k5,validators:tg},Wr=Kf.validators;class Qo{constructor(e){this.defaults=e,this.interceptors={request:new T1,response:new T1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=oa(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Kf.assertOptions(r,{silentJSONParsing:Wr.transitional(Wr.boolean),forcedJSONParsing:Wr.transitional(Wr.boolean),clarifyTimeoutError:Wr.transitional(Wr.boolean)},!1),i!=null&&(j.isFunction(i)?n.paramsSerializer={serialize:i}:Kf.assertOptions(i,{encode:Wr.function,serialize:Wr.function},!0)),Kf.assertOptions(n,{baseUrl:Wr.spelling("baseURL"),withXsrfToken:Wr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&j.merge(s.common,s[n.method]);s&&j.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),n.headers=jn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,h=0,f;if(!l){const _=[O1.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,u),f=_.length,d=Promise.resolve(n);h<f;)d=d.then(_[h++],_[h++]);return d}f=a.length;let g=n;for(h=0;h<f;){const _=a[h++],v=a[h++];try{g=_(g)}catch(I){v.call(this,I);break}}try{d=O1.call(this,g)}catch(_){return Promise.reject(_)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=oa(this.defaults,e);const n=hC(e.baseURL,e.url);return aC(n,e.params,e.paramsSerializer)}}j.forEach(["delete","get","head","options"],function(e){Qo.prototype[e]=function(n,r){return this.request(oa(r||{},{method:e,url:n,data:(r||{}).data}))}});j.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(oa(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Qo.prototype[e]=n(),Qo.prototype[e+"Form"]=n(!0)});class $w{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new hu(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new $w(function(i){e=i}),cancel:e}}}function C5(t){return function(n){return t.apply(null,n)}}function x5(t){return j.isObject(t)&&t.isAxiosError===!0}const Lv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Lv).forEach(([t,e])=>{Lv[e]=t});function _C(t){const e=new Qo(t),n=Yk(Qo.prototype.request,e);return j.extend(n,Qo.prototype,e,{allOwnKeys:!0}),j.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return _C(oa(t,i))},n}const ut=_C(ih);ut.Axios=Qo;ut.CanceledError=hu;ut.CancelToken=$w;ut.isCancel=cC;ut.VERSION=yC;ut.toFormData=Zm;ut.AxiosError=le;ut.Cancel=ut.CanceledError;ut.all=function(e){return Promise.all(e)};ut.spread=C5;ut.isAxiosError=x5;ut.mergeConfig=oa;ut.AxiosHeaders=jn;ut.formToJSON=t=>uC(j.isHTMLForm(t)?new FormData(t):t);ut.getAdapter=gC.getAdapter;ut.HttpStatusCode=Lv;ut.default=ut;const O5="_card__container_vnxwd_1",D5="_button_vnxwd_15",N5="_price_border_vnxwd_42",M5="_rating_vnxwd_45",L5="_products_container_vnxwd_50",V5="_product__flexed_vnxwd_62",xo={card__container:O5,button:D5,price_border:N5,rating:M5,products_container:L5,product__flexed:V5};var F5={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function U5(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return F5[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Fc(t){var e=U5(t);return"".concat(e.value).concat(e.unit)}var Vv=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r},Kp=function(){return Kp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Kp.apply(this,arguments)},j5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},B5=Vv("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function Fv(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.size,d=u===void 0?35:u,h=j5(t,["loading","color","speedMultiplier","cssOverride","size"]),f=Kp({background:"transparent !important",width:Fc(d),height:Fc(d),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(B5," ").concat(.75/o,"s 0s infinite linear"),animationFillMode:"both"},l);return n?U.createElement("span",Kp({style:f},h)):null}var Yp=function(){return Yp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Yp.apply(this,arguments)},$5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function z5(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.size,d=u===void 0?15:u,h=t.margin,f=h===void 0?2:h,g=$5(t,["loading","color","speedMultiplier","cssOverride","size","margin"]),_=Yp({display:"inherit"},l),v=Vv("RiseLoader",`0% {transform: scale(1.1)}
    25% {transform: translateY(-`.concat(d,`px)}
    50% {transform: scale(0.4)}
    75% {transform: translateY(`).concat(d,`px)}
    100% {transform: translateY(0) scale(1.0)}`),"even"),I=Vv("RiseLoader",`0% {transform: scale(0.4)}
    25% {transform: translateY(`.concat(d,`px)}
    50% {transform: scale(1.1)}
    75% {transform: translateY(`).concat(-d,`px)}
    100% {transform: translateY(0) scale(0.75)}`),"odd"),T=function(w){return{backgroundColor:i,width:Fc(d),height:Fc(d),margin:Fc(f),borderRadius:"100%",display:"inline-block",animation:"".concat(w%2===0?v:I," ").concat(1/o,"s 0s infinite cubic-bezier(0.15, 0.46, 0.9, 0.6)"),animationFillMode:"both"}};return n?U.createElement("span",Yp({style:_},g),U.createElement("span",{style:T(1)}),U.createElement("span",{style:T(2)}),U.createElement("span",{style:T(3)}),U.createElement("span",{style:T(4)}),U.createElement("span",{style:T(5)})):null}function zw(){return P.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:P.jsx(z5,{color:"#36d7b7"})})}function vC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=vC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Uc(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=vC(t))&&(r&&(r+=" "),r+=e);return r}function wC(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const W5={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function EC(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const u=s[l];u&&(o+=(a===!0?"":" ")+e(u),a=!1,n&&n[u]&&(o+=" "+n[u]))}r[i]=o}return r}const q5=U.createContext(),H5=()=>U.useContext(q5)??!1;function N1(t){try{return t.matches(":focus-visible")}catch{}return!1}function Di(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function SC(t){if(!Di(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=SC(t[n])}),e}function Zn(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Di(t)&&Di(e)&&Object.keys(e).forEach(i=>{Di(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Di(t[i])?r[i]=Zn(t[i],e[i],n):n.clone?r[i]=Di(e[i])?SC(e[i]):e[i]:r[i]=e[i]}),r}function aa(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function Ys(t){if(typeof t!="string")throw new Error(aa(7));return t.charAt(0).toUpperCase()+t.slice(1)}function G5(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let M1=0;function K5(t){const[e,n]=U.useState(t),r=t||e;return U.useEffect(()=>{e==null&&(M1+=1,n(`mui-${M1}`))},[e]),r}const L1=gp.useId;function IC(t){if(L1!==void 0){const e=L1();return t??e}return K5(t)}function Y5({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=U.useRef(t!==void 0),[s,o]=U.useState(e),a=i?t:s,l=U.useCallback(u=>{i||o(u)},[]);return[a,l]}function Q5(...t){return U.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{G5(n,e)})},t)}function Uv(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=Uv(s[l],o[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}const V1=t=>t,J5=()=>{let t=V1;return{configure(e){t=e},generate(e){return t(e)},reset(){t=V1}}},X5=J5(),Z5={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ww(t,e,n="Mui"){const r=Z5[e];return r?`${n}-${r}`:`${X5.generate(t)}-${e}`}function TC(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Ww(t,i,n)}),r}function jc(t,e){return e?Zn(t,e,{clone:!1}):t}function ej(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function tj(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function nj(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function rj(t){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>e(t.breakpoints.up(...a),o),s.down=(...a)=>e(t.breakpoints.down(...a),o),s.between=(...a)=>e(t.breakpoints.between(...a),o),s.only=(...a)=>e(t.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(t.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const ng={xs:0,sm:600,md:900,lg:1200,xl:1536},F1={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${ng[t]}px)`},ij={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:ng[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Qi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||F1;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||F1;return Object.keys(e).reduce((o,a)=>{if(tj(s.keys,a)){const l=nj(r.containerQueries?r:ij,a);l&&(o[l]=n(e[a],a))}else if(Object.keys(s.values||ng).includes(a)){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function sj(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function oj(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function rg(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Qp(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=rg(t,n)||r,e&&(i=e(i,r,t)),i}function bt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=rg(l,r)||{};return Qi(o,a,h=>{let f=Qp(u,i,h);return h===f&&typeof h=="string"&&(f=Qp(u,i,`${e}${h==="default"?"":Ys(h)}`,h)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function aj(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const lj={m:"margin",p:"padding"},uj={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},U1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},cj=aj(t=>{if(t.length>2)if(U1[t])t=U1[t];else return[t];const[e,n]=t.split(""),r=lj[e],i=uj[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),qw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Hw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...qw,...Hw];function sh(t,e,n,r){const i=rg(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function Gw(t){return sh(t,"spacing",8)}function oh(t,e){return typeof e=="string"||e==null?e:t(e)}function dj(t,e){return n=>t.reduce((r,i)=>(r[i]=oh(e,n),r),{})}function hj(t,e,n,r){if(!e.includes(n))return null;const i=cj(n),s=dj(i,r),o=t[n];return Qi(t,o,s)}function bC(t,e){const n=Gw(t.theme);return Object.keys(t).map(r=>hj(t,e,r,n)).reduce(jc,{})}function ht(t){return bC(t,qw)}ht.propTypes={};ht.filterProps=qw;function ft(t){return bC(t,Hw)}ft.propTypes={};ft.filterProps=Hw;function ig(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?jc(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function lr(t){return typeof t!="number"?t:`${t}px solid`}function yr(t,e){return bt({prop:t,themeKey:"borders",transform:e})}const fj=yr("border",lr),pj=yr("borderTop",lr),mj=yr("borderRight",lr),gj=yr("borderBottom",lr),yj=yr("borderLeft",lr),_j=yr("borderColor"),vj=yr("borderTopColor"),wj=yr("borderRightColor"),Ej=yr("borderBottomColor"),Sj=yr("borderLeftColor"),Ij=yr("outline",lr),Tj=yr("outlineColor"),sg=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=sh(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:oh(e,r)});return Qi(t,t.borderRadius,n)}return null};sg.propTypes={};sg.filterProps=["borderRadius"];ig(fj,pj,mj,gj,yj,_j,vj,wj,Ej,Sj,sg,Ij,Tj);const og=t=>{if(t.gap!==void 0&&t.gap!==null){const e=sh(t.theme,"spacing",8),n=r=>({gap:oh(e,r)});return Qi(t,t.gap,n)}return null};og.propTypes={};og.filterProps=["gap"];const ag=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=sh(t.theme,"spacing",8),n=r=>({columnGap:oh(e,r)});return Qi(t,t.columnGap,n)}return null};ag.propTypes={};ag.filterProps=["columnGap"];const lg=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=sh(t.theme,"spacing",8),n=r=>({rowGap:oh(e,r)});return Qi(t,t.rowGap,n)}return null};lg.propTypes={};lg.filterProps=["rowGap"];const bj=bt({prop:"gridColumn"}),Rj=bt({prop:"gridRow"}),Aj=bt({prop:"gridAutoFlow"}),Pj=bt({prop:"gridAutoColumns"}),kj=bt({prop:"gridAutoRows"}),Cj=bt({prop:"gridTemplateColumns"}),xj=bt({prop:"gridTemplateRows"}),Oj=bt({prop:"gridTemplateAreas"}),Dj=bt({prop:"gridArea"});ig(og,ag,lg,bj,Rj,Aj,Pj,kj,Cj,xj,Oj,Dj);function El(t,e){return e==="grey"?e:t}const Nj=bt({prop:"color",themeKey:"palette",transform:El}),Mj=bt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:El}),Lj=bt({prop:"backgroundColor",themeKey:"palette",transform:El});ig(Nj,Mj,Lj);function Kn(t){return t<=1&&t!==0?`${t*100}%`:t}const Vj=bt({prop:"width",transform:Kn}),Kw=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,o,a,l;const r=((o=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||ng[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Kn(n)}};return Qi(t,t.maxWidth,e)}return null};Kw.filterProps=["maxWidth"];const Fj=bt({prop:"minWidth",transform:Kn}),Uj=bt({prop:"height",transform:Kn}),jj=bt({prop:"maxHeight",transform:Kn}),Bj=bt({prop:"minHeight",transform:Kn});bt({prop:"size",cssProperty:"width",transform:Kn});bt({prop:"size",cssProperty:"height",transform:Kn});const $j=bt({prop:"boxSizing"});ig(Vj,Kw,Fj,Uj,jj,Bj,$j);const ug={border:{themeKey:"borders",transform:lr},borderTop:{themeKey:"borders",transform:lr},borderRight:{themeKey:"borders",transform:lr},borderBottom:{themeKey:"borders",transform:lr},borderLeft:{themeKey:"borders",transform:lr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:lr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:sg},color:{themeKey:"palette",transform:El},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:El},backgroundColor:{themeKey:"palette",transform:El},p:{style:ft},pt:{style:ft},pr:{style:ft},pb:{style:ft},pl:{style:ft},px:{style:ft},py:{style:ft},padding:{style:ft},paddingTop:{style:ft},paddingRight:{style:ft},paddingBottom:{style:ft},paddingLeft:{style:ft},paddingX:{style:ft},paddingY:{style:ft},paddingInline:{style:ft},paddingInlineStart:{style:ft},paddingInlineEnd:{style:ft},paddingBlock:{style:ft},paddingBlockStart:{style:ft},paddingBlockEnd:{style:ft},m:{style:ht},mt:{style:ht},mr:{style:ht},mb:{style:ht},ml:{style:ht},mx:{style:ht},my:{style:ht},margin:{style:ht},marginTop:{style:ht},marginRight:{style:ht},marginBottom:{style:ht},marginLeft:{style:ht},marginX:{style:ht},marginY:{style:ht},marginInline:{style:ht},marginInlineStart:{style:ht},marginInlineEnd:{style:ht},marginBlock:{style:ht},marginBlockStart:{style:ht},marginBlockEnd:{style:ht},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:og},rowGap:{style:lg},columnGap:{style:ag},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Kn},maxWidth:{style:Kw},minWidth:{transform:Kn},height:{transform:Kn},maxHeight:{transform:Kn},minHeight:{transform:Kn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function zj(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Wj(t,e){return typeof t=="function"?t(e):t}function qj(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:d,style:h}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const f=rg(i,u)||{};return h?h(o):Qi(o,r,_=>{let v=Qp(f,d,_);return _===v&&typeof _=="string"&&(v=Qp(f,d,`${n}${_==="default"?"":Ys(_)}`,_)),l===!1?v:{[l]:v}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??ug;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const u=sj(i.breakpoints),d=Object.keys(u);let h=u;return Object.keys(l).forEach(f=>{const g=Wj(l[f],i);if(g!=null)if(typeof g=="object")if(s[f])h=jc(h,t(f,g,i,s));else{const _=Qi({theme:i},g,v=>({[f]:v}));zj(_,g)?h[f]=e({sx:g,theme:i}):h=jc(h,_)}else h=jc(h,t(f,g,i,s))}),ej(i,oj(d,h))}return Array.isArray(r)?r.map(o):o(r)}return e}const ah=qj();ah.filterProps=["sx"];function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(null,arguments)}function RC(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Hj=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Gj=RC(function(t){return Hj.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Kj=!1;function Yj(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Qj(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Jj=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!Kj:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Qj(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Yj(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),an="-ms-",Jp="-moz-",ke="-webkit-",AC="comm",Yw="rule",Qw="decl",Xj="@import",PC="@keyframes",Zj="@layer",eB=Math.abs,cg=String.fromCharCode,tB=Object.assign;function nB(t,e){return Yt(t,0)^45?(((e<<2^Yt(t,0))<<2^Yt(t,1))<<2^Yt(t,2))<<2^Yt(t,3):0}function kC(t){return t.trim()}function rB(t,e){return(t=e.exec(t))?t[0]:t}function Ce(t,e,n){return t.replace(e,n)}function Bv(t,e){return t.indexOf(e)}function Yt(t,e){return t.charCodeAt(e)|0}function yd(t,e,n){return t.slice(e,n)}function Kr(t){return t.length}function Jw(t){return t.length}function _f(t,e){return e.push(t),t}function iB(t,e){return t.map(e).join("")}var dg=1,Ul=1,CC=0,Bn=0,kt=0,fu="";function hg(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:dg,column:Ul,length:o,return:""}}function Zu(t,e){return tB(hg("",null,null,"",null,null,0),t,{length:-t.length},e)}function sB(){return kt}function oB(){return kt=Bn>0?Yt(fu,--Bn):0,Ul--,kt===10&&(Ul=1,dg--),kt}function er(){return kt=Bn<CC?Yt(fu,Bn++):0,Ul++,kt===10&&(Ul=1,dg++),kt}function ui(){return Yt(fu,Bn)}function Yf(){return Bn}function lh(t,e){return yd(fu,t,e)}function _d(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xC(t){return dg=Ul=1,CC=Kr(fu=t),Bn=0,[]}function OC(t){return fu="",t}function Qf(t){return kC(lh(Bn-1,$v(t===91?t+2:t===40?t+1:t)))}function aB(t){for(;(kt=ui())&&kt<33;)er();return _d(t)>2||_d(kt)>3?"":" "}function lB(t,e){for(;--e&&er()&&!(kt<48||kt>102||kt>57&&kt<65||kt>70&&kt<97););return lh(t,Yf()+(e<6&&ui()==32&&er()==32))}function $v(t){for(;er();)switch(kt){case t:return Bn;case 34:case 39:t!==34&&t!==39&&$v(kt);break;case 40:t===41&&$v(t);break;case 92:er();break}return Bn}function uB(t,e){for(;er()&&t+kt!==57;)if(t+kt===84&&ui()===47)break;return"/*"+lh(e,Bn-1)+"*"+cg(t===47?t:er())}function cB(t){for(;!_d(ui());)er();return lh(t,Bn)}function dB(t){return OC(Jf("",null,null,null,[""],t=xC(t),0,[0],t))}function Jf(t,e,n,r,i,s,o,a,l){for(var u=0,d=0,h=o,f=0,g=0,_=0,v=1,I=1,T=1,w=0,E="",O=i,x=s,N=r,b=E;I;)switch(_=w,w=er()){case 40:if(_!=108&&Yt(b,h-1)==58){Bv(b+=Ce(Qf(w),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:b+=Qf(w);break;case 9:case 10:case 13:case 32:b+=aB(_);break;case 92:b+=lB(Yf()-1,7);continue;case 47:switch(ui()){case 42:case 47:_f(hB(uB(er(),Yf()),e,n),l);break;default:b+="/"}break;case 123*v:a[u++]=Kr(b)*T;case 125*v:case 59:case 0:switch(w){case 0:case 125:I=0;case 59+d:T==-1&&(b=Ce(b,/\f/g,"")),g>0&&Kr(b)-h&&_f(g>32?B1(b+";",r,n,h-1):B1(Ce(b," ","")+";",r,n,h-2),l);break;case 59:b+=";";default:if(_f(N=j1(b,e,n,u,d,i,a,E,O=[],x=[],h),s),w===123)if(d===0)Jf(b,e,N,N,O,s,h,a,x);else switch(f===99&&Yt(b,3)===110?100:f){case 100:case 108:case 109:case 115:Jf(t,N,N,r&&_f(j1(t,N,N,0,0,i,a,E,i,O=[],h),x),i,x,h,a,r?O:x);break;default:Jf(b,N,N,N,[""],x,0,a,x)}}u=d=g=0,v=T=1,E=b="",h=o;break;case 58:h=1+Kr(b),g=_;default:if(v<1){if(w==123)--v;else if(w==125&&v++==0&&oB()==125)continue}switch(b+=cg(w),w*v){case 38:T=d>0?1:(b+="\f",-1);break;case 44:a[u++]=(Kr(b)-1)*T,T=1;break;case 64:ui()===45&&(b+=Qf(er())),f=ui(),d=h=Kr(E=b+=cB(Yf())),w++;break;case 45:_===45&&Kr(b)==2&&(v=0)}}return s}function j1(t,e,n,r,i,s,o,a,l,u,d){for(var h=i-1,f=i===0?s:[""],g=Jw(f),_=0,v=0,I=0;_<r;++_)for(var T=0,w=yd(t,h+1,h=eB(v=o[_])),E=t;T<g;++T)(E=kC(v>0?f[T]+" "+w:Ce(w,/&\f/g,f[T])))&&(l[I++]=E);return hg(t,e,n,i===0?Yw:a,l,u,d)}function hB(t,e,n){return hg(t,e,n,AC,cg(sB()),yd(t,2,-2),0)}function B1(t,e,n,r){return hg(t,e,n,Qw,yd(t,0,r),yd(t,r+1,-1),r)}function Sl(t,e){for(var n="",r=Jw(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function fB(t,e,n,r){switch(t.type){case Zj:if(t.children.length)break;case Xj:case Qw:return t.return=t.return||t.value;case AC:return"";case PC:return t.return=t.value+"{"+Sl(t.children,r)+"}";case Yw:t.value=t.props.join(",")}return Kr(n=Sl(t.children,r))?t.return=t.value+"{"+n+"}":""}function pB(t){var e=Jw(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function mB(t){return function(e){e.root||(e=e.return)&&t(e)}}var gB=function(e,n,r){for(var i=0,s=0;i=s,s=ui(),i===38&&s===12&&(n[r]=1),!_d(s);)er();return lh(e,Bn)},yB=function(e,n){var r=-1,i=44;do switch(_d(i)){case 0:i===38&&ui()===12&&(n[r]=1),e[r]+=gB(Bn-1,n,r);break;case 2:e[r]+=Qf(i);break;case 4:if(i===44){e[++r]=ui()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=cg(i)}while(i=er());return e},_B=function(e,n){return OC(yB(xC(e),n))},$1=new WeakMap,vB=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!$1.get(r))&&!i){$1.set(e,!0);for(var s=[],o=_B(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var d=0;d<a.length;d++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},wB=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function DC(t,e){switch(nB(t,e)){case 5103:return ke+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ke+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ke+t+Jp+t+an+t+t;case 6828:case 4268:return ke+t+an+t+t;case 6165:return ke+t+an+"flex-"+t+t;case 5187:return ke+t+Ce(t,/(\w+).+(:[^]+)/,ke+"box-$1$2"+an+"flex-$1$2")+t;case 5443:return ke+t+an+"flex-item-"+Ce(t,/flex-|-self/,"")+t;case 4675:return ke+t+an+"flex-line-pack"+Ce(t,/align-content|flex-|-self/,"")+t;case 5548:return ke+t+an+Ce(t,"shrink","negative")+t;case 5292:return ke+t+an+Ce(t,"basis","preferred-size")+t;case 6060:return ke+"box-"+Ce(t,"-grow","")+ke+t+an+Ce(t,"grow","positive")+t;case 4554:return ke+Ce(t,/([^-])(transform)/g,"$1"+ke+"$2")+t;case 6187:return Ce(Ce(Ce(t,/(zoom-|grab)/,ke+"$1"),/(image-set)/,ke+"$1"),t,"")+t;case 5495:case 3959:return Ce(t,/(image-set\([^]*)/,ke+"$1$`$1");case 4968:return Ce(Ce(t,/(.+:)(flex-)?(.*)/,ke+"box-pack:$3"+an+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ke+t+t;case 4095:case 3583:case 4068:case 2532:return Ce(t,/(.+)-inline(.+)/,ke+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Kr(t)-1-e>6)switch(Yt(t,e+1)){case 109:if(Yt(t,e+4)!==45)break;case 102:return Ce(t,/(.+:)(.+)-([^]+)/,"$1"+ke+"$2-$3$1"+Jp+(Yt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Bv(t,"stretch")?DC(Ce(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Yt(t,e+1)!==115)break;case 6444:switch(Yt(t,Kr(t)-3-(~Bv(t,"!important")&&10))){case 107:return Ce(t,":",":"+ke)+t;case 101:return Ce(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ke+(Yt(t,14)===45?"inline-":"")+"box$3$1"+ke+"$2$3$1"+an+"$2box$3")+t}break;case 5936:switch(Yt(t,e+11)){case 114:return ke+t+an+Ce(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ke+t+an+Ce(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ke+t+an+Ce(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ke+t+an+t+t}return t}var EB=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Qw:e.return=DC(e.value,e.length);break;case PC:return Sl([Zu(e,{value:Ce(e.value,"@","@"+ke)})],i);case Yw:if(e.length)return iB(e.props,function(s){switch(rB(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Sl([Zu(e,{props:[Ce(s,/:(read-\w+)/,":"+Jp+"$1")]})],i);case"::placeholder":return Sl([Zu(e,{props:[Ce(s,/:(plac\w+)/,":"+ke+"input-$1")]}),Zu(e,{props:[Ce(s,/:(plac\w+)/,":"+Jp+"$1")]}),Zu(e,{props:[Ce(s,/:(plac\w+)/,an+"input-$1")]})],i)}return""})}},SB=[EB],IB=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var I=v.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||SB,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var I=v.getAttribute("data-emotion").split(" "),T=1;T<I.length;T++)s[I[T]]=!0;a.push(v)});var l,u=[vB,wB];{var d,h=[fB,mB(function(v){d.insert(v)})],f=pB(u.concat(i,h)),g=function(I){return Sl(dB(I),f)};l=function(I,T,w,E){d=w,g(I?I+"{"+T.styles+"}":T.styles),E&&(_.inserted[T.name]=!0)}}var _={key:n,sheet:new Jj({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return _.sheet.hydrate(a),_},TB=!0;function bB(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var NC=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||TB===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},RB=function(e,n,r){NC(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function AB(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var PB={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kB=!1,CB=/[A-Z]|^ms/g,xB=/_EMO_([^_]+?)_([^]*?)_EMO_/g,MC=function(e){return e.charCodeAt(1)===45},z1=function(e){return e!=null&&typeof e!="boolean"},o_=RC(function(t){return MC(t)?t:t.replace(CB,"-$&").toLowerCase()}),W1=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(xB,function(r,i,s){return Yr={name:i,styles:s,next:Yr},i})}return PB[e]!==1&&!MC(e)&&typeof n=="number"&&n!==0?n+"px":n},OB="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function vd(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Yr={name:i.name,styles:i.styles,next:Yr},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Yr={name:o.name,styles:o.styles,next:Yr},o=o.next;var a=s.styles+";";return a}return DB(t,e,n)}case"function":{if(t!==void 0){var l=Yr,u=n(t);return Yr=l,vd(t,e,u)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function DB(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=vd(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":z1(a)&&(r+=o_(s)+":"+W1(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&kB)throw new Error(OB);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)z1(o[l])&&(r+=o_(s)+":"+W1(s,o[l])+";");else{var u=vd(t,e,o);switch(s){case"animation":case"animationName":{r+=o_(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}}return r}var q1=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Yr;function NB(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Yr=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=vd(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=vd(n,e,t[a]),r){var l=s;i+=l[a]}q1.lastIndex=0;for(var u="",d;(d=q1.exec(i))!==null;)u+="-"+d[1];var h=AB(i)+u;return{name:h,styles:i,next:Yr}}var MB=function(e){return e()},LB=gp.useInsertionEffect?gp.useInsertionEffect:!1,VB=LB||MB,LC=U.createContext(typeof HTMLElement<"u"?IB({key:"css"}):null);LC.Provider;var FB=function(e){return U.forwardRef(function(n,r){var i=U.useContext(LC);return e(n,i,r)})},UB=U.createContext({}),jB=Gj,BB=function(e){return e!=="theme"},H1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?jB:BB},G1=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},$B=!1,zB=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return NC(n,r,i),VB(function(){return RB(n,r,i)}),null},WB=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=G1(e,n,r),l=a||H1(i),u=!l("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{h.push(d[0][0]);for(var f=d.length,g=1;g<f;g++)h.push(d[g],d[0][g])}var _=FB(function(v,I,T){var w=u&&v.as||i,E="",O=[],x=v;if(v.theme==null){x={};for(var N in v)x[N]=v[N];x.theme=U.useContext(UB)}typeof v.className=="string"?E=bB(I.registered,O,v.className):v.className!=null&&(E=v.className+" ");var b=NB(h.concat(O),I.registered,x);E+=I.key+"-"+b.name,o!==void 0&&(E+=" "+o);var S=u&&a===void 0?H1(w):l,m={};for(var A in v)u&&A==="as"||S(A)&&(m[A]=v[A]);return m.className=E,T&&(m.ref=T),U.createElement(U.Fragment,null,U.createElement(zB,{cache:I,serialized:b,isStringTag:typeof w=="string"}),U.createElement(w,m))});return _.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",_.defaultProps=e.defaultProps,_.__emotion_real=_,_.__emotion_base=i,_.__emotion_styles=h,_.__emotion_forwardProp=a,Object.defineProperty(_,"toString",{value:function(){return o===void 0&&$B?"NO_COMPONENT_SELECTOR":"."+o}}),_.withComponent=function(v,I){return t(v,jv({},n,I,{shouldForwardProp:G1(_,I,!0)})).apply(void 0,h)},_}},qB=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],zv=WB.bind();qB.forEach(function(t){zv[t]=zv(t)});/**
 * @mui/styled-engine v6.1.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function HB(t,e){return zv(t,e)}const GB=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},KB=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function YB(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=KB(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function u(f,g){const _=o.indexOf(g);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(_!==-1&&typeof e[o[_]]=="number"?e[o[_]]:g)-r/100}${n})`}function d(f){return o.indexOf(f)+1<o.length?u(f,o[o.indexOf(f)+1]):a(f)}function h(f){const g=o.indexOf(f);return g===0?a(o[1]):g===o.length-1?l(o[g]):u(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:u,only:d,not:h,unit:n,...i}}const QB={borderRadius:4};function VC(t=8,e=Gw({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function JB(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function FC(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=t,a=YB(n),l=VC(i);let u=Zn({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...QB,...s}},o);return u=rj(u),u.applyStyles=JB,u=e.reduce((d,h)=>Zn(d,h),u),u.unstable_sxConfig={...ug,...o==null?void 0:o.unstable_sxConfig},u.unstable_sx=function(h){return ah({sx:h,theme:this})},u}const XB=FC();function a_(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Wv(t,e,n){return t3(e)?n:e[t]||e}const vf=Symbol("mui.processed_props");function wf(t,e,n){if(vf in t)return t[vf];const r={...t,theme:Wv(e,t.theme,n)};return t[vf]=r,r[vf]=r,r}function ZB(t){return t?(e,n)=>n[t]:null}function Xf(t,e){var r;const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(i=>Xf(i,e));if(Array.isArray(n==null?void 0:n.variants)){const{variants:i,...s}=n;let o=s,a;e:for(let l=0;l<i.length;l+=1){const u=i[l];if(typeof u.props=="function"){if(a??(a={...e,...e.ownerState,ownerState:e.ownerState}),!u.props(a))continue}else for(const d in u.props)if(e[d]!==u.props[d]&&((r=e.ownerState)==null?void 0:r[d])!==u.props[d])continue e;Array.isArray(o)||(o=[o]),typeof u.style=="function"?(a??(a={...e,...e.ownerState,ownerState:e.ownerState}),o.push(u.style(a))):o.push(u.style)}return o}return n}function e3(t={}){const{themeId:e,defaultTheme:n=XB,rootShouldForwardProp:r=a_,slotShouldForwardProp:i=a_}=t,s=a=>ah(wf(a,e,n));return s.__mui_systemSx=!0,(a,l={})=>{GB(a,N=>N.filter(b=>!(b!=null&&b.__mui_systemSx)));const{name:u,slot:d,skipVariantsResolver:h,skipSx:f,overridesResolver:g=ZB(r3(d)),..._}=l,v=h!==void 0?h:d&&d!=="Root"&&d!=="root"||!1,I=f||!1;let T,w=a_;d==="Root"||d==="root"?w=r:d?w=i:n3(a)&&(w=void 0);const E=HB(a,{shouldForwardProp:w,label:T,..._}),O=N=>typeof N=="function"&&N.__emotion_real!==N||Di(N)?b=>Xf(N,wf(b,e,n)):N,x=(N,...b)=>{let S=O(N);const m=b?b.map(O):[];u&&g&&m.push(D=>{const k=Wv(e,D.theme,n);if(!k.components||!k.components[u]||!k.components[u].styleOverrides)return null;const Ee=k.components[u].styleOverrides,fe={},Ot=wf(D,e,n);for(const rt in Ee)fe[rt]=Xf(Ee[rt],Ot);return g(D,fe)}),u&&!v&&m.push(D=>{var fe,Ot;const k=Wv(e,D.theme,n),Ee=(Ot=(fe=k==null?void 0:k.components)==null?void 0:fe[u])==null?void 0:Ot.variants;return Ee?Xf({variants:Ee},wf(D,e,n)):null}),I||m.push(s);const A=m.length-b.length;if(Array.isArray(N)&&A>0){const D=new Array(A).fill("");S=[...N,...D],S.raw=[...N.raw,...D]}const C=E(S,...m);return a.muiName&&(C.muiName=a.muiName),C};return E.withConfig&&(x.withConfig=E.withConfig),x}}function t3(t){for(const e in t)return!1;return!0}function n3(t){return typeof t=="string"&&t.charCodeAt(0)>96}function r3(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Xw(t,e=0,n=1){return wC(t,e,n)}function i3(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Qs(t){if(t.type)return t;if(t.charAt(0)==="#")return Qs(i3(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(aa(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(aa(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const s3=t=>{const e=Qs(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},vc=(t,e)=>{try{return s3(t)}catch{return t}};function fg(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function UC(t){t=Qs(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,d=(u+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),fg({type:a,values:l})}function qv(t){t=Qs(t);let e=t.type==="hsl"||t.type==="hsla"?Qs(UC(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function o3(t,e){const n=qv(t),r=qv(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function a3(t,e){return t=Qs(t),e=Xw(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,fg(t)}function Ef(t,e,n){try{return a3(t,e)}catch{return t}}function Zw(t,e){if(t=Qs(t),e=Xw(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return fg(t)}function Ue(t,e,n){try{return Zw(t,e)}catch{return t}}function eE(t,e){if(t=Qs(t),e=Xw(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return fg(t)}function je(t,e,n){try{return eE(t,e)}catch{return t}}function l3(t,e=.15){return qv(t)>.5?Zw(t,e):eE(t,e)}function Sf(t,e,n){try{return l3(t,e)}catch{return t}}const u3=U.createContext(void 0);function c3(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Uv(i.defaultProps,r):!i.styleOverrides&&!i.variants?Uv(i,r):r}function d3({props:t,name:e}){const n=U.useContext(u3);return c3({props:t,name:e,theme:{components:n}})}function h3(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const K1=(t,e,n,r=[])=>{let i=t;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},f3=(t,e,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(t)},p3=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().indexOf("opacity")>=0?e:`${e}px`:e;function l_(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return f3(t,(a,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const d=`--${n?`${n}-`:""}${a.join("-")}`,h=p3(a,l);Object.assign(i,{[d]:h}),K1(s,a,`var(${d})`,u),K1(o,a,`var(${d}, ${h})`,u)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function m3(t,e={}){const{getSelector:n=I,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=t,{vars:u,css:d,varsWithDefaults:h}=l_(l,e);let f=h;const g={},{[a]:_,...v}=s;if(Object.entries(v||{}).forEach(([E,O])=>{const{vars:x,css:N,varsWithDefaults:b}=l_(O,e);f=Zn(f,b),g[E]={css:N,vars:x}}),_){const{css:E,vars:O,varsWithDefaults:x}=l_(_,e);f=Zn(f,x),g[a]={css:E,vars:O}}function I(E,O){var N,b;let x=i;if(i==="class"&&(x=".%s"),i==="data"&&(x="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(x=`[${i}="%s"]`),E){if(x==="media")return t.defaultColorScheme===E?":root":{[`@media (prefers-color-scheme: ${((b=(N=s[E])==null?void 0:N.palette)==null?void 0:b.mode)||E})`]:{":root":O}};if(x)return t.defaultColorScheme===E?`:root, ${x.replace("%s",String(E))}`:x.replace("%s",String(E))}return":root"}return{vars:f,generateThemeVars:()=>{let E={...u};return Object.entries(g).forEach(([,{vars:O}])=>{E=Zn(E,O)}),E},generateStyleSheets:()=>{var S,m;const E=[],O=t.defaultColorScheme||"light";function x(A,C){Object.keys(C).length&&E.push(typeof A=="string"?{[A]:{...C}}:A)}x(n(void 0,{...d}),d);const{[O]:N,...b}=g;if(N){const{css:A}=N,C=(m=(S=s[O])==null?void 0:S.palette)==null?void 0:m.mode,D=!r&&C?{colorScheme:C,...A}:{...A};x(n(O,{...D}),D)}return Object.entries(b).forEach(([A,{css:C}])=>{var Ee,fe;const D=(fe=(Ee=s[A])==null?void 0:Ee.palette)==null?void 0:fe.mode,k=!r&&D?{colorScheme:D,...C}:{...C};x(n(A,{...k}),k)}),E}}}function g3(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const wd={black:"#000",white:"#fff"},y3={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Va={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Fa={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ec={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ua={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ja={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ba={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Y1={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:wd.white,default:wd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},u_={text:{primary:wd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:wd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Q1(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=eE(t.main,i):e==="dark"&&(t.dark=Zw(t.main,s)))}function _3(t="light"){return t==="dark"?{main:Ua[200],light:Ua[50],dark:Ua[400]}:{main:Ua[700],light:Ua[400],dark:Ua[800]}}function v3(t="light"){return t==="dark"?{main:Va[200],light:Va[50],dark:Va[400]}:{main:Va[500],light:Va[300],dark:Va[700]}}function w3(t="light"){return t==="dark"?{main:Fa[500],light:Fa[300],dark:Fa[700]}:{main:Fa[700],light:Fa[400],dark:Fa[800]}}function E3(t="light"){return t==="dark"?{main:ja[400],light:ja[300],dark:ja[700]}:{main:ja[700],light:ja[500],dark:ja[900]}}function S3(t="light"){return t==="dark"?{main:Ba[400],light:Ba[300],dark:Ba[700]}:{main:Ba[800],light:Ba[500],dark:Ba[900]}}function I3(t="light"){return t==="dark"?{main:ec[400],light:ec[300],dark:ec[700]}:{main:"#ed6c02",light:ec[500],dark:ec[900]}}function tE(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||_3(e),o=t.secondary||v3(e),a=t.error||w3(e),l=t.info||E3(e),u=t.success||S3(e),d=t.warning||I3(e);function h(v){return o3(v,u_.text.primary)>=n?u_.text.primary:Y1.text.primary}const f=({color:v,name:I,mainShade:T=500,lightShade:w=300,darkShade:E=700})=>{if(v={...v},!v.main&&v[T]&&(v.main=v[T]),!v.hasOwnProperty("main"))throw new Error(aa(11,I?` (${I})`:"",T));if(typeof v.main!="string")throw new Error(aa(12,I?` (${I})`:"",JSON.stringify(v.main)));return Q1(v,"light",w,r),Q1(v,"dark",E,r),v.contrastText||(v.contrastText=h(v.main)),v},g={dark:u_,light:Y1};return Zn({common:{...wd},mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:u,name:"success"}),grey:y3,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r,...g[e]},i)}function T3(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function b3(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function R3(t){return Math.round(t*1e5)/1e5}const J1={textTransform:"uppercase"},X1='"Roboto", "Helvetica", "Arial", sans-serif';function A3(t,e){const{fontFamily:n=X1,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:u,pxToRem:d,...h}=typeof e=="function"?e(t):e,f=r/14,g=d||(I=>`${I/l*f}rem`),_=(I,T,w,E,O)=>({fontFamily:n,fontWeight:I,fontSize:g(T),lineHeight:w,...n===X1?{letterSpacing:`${R3(E/T)}em`}:{},...O,...u}),v={h1:_(i,96,1.167,-1.5),h2:_(i,60,1.2,-.5),h3:_(s,48,1.167,0),h4:_(s,34,1.235,.25),h5:_(s,24,1.334,0),h6:_(o,20,1.6,.15),subtitle1:_(s,16,1.75,.15),subtitle2:_(o,14,1.57,.1),body1:_(s,16,1.5,.15),body2:_(s,14,1.43,.15),button:_(o,14,1.75,.4,J1),caption:_(s,12,1.66,.4),overline:_(s,12,2.66,1,J1),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Zn({htmlFontSize:l,pxToRem:g,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...v},h,{clone:!1})}const P3=.2,k3=.14,C3=.12;function Qe(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${P3})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${k3})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${C3})`].join(",")}const x3=["none",Qe(0,2,1,-1,0,1,1,0,0,1,3,0),Qe(0,3,1,-2,0,2,2,0,0,1,5,0),Qe(0,3,3,-2,0,3,4,0,0,1,8,0),Qe(0,2,4,-1,0,4,5,0,0,1,10,0),Qe(0,3,5,-1,0,5,8,0,0,1,14,0),Qe(0,3,5,-1,0,6,10,0,0,1,18,0),Qe(0,4,5,-2,0,7,10,1,0,2,16,1),Qe(0,5,5,-3,0,8,10,1,0,3,14,2),Qe(0,5,6,-3,0,9,12,1,0,3,16,2),Qe(0,6,6,-3,0,10,14,1,0,4,18,3),Qe(0,6,7,-4,0,11,15,1,0,4,20,3),Qe(0,7,8,-4,0,12,17,2,0,5,22,4),Qe(0,7,8,-4,0,13,19,2,0,5,24,4),Qe(0,7,9,-4,0,14,21,2,0,5,26,4),Qe(0,8,9,-5,0,15,22,2,0,6,28,5),Qe(0,8,10,-5,0,16,24,2,0,6,30,5),Qe(0,8,11,-5,0,17,26,2,0,6,32,5),Qe(0,9,11,-5,0,18,28,2,0,7,34,6),Qe(0,9,12,-6,0,19,29,2,0,7,36,6),Qe(0,10,13,-6,0,20,31,3,0,8,38,7),Qe(0,10,13,-6,0,21,33,3,0,8,40,7),Qe(0,10,14,-6,0,22,35,3,0,8,42,7),Qe(0,11,14,-7,0,23,36,3,0,9,44,8),Qe(0,11,15,-7,0,24,38,3,0,9,46,8)],O3={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},D3={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Z1(t){return`${Math.round(t)}ms`}function N3(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function M3(t){const e={...O3,...t.easing},n={...D3,...t.duration};return{getAutoHeightDuration:N3,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0,...u}=s;return(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof o=="string"?o:Z1(o)} ${a} ${typeof l=="string"?l:Z1(l)}`).join(",")},...t,easing:e,duration:n}}const L3={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Hv(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...u}=t;if(t.vars)throw new Error(aa(20));const d=tE(s),h=FC(t);let f=Zn(h,{mixins:b3(h.breakpoints,r),palette:d,shadows:x3.slice(),typography:A3(d,a),transitions:M3(o),zIndex:{...L3}});return f=Zn(f,u),f=e.reduce((g,_)=>Zn(g,_),f),f.unstable_sxConfig={...ug,...u==null?void 0:u.unstable_sxConfig},f.unstable_sx=function(_){return ah({sx:_,theme:this})},f}function V3(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const F3=[...Array(25)].map((t,e)=>{if(e===0)return;const n=V3(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function jC(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function BC(t){return t==="dark"?F3:[]}function U3(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=tE(e);return{palette:s,opacity:{...jC(s.mode),...n},overlays:r||BC(s.mode),...i}}function j3(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const B3=t=>[...[...Array(24)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n+1}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],$3=t=>(e,n)=>{const r=t.colorSchemeSelector;let i=r;if(r==="class"&&(i=".%s"),r==="data"&&(i="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(i=`[${r}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return B3(t.cssVarPrefix).forEach(o=>{s[o]=n[o],delete n[o]}),i==="media"?{":root":n,"@media (prefers-color-scheme: dark)":{":root":s}}:i?{[i.replace("%s",e)]:s,[`:root, ${i.replace("%s",e)}`]:n}:{":root":{...n,...s}}}if(i&&i!=="media")return`:root, ${i.replace("%s",String(e))}`}else if(e){if(i==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{":root":n}};if(i)return i.replace("%s",String(e))}return":root"};function z3(t){return Di(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function W3(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!z3(a)||o.startsWith("unstable_")?delete r[o]:Di(a)&&(r[o]={...a},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function q3(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function B(t,e,n){!t[e]&&n&&(t[e]=n)}function wc(t){return!t||!t.startsWith("hsl")?t:UC(t)}function Ti(t,e){`${e}Channel`in t||(t[`${e}Channel`]=vc(wc(t[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function H3(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const qr=t=>{try{return t()}catch{}},G3=(t="mui")=>h3(t);function c_(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=U3({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=Hv({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...jC(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||BC(i)},o}function K3(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=j3,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,...l}=t,u=Object.keys(n)[0],d=r||(n.light&&u!=="light"?"light":u),h=G3(s),{[d]:f,light:g,dark:_,...v}=n,I={...v};let T=f;if((d==="dark"&&!("dark"in n)||d==="light"&&!("light"in n))&&(T=!0),!T)throw new Error(aa(21,d));const w=c_(I,T,l,d);g&&!I.light&&c_(I,g,void 0,"light"),_&&!I.dark&&c_(I,_,void 0,"dark");let E={defaultColorScheme:d,...w,cssVarPrefix:s,colorSchemeSelector:a,getCssVar:h,colorSchemes:I,font:{...T3(w.typography),...w.font},spacing:H3(l.spacing)};Object.keys(E.colorSchemes).forEach(S=>{const m=E.colorSchemes[S].palette,A=C=>{const D=C.split("-"),k=D[1],Ee=D[2];return h(C,m[k][Ee])};if(m.mode==="light"&&(B(m.common,"background","#fff"),B(m.common,"onBackground","#000")),m.mode==="dark"&&(B(m.common,"background","#000"),B(m.common,"onBackground","#fff")),q3(m,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),m.mode==="light"){B(m.Alert,"errorColor",Ue(m.error.light,.6)),B(m.Alert,"infoColor",Ue(m.info.light,.6)),B(m.Alert,"successColor",Ue(m.success.light,.6)),B(m.Alert,"warningColor",Ue(m.warning.light,.6)),B(m.Alert,"errorFilledBg",A("palette-error-main")),B(m.Alert,"infoFilledBg",A("palette-info-main")),B(m.Alert,"successFilledBg",A("palette-success-main")),B(m.Alert,"warningFilledBg",A("palette-warning-main")),B(m.Alert,"errorFilledColor",qr(()=>m.getContrastText(m.error.main))),B(m.Alert,"infoFilledColor",qr(()=>m.getContrastText(m.info.main))),B(m.Alert,"successFilledColor",qr(()=>m.getContrastText(m.success.main))),B(m.Alert,"warningFilledColor",qr(()=>m.getContrastText(m.warning.main))),B(m.Alert,"errorStandardBg",je(m.error.light,.9)),B(m.Alert,"infoStandardBg",je(m.info.light,.9)),B(m.Alert,"successStandardBg",je(m.success.light,.9)),B(m.Alert,"warningStandardBg",je(m.warning.light,.9)),B(m.Alert,"errorIconColor",A("palette-error-main")),B(m.Alert,"infoIconColor",A("palette-info-main")),B(m.Alert,"successIconColor",A("palette-success-main")),B(m.Alert,"warningIconColor",A("palette-warning-main")),B(m.AppBar,"defaultBg",A("palette-grey-100")),B(m.Avatar,"defaultBg",A("palette-grey-400")),B(m.Button,"inheritContainedBg",A("palette-grey-300")),B(m.Button,"inheritContainedHoverBg",A("palette-grey-A100")),B(m.Chip,"defaultBorder",A("palette-grey-400")),B(m.Chip,"defaultAvatarColor",A("palette-grey-700")),B(m.Chip,"defaultIconColor",A("palette-grey-700")),B(m.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),B(m.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),B(m.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),B(m.LinearProgress,"primaryBg",je(m.primary.main,.62)),B(m.LinearProgress,"secondaryBg",je(m.secondary.main,.62)),B(m.LinearProgress,"errorBg",je(m.error.main,.62)),B(m.LinearProgress,"infoBg",je(m.info.main,.62)),B(m.LinearProgress,"successBg",je(m.success.main,.62)),B(m.LinearProgress,"warningBg",je(m.warning.main,.62)),B(m.Skeleton,"bg",`rgba(${A("palette-text-primaryChannel")} / 0.11)`),B(m.Slider,"primaryTrack",je(m.primary.main,.62)),B(m.Slider,"secondaryTrack",je(m.secondary.main,.62)),B(m.Slider,"errorTrack",je(m.error.main,.62)),B(m.Slider,"infoTrack",je(m.info.main,.62)),B(m.Slider,"successTrack",je(m.success.main,.62)),B(m.Slider,"warningTrack",je(m.warning.main,.62));const C=Sf(m.background.default,.8);B(m.SnackbarContent,"bg",C),B(m.SnackbarContent,"color",qr(()=>m.getContrastText(C))),B(m.SpeedDialAction,"fabHoverBg",Sf(m.background.paper,.15)),B(m.StepConnector,"border",A("palette-grey-400")),B(m.StepContent,"border",A("palette-grey-400")),B(m.Switch,"defaultColor",A("palette-common-white")),B(m.Switch,"defaultDisabledColor",A("palette-grey-100")),B(m.Switch,"primaryDisabledColor",je(m.primary.main,.62)),B(m.Switch,"secondaryDisabledColor",je(m.secondary.main,.62)),B(m.Switch,"errorDisabledColor",je(m.error.main,.62)),B(m.Switch,"infoDisabledColor",je(m.info.main,.62)),B(m.Switch,"successDisabledColor",je(m.success.main,.62)),B(m.Switch,"warningDisabledColor",je(m.warning.main,.62)),B(m.TableCell,"border",je(Ef(m.divider,1),.88)),B(m.Tooltip,"bg",Ef(m.grey[700],.92))}if(m.mode==="dark"){B(m.Alert,"errorColor",je(m.error.light,.6)),B(m.Alert,"infoColor",je(m.info.light,.6)),B(m.Alert,"successColor",je(m.success.light,.6)),B(m.Alert,"warningColor",je(m.warning.light,.6)),B(m.Alert,"errorFilledBg",A("palette-error-dark")),B(m.Alert,"infoFilledBg",A("palette-info-dark")),B(m.Alert,"successFilledBg",A("palette-success-dark")),B(m.Alert,"warningFilledBg",A("palette-warning-dark")),B(m.Alert,"errorFilledColor",qr(()=>m.getContrastText(m.error.dark))),B(m.Alert,"infoFilledColor",qr(()=>m.getContrastText(m.info.dark))),B(m.Alert,"successFilledColor",qr(()=>m.getContrastText(m.success.dark))),B(m.Alert,"warningFilledColor",qr(()=>m.getContrastText(m.warning.dark))),B(m.Alert,"errorStandardBg",Ue(m.error.light,.9)),B(m.Alert,"infoStandardBg",Ue(m.info.light,.9)),B(m.Alert,"successStandardBg",Ue(m.success.light,.9)),B(m.Alert,"warningStandardBg",Ue(m.warning.light,.9)),B(m.Alert,"errorIconColor",A("palette-error-main")),B(m.Alert,"infoIconColor",A("palette-info-main")),B(m.Alert,"successIconColor",A("palette-success-main")),B(m.Alert,"warningIconColor",A("palette-warning-main")),B(m.AppBar,"defaultBg",A("palette-grey-900")),B(m.AppBar,"darkBg",A("palette-background-paper")),B(m.AppBar,"darkColor",A("palette-text-primary")),B(m.Avatar,"defaultBg",A("palette-grey-600")),B(m.Button,"inheritContainedBg",A("palette-grey-800")),B(m.Button,"inheritContainedHoverBg",A("palette-grey-700")),B(m.Chip,"defaultBorder",A("palette-grey-700")),B(m.Chip,"defaultAvatarColor",A("palette-grey-300")),B(m.Chip,"defaultIconColor",A("palette-grey-300")),B(m.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),B(m.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),B(m.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),B(m.LinearProgress,"primaryBg",Ue(m.primary.main,.5)),B(m.LinearProgress,"secondaryBg",Ue(m.secondary.main,.5)),B(m.LinearProgress,"errorBg",Ue(m.error.main,.5)),B(m.LinearProgress,"infoBg",Ue(m.info.main,.5)),B(m.LinearProgress,"successBg",Ue(m.success.main,.5)),B(m.LinearProgress,"warningBg",Ue(m.warning.main,.5)),B(m.Skeleton,"bg",`rgba(${A("palette-text-primaryChannel")} / 0.13)`),B(m.Slider,"primaryTrack",Ue(m.primary.main,.5)),B(m.Slider,"secondaryTrack",Ue(m.secondary.main,.5)),B(m.Slider,"errorTrack",Ue(m.error.main,.5)),B(m.Slider,"infoTrack",Ue(m.info.main,.5)),B(m.Slider,"successTrack",Ue(m.success.main,.5)),B(m.Slider,"warningTrack",Ue(m.warning.main,.5));const C=Sf(m.background.default,.98);B(m.SnackbarContent,"bg",C),B(m.SnackbarContent,"color",qr(()=>m.getContrastText(C))),B(m.SpeedDialAction,"fabHoverBg",Sf(m.background.paper,.15)),B(m.StepConnector,"border",A("palette-grey-600")),B(m.StepContent,"border",A("palette-grey-600")),B(m.Switch,"defaultColor",A("palette-grey-300")),B(m.Switch,"defaultDisabledColor",A("palette-grey-600")),B(m.Switch,"primaryDisabledColor",Ue(m.primary.main,.55)),B(m.Switch,"secondaryDisabledColor",Ue(m.secondary.main,.55)),B(m.Switch,"errorDisabledColor",Ue(m.error.main,.55)),B(m.Switch,"infoDisabledColor",Ue(m.info.main,.55)),B(m.Switch,"successDisabledColor",Ue(m.success.main,.55)),B(m.Switch,"warningDisabledColor",Ue(m.warning.main,.55)),B(m.TableCell,"border",Ue(Ef(m.divider,1),.68)),B(m.Tooltip,"bg",Ef(m.grey[700],.92))}Ti(m.background,"default"),Ti(m.background,"paper"),Ti(m.common,"background"),Ti(m.common,"onBackground"),Ti(m,"divider"),Object.keys(m).forEach(C=>{const D=m[C];D&&typeof D=="object"&&(D.main&&B(m[C],"mainChannel",vc(wc(D.main))),D.light&&B(m[C],"lightChannel",vc(wc(D.light))),D.dark&&B(m[C],"darkChannel",vc(wc(D.dark))),D.contrastText&&B(m[C],"contrastTextChannel",vc(wc(D.contrastText))),C==="text"&&(Ti(m[C],"primary"),Ti(m[C],"secondary")),C==="action"&&(D.active&&Ti(m[C],"active"),D.selected&&Ti(m[C],"selected")))})}),E=e.reduce((S,m)=>Zn(S,m),E);const O={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:$3(E)},{vars:x,generateThemeVars:N,generateStyleSheets:b}=m3(E,O);return E.vars=x,Object.entries(E.colorSchemes[E.defaultColorScheme]).forEach(([S,m])=>{E[S]=m}),E.generateThemeVars=N,E.generateStyleSheets=b,E.generateSpacing=function(){return VC(l.spacing,Gw(this))},E.getColorSchemeSelector=g3(a),E.spacing=E.generateSpacing(),E.shouldSkipGeneratingVar=o,E.unstable_sxConfig={...ug,...l==null?void 0:l.unstable_sxConfig},E.unstable_sx=function(m){return ah({sx:m,theme:this})},E.toRuntimeSource=W3,E}function eb(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:tE({...n===!0?{}:n.palette,mode:e})})}function Y3(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=t,a=s||"light",l=i==null?void 0:i[a],u={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return Hv(t,...e);let d=n;"palette"in t||u[a]&&(u[a]!==!0?d=u[a].palette:a==="dark"&&(d={mode:"dark"}));const h=Hv({...t,palette:d},...e);return h.defaultColorScheme=a,h.colorSchemes=u,h.palette.mode==="light"&&(h.colorSchemes.light={...u.light!==!0&&u.light,palette:h.palette},eb(h,"dark",u.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:h.palette},eb(h,"light",u.light)),h}return!n&&!("light"in u)&&a==="light"&&(u.light=!0),K3({...o,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const Q3=Y3(),J3="$$material";function $C(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const X3=t=>$C(t)&&t!=="classes",uh=e3({themeId:J3,defaultTheme:Q3,rootShouldForwardProp:X3}),tb={theme:void 0};function nE(t){let e,n;return r=>{let i=e;return(i===void 0||r.theme!==n)&&(tb.theme=r.theme,i=t(tb),e=i,n=r.theme),i}}function zC(t){return d3(t)}function Z3(t){return Ww("MuiSvgIcon",t)}TC("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const e6=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Ys(e)}`,`fontSize${Ys(n)}`]};return EC(i,Z3,r)},t6=uh("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ys(n.color)}`],e[`fontSize${Ys(n.fontSize)}`]]}})(nE(({theme:t})=>{var e,n,r,i,s,o,a,l,u,d,h,f,g,_;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:v=>!v.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(u=t.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,v])=>v&&v.main).map(([v])=>{var I,T;return{props:{color:v},style:{color:(T=(I=(t.vars??t).palette)==null?void 0:I[v])==null?void 0:T.main}}}),{props:{color:"action"},style:{color:(f=(h=(t.vars??t).palette)==null?void 0:h.action)==null?void 0:f.active}},{props:{color:"disabled"},style:{color:(_=(g=(t.vars??t).palette)==null?void 0:g.action)==null?void 0:_.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Xp=U.forwardRef(function(e,n){const r=zC({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:h,viewBox:f="0 0 24 24",...g}=r,_=U.isValidElement(i)&&i.type==="svg",v={...r,color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:f,hasSvgAsChild:_},I={};d||(I.viewBox=f);const T=e6(v);return P.jsxs(t6,{as:a,className:Uc(T.root,s),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n,...I,...g,..._&&i.props,ownerState:v,children:[_?i.props.children:i,h?P.jsx("title",{children:h}):null]})});Xp&&(Xp.muiName="SvgIcon");function WC(t,e){function n(r,i){return P.jsx(Xp,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=Xp.muiName,U.memo(U.forwardRef(n))}const n6=WC(P.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),r6=WC(P.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function i6(t){return Ww("MuiRating",t)}const tc=TC("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function s6(t){const e=t.toString().split(".")[1];return e?e.length:0}function d_(t,e){if(t==null)return t;const n=Math.round(t/e)*e;return Number(n.toFixed(s6(e)))}const o6=t=>{const{classes:e,size:n,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:o}=t,a={root:["root",`size${Ys(n)}`,i&&"disabled",o&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return EC(a,i6,e)},a6=uh("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${tc.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Ys(n.size)}`],n.readOnly&&e.readOnly]}})(nE(({theme:t})=>({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${tc.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${tc.focusVisible} .${tc.iconActive}`]:{outline:"1px solid #999"},[`& .${tc.visuallyHidden}`]:W5,variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),qC=uh("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},e)=>[e.label,t.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:t})=>t.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),l6=uh("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.iconEmpty&&e.iconEmpty,n.iconFilled&&e.iconFilled,n.iconHover&&e.iconHover,n.iconFocus&&e.iconFocus,n.iconActive&&e.iconActive]}})(nE(({theme:t})=>({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(t.vars||t).palette.action.disabled}}]}))),u6=uh("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>$C(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:n}=t;return[e.decimal,n&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:t})=>t,style:{transform:"scale(1.2)"}}]});function c6(t){const{value:e,...n}=t;return P.jsx("span",{...n})}function nb(t){const{classes:e,disabled:n,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:o,hover:a,icon:l,IconContainerComponent:u,isActive:d,itemValue:h,labelProps:f,name:g,onBlur:_,onChange:v,onClick:I,onFocus:T,readOnly:w,ownerState:E,ratingValue:O,ratingValueRounded:x}=t,N=o?h===O:h<=O,b=h<=a,S=h<=i,m=h===x,A=IC(),C=P.jsx(l6,{as:u,value:h,className:Uc(e.icon,N?e.iconFilled:e.iconEmpty,b&&e.iconHover,S&&e.iconFocus,d&&e.iconActive),ownerState:{...E,iconEmpty:!N,iconFilled:N,iconHover:b,iconFocus:S,iconActive:d},children:r&&!N?r:l});return w?P.jsx("span",{...f,children:C}):P.jsxs(U.Fragment,{children:[P.jsxs(qC,{ownerState:{...E,emptyValueFocused:void 0},htmlFor:A,...f,children:[C,P.jsx("span",{className:e.visuallyHidden,children:s(h)})]}),P.jsx("input",{className:e.visuallyHidden,onFocus:T,onBlur:_,onChange:v,onClick:I,disabled:n,value:h,id:A,type:"radio",name:g,checked:m})]})}const d6=P.jsx(n6,{fontSize:"inherit"}),h6=P.jsx(r6,{fontSize:"inherit"});function f6(t){return`${t||"0"} Star${t!==1?"s":""}`}const p6=U.forwardRef(function(e,n){const r=zC({name:"MuiRating",props:e}),{className:i,defaultValue:s=null,disabled:o=!1,emptyIcon:a=h6,emptyLabelText:l="Empty",getLabelText:u=f6,highlightSelectedOnly:d=!1,icon:h=d6,IconContainerComponent:f=c6,max:g=5,name:_,onChange:v,onChangeActive:I,onMouseLeave:T,onMouseMove:w,precision:E=1,readOnly:O=!1,size:x="medium",value:N,...b}=r,S=IC(_),[m,A]=Y5({controlled:N,default:s,name:"Rating"}),C=d_(m,E),D=H5(),[{hover:k,focus:Ee},fe]=U.useState({hover:-1,focus:-1});let Ot=C;k!==-1&&(Ot=k),Ee!==-1&&(Ot=Ee);const[rt,Y]=U.useState(!1),se=U.useRef(),oe=Q5(se,n),pe=Ve=>{w&&w(Ve);const Rt=se.current,{right:mn,left:ds,width:$r}=Rt.getBoundingClientRect();let wi;D?wi=(mn-Ve.clientX)/$r:wi=(Ve.clientX-ds)/$r;let Tr=d_(g*wi+E/2,E);Tr=wC(Tr,E,g),fe(Ei=>Ei.hover===Tr&&Ei.focus===Tr?Ei:{hover:Tr,focus:Tr}),Y(!1),I&&k!==Tr&&I(Ve,Tr)},xe=Ve=>{T&&T(Ve);const Rt=-1;fe({hover:Rt,focus:Rt}),I&&k!==Rt&&I(Ve,Rt)},Ye=Ve=>{let Rt=Ve.target.value===""?null:parseFloat(Ve.target.value);k!==-1&&(Rt=k),A(Rt),v&&v(Ve,Rt)},wr=Ve=>{Ve.clientX===0&&Ve.clientY===0||(fe({hover:-1,focus:-1}),A(null),v&&parseFloat(Ve.target.value)===C&&v(Ve,null))},Er=Ve=>{N1(Ve.target)&&Y(!0);const Rt=parseFloat(Ve.target.value);fe(mn=>({hover:mn.hover,focus:Rt}))},Sr=Ve=>{if(k!==-1)return;N1(Ve.target)||Y(!1);const Rt=-1;fe(mn=>({hover:mn.hover,focus:Rt}))},[Ir,Nh]=U.useState(!1),Eo={...r,defaultValue:s,disabled:o,emptyIcon:a,emptyLabelText:l,emptyValueFocused:Ir,focusVisible:rt,getLabelText:u,icon:h,IconContainerComponent:f,max:g,precision:E,readOnly:O,size:x},$n=o6(Eo);return P.jsxs(a6,{ref:oe,onMouseMove:pe,onMouseLeave:xe,className:Uc($n.root,i,O&&"MuiRating-readOnly"),ownerState:Eo,role:O?"img":null,"aria-label":O?u(Ot):null,...b,children:[Array.from(new Array(g)).map((Ve,Rt)=>{const mn=Rt+1,ds={classes:$n,disabled:o,emptyIcon:a,focus:Ee,getLabelText:u,highlightSelectedOnly:d,hover:k,icon:h,IconContainerComponent:f,name:S,onBlur:Sr,onChange:Ye,onClick:wr,onFocus:Er,ratingValue:Ot,ratingValueRounded:C,readOnly:O,ownerState:Eo},$r=mn===Math.ceil(Ot)&&(k!==-1||Ee!==-1);if(E<1){const wi=Array.from(new Array(1/E));return P.jsx(u6,{className:Uc($n.decimal,$r&&$n.iconActive),ownerState:Eo,iconActive:$r,children:wi.map((Tr,Ei)=>{const xa=d_(mn-1+(Ei+1)*E,E);return P.jsx(nb,{...ds,isActive:!1,itemValue:xa,labelProps:{style:wi.length-1===Ei?{}:{width:xa===Ot?`${(Ei+1)*E*100}%`:"0%",overflow:"hidden",position:"absolute"}}},xa)})},mn)}return P.jsx(nb,{...ds,isActive:$r,itemValue:mn},mn)}),!O&&!o&&P.jsxs(qC,{className:Uc($n.label,$n.labelEmptyValue),ownerState:Eo,children:[P.jsx("input",{className:$n.visuallyHidden,value:"",id:`${S}-empty`,type:"radio",name:S,checked:C==null,onFocus:()=>Nh(!0),onBlur:()=>Nh(!1),onChange:Ye}),P.jsx("span",{className:$n.visuallyHidden,children:l})]})]})});var HC={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(t){(function(e,n){t.exports?t.exports=n():e.numeral=n()})(F0,function(){var e,n,r="2.0.6",i={},s={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},a={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};function l(u,d){this._input=u,this._value=d}return e=function(u){var d,h,f,g;if(e.isNumeral(u))d=u.value();else if(u===0||typeof u>"u")d=0;else if(u===null||n.isNaN(u))d=null;else if(typeof u=="string")if(a.zeroFormat&&u===a.zeroFormat)d=0;else if(a.nullFormat&&u===a.nullFormat||!u.replace(/[^0-9]+/g,"").length)d=null;else{for(h in i)if(g=typeof i[h].regexps.unformat=="function"?i[h].regexps.unformat():i[h].regexps.unformat,g&&u.match(g)){f=i[h].unformat;break}f=f||e._.stringToNumber,d=f(u)}else d=Number(u)||null;return new l(u,d)},e.version=r,e.isNumeral=function(u){return u instanceof l},e._=n={numberToFormat:function(u,d,h){var f=s[e.options.currentLocale],g=!1,_=!1,v=0,I="",T=1e12,w=1e9,E=1e6,O=1e3,x="",N=!1,b,S,m,A,C,D,k;if(u=u||0,S=Math.abs(u),e._.includes(d,"(")?(g=!0,d=d.replace(/[\(|\)]/g,"")):(e._.includes(d,"+")||e._.includes(d,"-"))&&(C=e._.includes(d,"+")?d.indexOf("+"):u<0?d.indexOf("-"):-1,d=d.replace(/[\+|\-]/g,"")),e._.includes(d,"a")&&(b=d.match(/a(k|m|b|t)?/),b=b?b[1]:!1,e._.includes(d," a")&&(I=" "),d=d.replace(new RegExp(I+"a[kmbt]?"),""),S>=T&&!b||b==="t"?(I+=f.abbreviations.trillion,u=u/T):S<T&&S>=w&&!b||b==="b"?(I+=f.abbreviations.billion,u=u/w):S<w&&S>=E&&!b||b==="m"?(I+=f.abbreviations.million,u=u/E):(S<E&&S>=O&&!b||b==="k")&&(I+=f.abbreviations.thousand,u=u/O)),e._.includes(d,"[.]")&&(_=!0,d=d.replace("[.]",".")),m=u.toString().split(".")[0],A=d.split(".")[1],D=d.indexOf(","),v=(d.split(".")[0].split(",")[0].match(/0/g)||[]).length,A?(e._.includes(A,"[")?(A=A.replace("]",""),A=A.split("["),x=e._.toFixed(u,A[0].length+A[1].length,h,A[1].length)):x=e._.toFixed(u,A.length,h),m=x.split(".")[0],e._.includes(x,".")?x=f.delimiters.decimal+x.split(".")[1]:x="",_&&Number(x.slice(1))===0&&(x="")):m=e._.toFixed(u,0,h),I&&!b&&Number(m)>=1e3&&I!==f.abbreviations.trillion)switch(m=String(Number(m)/1e3),I){case f.abbreviations.thousand:I=f.abbreviations.million;break;case f.abbreviations.million:I=f.abbreviations.billion;break;case f.abbreviations.billion:I=f.abbreviations.trillion;break}if(e._.includes(m,"-")&&(m=m.slice(1),N=!0),m.length<v)for(var Ee=v-m.length;Ee>0;Ee--)m="0"+m;return D>-1&&(m=m.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f.delimiters.thousands)),d.indexOf(".")===0&&(m=""),k=m+x+(I||""),g?k=(g&&N?"(":"")+k+(g&&N?")":""):C>=0?k=C===0?(N?"-":"+")+k:k+(N?"-":"+"):N&&(k="-"+k),k},stringToNumber:function(u){var d=s[a.currentLocale],h=u,f={thousand:3,million:6,billion:9,trillion:12},g,_,v;if(a.zeroFormat&&u===a.zeroFormat)_=0;else if(a.nullFormat&&u===a.nullFormat||!u.replace(/[^0-9]+/g,"").length)_=null;else{_=1,d.delimiters.decimal!=="."&&(u=u.replace(/\./g,"").replace(d.delimiters.decimal,"."));for(g in f)if(v=new RegExp("[^a-zA-Z]"+d.abbreviations[g]+"(?:\\)|(\\"+d.currency.symbol+")?(?:\\))?)?$"),h.match(v)){_*=Math.pow(10,f[g]);break}_*=(u.split("-").length+Math.min(u.split("(").length-1,u.split(")").length-1))%2?1:-1,u=u.replace(/[^0-9\.]+/g,""),_*=Number(u)}return _},isNaN:function(u){return typeof u=="number"&&isNaN(u)},includes:function(u,d){return u.indexOf(d)!==-1},insert:function(u,d,h){return u.slice(0,h)+d+u.slice(h)},reduce:function(u,d){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof d!="function")throw new TypeError(d+" is not a function");var h=Object(u),f=h.length>>>0,g=0,_;if(arguments.length===3)_=arguments[2];else{for(;g<f&&!(g in h);)g++;if(g>=f)throw new TypeError("Reduce of empty array with no initial value");_=h[g++]}for(;g<f;g++)g in h&&(_=d(_,h[g],g,h));return _},multiplier:function(u){var d=u.toString().split(".");return d.length<2?1:Math.pow(10,d[1].length)},correctionFactor:function(){var u=Array.prototype.slice.call(arguments);return u.reduce(function(d,h){var f=n.multiplier(h);return d>f?d:f},1)},toFixed:function(u,d,h,f){var g=u.toString().split("."),_=d-(f||0),v,I,T,w;return g.length===2?v=Math.min(Math.max(g[1].length,_),d):v=_,T=Math.pow(10,v),w=(h(u+"e+"+v)/T).toFixed(v),f>d-v&&(I=new RegExp("\\.?0{1,"+(f-(d-v))+"}$"),w=w.replace(I,"")),w}},e.options=a,e.formats=i,e.locales=s,e.locale=function(u){return u&&(a.currentLocale=u.toLowerCase()),a.currentLocale},e.localeData=function(u){if(!u)return s[a.currentLocale];if(u=u.toLowerCase(),!s[u])throw new Error("Unknown locale : "+u);return s[u]},e.reset=function(){for(var u in o)a[u]=o[u]},e.zeroFormat=function(u){a.zeroFormat=typeof u=="string"?u:null},e.nullFormat=function(u){a.nullFormat=typeof u=="string"?u:null},e.defaultFormat=function(u){a.defaultFormat=typeof u=="string"?u:"0.0"},e.register=function(u,d,h){if(d=d.toLowerCase(),this[u+"s"][d])throw new TypeError(d+" "+u+" already registered.");return this[u+"s"][d]=h,h},e.validate=function(u,d){var h,f,g,_,v,I,T,w;if(typeof u!="string"&&(u+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",u)),u=u.trim(),u.match(/^\d+$/))return!0;if(u==="")return!1;try{T=e.localeData(d)}catch{T=e.localeData(e.locale())}return g=T.currency.symbol,v=T.abbreviations,h=T.delimiters.decimal,T.delimiters.thousands==="."?f="\\.":f=T.delimiters.thousands,w=u.match(/^[^\d]+/),w!==null&&(u=u.substr(1),w[0]!==g)||(w=u.match(/[^\d]+$/),w!==null&&(u=u.slice(0,-1),w[0]!==v.thousand&&w[0]!==v.million&&w[0]!==v.billion&&w[0]!==v.trillion))?!1:(I=new RegExp(f+"{2}"),u.match(/[^\d.,]/g)?!1:(_=u.split(h),_.length>2?!1:_.length<2?!!_[0].match(/^\d+.*\d$/)&&!_[0].match(I):_[0].length===1?!!_[0].match(/^\d+$/)&&!_[0].match(I)&&!!_[1].match(/^\d+$/):!!_[0].match(/^\d+.*\d$/)&&!_[0].match(I)&&!!_[1].match(/^\d+$/)))},e.fn=l.prototype={clone:function(){return e(this)},format:function(u,d){var h=this._value,f=u||a.defaultFormat,g,_,v;if(d=d||Math.round,h===0&&a.zeroFormat!==null)_=a.zeroFormat;else if(h===null&&a.nullFormat!==null)_=a.nullFormat;else{for(g in i)if(f.match(i[g].regexps.format)){v=i[g].format;break}v=v||e._.numberToFormat,_=v(h,f,d)}return _},value:function(){return this._value},input:function(){return this._input},set:function(u){return this._value=Number(u),this},add:function(u){var d=n.correctionFactor.call(null,this._value,u);function h(f,g,_,v){return f+Math.round(d*g)}return this._value=n.reduce([this._value,u],h,0)/d,this},subtract:function(u){var d=n.correctionFactor.call(null,this._value,u);function h(f,g,_,v){return f-Math.round(d*g)}return this._value=n.reduce([u],h,Math.round(this._value*d))/d,this},multiply:function(u){function d(h,f,g,_){var v=n.correctionFactor(h,f);return Math.round(h*v)*Math.round(f*v)/Math.round(v*v)}return this._value=n.reduce([this._value,u],d,1),this},divide:function(u){function d(h,f,g,_){var v=n.correctionFactor(h,f);return Math.round(h*v)/Math.round(f*v)}return this._value=n.reduce([this._value,u],d),this},difference:function(u){return Math.abs(e(this._value).subtract(u).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(u){var d=u%10;return~~(u%100/10)===1?"th":d===1?"st":d===2?"nd":d===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(u,d,h){var f=e._.includes(d," BPS")?" ":"",g;return u=u*1e4,d=d.replace(/\s?BPS/,""),g=e._.numberToFormat(u,d,h),e._.includes(g,")")?(g=g.split(""),g.splice(-1,0,f+"BPS"),g=g.join("")):g=g+f+"BPS",g},unformat:function(u){return+(e._.stringToNumber(u)*1e-4).toFixed(15)}})}(),function(){var u={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},d={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},h=u.suffixes.concat(d.suffixes.filter(function(g){return u.suffixes.indexOf(g)<0})),f=h.join("|");f="("+f.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(f)},format:function(g,_,v){var I,T=e._.includes(_,"ib")?d:u,w=e._.includes(_," b")||e._.includes(_," ib")?" ":"",E,O,x;for(_=_.replace(/\s?i?b/,""),E=0;E<=T.suffixes.length;E++)if(O=Math.pow(T.base,E),x=Math.pow(T.base,E+1),g===null||g===0||g>=O&&g<x){w+=T.suffixes[E],O>0&&(g=g/O);break}return I=e._.numberToFormat(g,_,v),I+w},unformat:function(g){var _=e._.stringToNumber(g),v,I;if(_){for(v=u.suffixes.length-1;v>=0;v--){if(e._.includes(g,u.suffixes[v])){I=Math.pow(u.base,v);break}if(e._.includes(g,d.suffixes[v])){I=Math.pow(d.base,v);break}}_*=I||1}return _}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(u,d,h){var f=e.locales[e.options.currentLocale],g={before:d.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:d.match(/([\+|\-|\)|\s|\$]*)$/)[0]},_,v,I;for(d=d.replace(/\s?\$\s?/,""),_=e._.numberToFormat(u,d,h),u>=0?(g.before=g.before.replace(/[\-\(]/,""),g.after=g.after.replace(/[\-\)]/,"")):u<0&&!e._.includes(g.before,"-")&&!e._.includes(g.before,"(")&&(g.before="-"+g.before),I=0;I<g.before.length;I++)switch(v=g.before[I],v){case"$":_=e._.insert(_,f.currency.symbol,I);break;case" ":_=e._.insert(_," ",I+f.currency.symbol.length-1);break}for(I=g.after.length-1;I>=0;I--)switch(v=g.after[I],v){case"$":_=I===g.after.length-1?_+f.currency.symbol:e._.insert(_,f.currency.symbol,-(g.after.length-(1+I)));break;case" ":_=I===g.after.length-1?_+" ":e._.insert(_," ",-(g.after.length-(1+I)+f.currency.symbol.length-1));break}return _}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(u,d,h){var f,g=typeof u=="number"&&!e._.isNaN(u)?u.toExponential():"0e+0",_=g.split("e");return d=d.replace(/e[\+|\-]{1}0/,""),f=e._.numberToFormat(Number(_[0]),d,h),f+"e"+_[1]},unformat:function(u){var d=e._.includes(u,"e+")?u.split("e+"):u.split("e-"),h=Number(d[0]),f=Number(d[1]);f=e._.includes(u,"e-")?f*=-1:f;function g(_,v,I,T){var w=e._.correctionFactor(_,v),E=_*w*(v*w)/(w*w);return E}return e._.reduce([h,Math.pow(10,f)],g,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(u,d,h){var f=e.locales[e.options.currentLocale],g,_=e._.includes(d," o")?" ":"";return d=d.replace(/\s?o/,""),_+=f.ordinal(u),g=e._.numberToFormat(u,d,h),g+_}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(u,d,h){var f=e._.includes(d," %")?" ":"",g;return e.options.scalePercentBy100&&(u=u*100),d=d.replace(/\s?\%/,""),g=e._.numberToFormat(u,d,h),e._.includes(g,")")?(g=g.split(""),g.splice(-1,0,f+"%"),g=g.join("")):g=g+f+"%",g},unformat:function(u){var d=e._.stringToNumber(u);return e.options.scalePercentBy100?d*.01:d}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(u,d,h){var f=Math.floor(u/60/60),g=Math.floor((u-f*60*60)/60),_=Math.round(u-f*60*60-g*60);return f+":"+(g<10?"0"+g:g)+":"+(_<10?"0"+_:_)},unformat:function(u){var d=u.split(":"),h=0;return d.length===3?(h=h+Number(d[0])*60*60,h=h+Number(d[1])*60,h=h+Number(d[2])):d.length===2&&(h=h+Number(d[0])*60,h=h+Number(d[1])),Number(h)}})}(),e})})(HC);var m6=HC.exports;const g6=U0(m6),rE=({amount:t})=>{const e=g6(t).format("$0,0.00");return P.jsx("div",{children:e})},dn={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET",REMOVE_ITEM_IMMEDIATELY:"REMOVE_ITEM_IMMEDIATELY"},rs=U.createContext(),y6=({children:t,reducer:e,initialState:n})=>P.jsx(rs.Provider,{value:U.useReducer(e,n),children:t});var GC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rb=we.createContext&&we.createContext(GC),_6=["attr","size","title"];function v6(t,e){if(t==null)return{};var n=w6(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zp(){return Zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zp.apply(this,arguments)}function ib(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ib(Object(n),!0).forEach(function(r){E6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ib(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E6(t,e,n){return e=S6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S6(t){var e=I6(t,"string");return typeof e=="symbol"?e:e+""}function I6(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KC(t){return t&&t.map((e,n)=>we.createElement(e.tag,em({key:n},e.attr),KC(e.child)))}function po(t){return e=>we.createElement(T6,Zp({attr:em({},t.attr)},e),KC(t.child))}function T6(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=v6(t,_6),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),we.createElement("svg",Zp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:em(em({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&we.createElement("title",null,s),t.children)};return rb!==void 0?we.createElement(rb.Consumer,null,n=>e(n)):e(GC)}function YC(t){return po({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0m7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0M7.354 5.646 8.5 6.793l1.146-1.147a.5.5 0 0 1 .708.708L9.207 7.5l1.147 1.146a.5.5 0 0 1-.708.708L8.5 8.207 7.354 9.354a.5.5 0 1 1-.708-.708L7.793 7.5 6.646 6.354a.5.5 0 1 1 .708-.708"},child:[]}]})(t)}function b6(t){return po({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(t)}function pu({product:t,flex:e,renderDesc:n,renderAdd:r,showRemoveItem:i,itemAmount:s,total:o}){const{image:a,title:l,id:u,rating:d,price:h,description:f}=t,[g,_]=U.useContext(rs),v=()=>{_({type:dn.ADD_TO_BASKET,item:{image:a,title:l,id:u,rating:d,price:h,description:f}})};return P.jsxs("div",{className:`${xo.card__container} ${e?xo.product__flexed:""}`,children:[P.jsx(Oi,{to:`/products/${u}`,children:P.jsx("img",{src:a,alt:"",className:xo.img_container})}),P.jsxs("div",{children:[P.jsx("h3",{children:l}),n&&P.jsx("div",{style:{maxWidth:"750px"},children:f}),P.jsxs("div",{className:xo.rating,children:[P.jsx(p6,{value:d==null?void 0:d.rate,precision:.1}),P.jsx("small",{children:d==null?void 0:d.count})]}),P.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[P.jsx(rE,{amount:h}),s&&P.jsxs("p",{style:{fontWeight:"500",color:"var(--primary-color)"},children:["Quantity: ",s]}),o&&P.jsxs("p",{style:{fontWeight:"500",color:"var(--primary-color)"},children:["Total: $",h*s]}),P.jsx("div",{children:i&&P.jsxs("button",{className:xo.button,style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"7px",padding:"5px"},onClick:()=>_({type:dn.REMOVE_ITEM_IMMEDIATELY,id:u}),children:[P.jsx(YC,{size:20}),"Remove Item"]})})]}),r&&P.jsx("button",{className:xo.button,onClick:v,children:"add to cart"})]})]})}const iE="https://fakestoreapi.com";function QC(){const[t,e]=U.useState(),[n,r]=U.useState(!1);return U.useEffect(()=>{r(!0),ut.get(`${iE}/products`).then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),P.jsx(P.Fragment,{children:n?P.jsx(zw,{}):P.jsx("section",{className:xo.products_container,children:t==null?void 0:t.map(i=>P.jsx(pu,{renderAdd:!0,product:i},i.id))})})}const R6="_fixed_7htrd_1",A6="_header__container_7htrd_6",P6="_logo__container_7htrd_17",k6="_delivery_7htrd_28",C6="_search_7htrd_42",x6="_order__container_7htrd_84",O6="_language_7htrd_98",D6="_cart_7htrd_112",N6="_lower__container_7htrd_134",Ai={fixed:R6,header__container:A6,logo__container:P6,delivery:k6,search:C6,order__container:x6,language:O6,cart:D6,lower__container:N6};function M6(t){return po({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(t)}const L6="/assets/amazon_letter_white_logo-DP4zLUKx.png";function V6(t){return po({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(t)}var sb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},F6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},XC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(f=64)),r.push(n[d],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new U6;const f=s<<2|a>>4;if(r.push(f),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class U6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j6=function(t){const e=JC(t);return XC.encodeByteArray(e,!0)},tm=function(t){return j6(t).replace(/\./g,"")},ZC=function(t){try{return XC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!B6(n)||(t[n]=nm(t[n],e[n]));return t}function B6(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=()=>ex().__FIREBASE_DEFAULTS__,z6=()=>{if(typeof process>"u"||typeof sb>"u")return;const t=sb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZC(t[1]);return e&&JSON.parse(e)},pg=()=>{try{return $6()||z6()||W6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},q6=t=>{var e,n;return(n=(e=pg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tx=()=>{var t;return(t=pg())===null||t===void 0?void 0:t.config},nx=t=>{var e;return(e=pg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[tm(JSON.stringify(n)),tm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function sE(){var t;const e=(t=pg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y6(){return typeof window<"u"||rx()}function rx(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Q6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ix(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sx(){const t=ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ox(){return!sE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ed(){try{return typeof indexedDB=="object"}catch{return!1}}function J6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="FirebaseError";class In extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=X6,Object.setPrototypeOf(this,In.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sa.prototype.create)}}class Sa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Z6(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new In(i,a,r)}}function Z6(t,e){return t.replace(e$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const e$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function t$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ab(s)&&ab(o)){if(!jl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ab(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ec(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ax(t,e){const n=new n$(t,e);return n.subscribe.bind(n)}class n${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");r$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=h_),i.error===void 0&&(i.error=h_),i.complete===void 0&&(i.complete=h_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function h_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t){return t&&t._delegate?t._delegate:t}class hi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new H6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o$(e))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oo){return this.instances.has(e)}getOptions(e=Oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:s$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oo){return this.component?this.component.multipleInstances?e:Oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s$(t){return t===Oo?void 0:t}function o$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=[];var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const ux={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},a$=me.INFO,l$={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},u$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=l$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mg{constructor(e){this.name=e,this._logLevel=a$,this._logHandler=u$,this._userLogHandler=null,aE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ux[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}function c$(t){aE.forEach(e=>{e.setLogLevel(t)})}function d$(t,e){for(const n of aE){let r=null;e&&e.level&&(r=ux[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:me[s].toLowerCase(),message:a,args:o,type:i.name})}}}const h$=(t,e)=>e.some(n=>t instanceof n);let lb,ub;function f$(){return lb||(lb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p$(){return ub||(ub=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cx=new WeakMap,Gv=new WeakMap,dx=new WeakMap,f_=new WeakMap,lE=new WeakMap;function m$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ws(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cx.set(n,t)}).catch(()=>{}),lE.set(e,t),e}function g$(t){if(Gv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Gv.set(t,e)}let Kv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y$(t){Kv=t(Kv)}function _$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(p_(this),e,...n);return dx.set(r,e.sort?e.sort():[e]),Ws(r)}:p$().includes(t)?function(...e){return t.apply(p_(this),e),Ws(cx.get(this))}:function(...e){return Ws(t.apply(p_(this),e))}}function v$(t){return typeof t=="function"?_$(t):(t instanceof IDBTransaction&&g$(t),h$(t,f$())?new Proxy(t,Kv):t)}function Ws(t){if(t instanceof IDBRequest)return m$(t);if(f_.has(t))return f_.get(t);const e=v$(t);return e!==t&&(f_.set(t,e),lE.set(e,t)),e}const p_=t=>lE.get(t);function w$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ws(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ws(o.result),l.oldVersion,l.newVersion,Ws(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const E$=["get","getKey","getAll","getAllKeys","count"],S$=["put","add","delete","clear"],m_=new Map;function cb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(m_.get(e))return m_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=S$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||E$.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return m_.set(e,s),s}y$(t=>({...t,get:(e,n,r)=>cb(e,n)||t.get(e,n,r),has:(e,n)=>!!cb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(T$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function T$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rm="@firebase/app",Yv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new mg("@firebase/app"),b$="@firebase/app-compat",R$="@firebase/analytics-compat",A$="@firebase/analytics",P$="@firebase/app-check-compat",k$="@firebase/app-check",C$="@firebase/auth",x$="@firebase/auth-compat",O$="@firebase/database",D$="@firebase/data-connect",N$="@firebase/database-compat",M$="@firebase/functions",L$="@firebase/functions-compat",V$="@firebase/installations",F$="@firebase/installations-compat",U$="@firebase/messaging",j$="@firebase/messaging-compat",B$="@firebase/performance",$$="@firebase/performance-compat",z$="@firebase/remote-config",W$="@firebase/remote-config-compat",q$="@firebase/storage",H$="@firebase/storage-compat",G$="@firebase/firestore",K$="@firebase/vertexai-preview",Y$="@firebase/firestore-compat",Q$="firebase",J$="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]",X$={[rm]:"fire-core",[b$]:"fire-core-compat",[A$]:"fire-analytics",[R$]:"fire-analytics-compat",[k$]:"fire-app-check",[P$]:"fire-app-check-compat",[C$]:"fire-auth",[x$]:"fire-auth-compat",[O$]:"fire-rtdb",[D$]:"fire-data-connect",[N$]:"fire-rtdb-compat",[M$]:"fire-fn",[L$]:"fire-fn-compat",[V$]:"fire-iid",[F$]:"fire-iid-compat",[U$]:"fire-fcm",[j$]:"fire-fcm-compat",[B$]:"fire-perf",[$$]:"fire-perf-compat",[z$]:"fire-rc",[W$]:"fire-rc-compat",[q$]:"fire-gcs",[H$]:"fire-gcs-compat",[G$]:"fire-fst",[Y$]:"fire-fst-compat",[K$]:"fire-vertex","fire-js":"fire-js",[Q$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new Map,Bl=new Map,$l=new Map;function Sd(t,e){try{t.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hx(t,e){t.container.addOrOverwriteComponent(e)}function Zs(t){const e=t.name;if($l.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;$l.set(e,t);for(const n of Xs.values())Sd(n,t);for(const n of Bl.values())Sd(n,t);return!0}function gg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Z$(t,e,n=Js){gg(t,e).clearInstance(n)}function fx(t){return t.options!==void 0}function mt(t){return t.settings!==void 0}function e9(){$l.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new Sa("app","Firebase",t9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let px=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9 extends px{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Mr(rm,Yv,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){cE(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw fr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=J$;function uE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Js,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fr.create("bad-app-name",{appName:String(i)});if(n||(n=tx()),!n)throw fr.create("no-options");const s=Xs.get(i);if(s){if(jl(n,s.options)&&jl(r,s.config))return s;throw fr.create("duplicate-app",{appName:i})}const o=new lx(i);for(const l of $l.values())o.addComponent(l);const a=new px(n,r,o);return Xs.set(i,a),a}function r9(t,e){if(Y6()&&!rx())throw fr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;fx(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=u=>[...u].reduce((d,h)=>Math.imul(31,d)+h.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw fr.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=Bl.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new lx(s);for(const u of $l.values())a.addComponent(u);const l=new n9(n,e,s,a);return Bl.set(s,l),l}function mx(t=Js){const e=Xs.get(t);if(!e&&t===Js&&tx())return uE();if(!e)throw fr.create("no-app",{appName:t});return e}function i9(){return Array.from(Xs.values())}async function cE(t){let e=!1;const n=t.name;Xs.has(n)?(e=!0,Xs.delete(n)):Bl.has(n)&&t.decRefCount()<=0&&(Bl.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Mr(t,e,n){var r;let i=(r=X$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(a.join(" "));return}Zs(new hi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function gx(t,e){if(t!==null&&typeof t!="function")throw fr.create("invalid-log-argument");d$(t,e)}function yx(t){c$(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9="firebase-heartbeat-database",o9=1,Id="firebase-heartbeat-store";let g_=null;function _x(){return g_||(g_=w$(s9,o9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Id)}catch(n){console.warn(n)}}}}).catch(t=>{throw fr.create("idb-open",{originalErrorMessage:t.message})})),g_}async function a9(t){try{const n=(await _x()).transaction(Id),r=await n.objectStore(Id).get(vx(t));return await n.done,r}catch(e){if(e instanceof In)Ji.warn(e.message);else{const n=fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(n.message)}}}async function db(t,e){try{const r=(await _x()).transaction(Id,"readwrite");await r.objectStore(Id).put(e,vx(t)),await r.done}catch(n){if(n instanceof In)Ji.warn(n.message);else{const r=fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(r.message)}}}function vx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=1024,u9=30*24*60*60*1e3;class c9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new h9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=u9}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ji.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hb(),{heartbeatsToSend:r,unsentEntries:i}=d9(this._heartbeatsCache.heartbeats),s=tm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ji.warn(n),""}}}function hb(){return new Date().toISOString().substring(0,10)}function d9(t,e=l9){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),fb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class h9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ed()?J6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await a9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return db(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return db(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fb(t){return tm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t){Zs(new hi("platform-logger",e=>new I$(e),"PRIVATE")),Zs(new hi("heartbeat",e=>new c9(e),"PRIVATE")),Mr(rm,Yv,t),Mr(rm,Yv,"esm2017"),Mr("fire-js","")}f9("");const p9=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:In,SDK_VERSION:mo,_DEFAULT_ENTRY_NAME:Js,_addComponent:Sd,_addOrOverwriteComponent:hx,_apps:Xs,_clearComponents:e9,_components:$l,_getProvider:gg,_isFirebaseApp:fx,_isFirebaseServerApp:mt,_registerComponent:Zs,_removeServiceInstance:Z$,_serverApps:Bl,deleteApp:cE,getApp:mx,getApps:i9,initializeApp:uE,initializeServerApp:r9,onLog:gx,registerVersion:Mr,setLogLevel:yx},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n){this._delegate=e,this.firebase=n,Sd(e,new hi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),cE(this._delegate)))}_getService(e,n=Js){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Js){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Sd(this._delegate,e)}_addOrOverwriteComponent(e){hx(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},pb=new Sa("app-compat","Firebase",g9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Mr,setLogLevel:yx,onLog:gx,apps:null,SDK_VERSION:mo,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:p9}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||Js,!ob(e,u))throw pb.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,d={}){const h=uE(u,d);if(ob(e,h.name))return e[h.name];const f=new t(h,n);return e[h.name]=f,f}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const d=u.name,h=d.replace("-compat","");if(Zs(u)&&u.type==="PUBLIC"){const f=(g=i())=>{if(typeof g[h]!="function")throw pb.create("invalid-app-argument",{appName:d});return g[h]()};u.serviceProps!==void 0&&nm(f,u.serviceProps),n[h]=f,t.prototype[h]=function(...g){return this._getService.bind(this,d).apply(this,u.multipleInstances?g:[])}}return u.type==="PUBLIC"?n[h]:null}function l(u,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(){const t=y9(m9);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:wx,extendNamespace:e,createSubscribe:ax,ErrorFactory:Sa,deepExtend:nm});function e(n){nm(t,n)}return t}const _9=wx();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=new mg("@firebase/app-compat"),v9="@firebase/app-compat",w9="0.2.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t){Mr(v9,w9,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=ex();if(t.firebase!==void 0){mb.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&mb.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const gu=_9;E9();var S9="firebase",I9="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gu.registerVersion(S9,I9,"app-compat");function dE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const nc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$a={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function Ex(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b9=T9,R9=Ex,Sx=new Sa("auth","Firebase",Ex());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new mg("@firebase/auth");function A9(t,...e){im.logLevel<=me.WARN&&im.warn(`Auth (${mo}): ${t}`,...e)}function Zf(t,...e){im.logLevel<=me.ERROR&&im.error(`Auth (${mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t,...e){throw fE(t,...e)}function Lt(t,...e){return fE(t,...e)}function hE(t,e,n){const r=Object.assign(Object.assign({},R9()),{[e]:n});return new Sa("auth","Firebase",r).create(e,{appName:t.name})}function Wt(t){return hE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yu(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qt(t,"argument-error"),hE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Sx.create(t,...e)}function q(t,e,...n){if(!t)throw fE(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zf(e),new Error(e)}function Vr(t,e){t||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pE(){return gb()==="http:"||gb()==="https:"}function gb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pE()||ix()||"connection"in navigator)?navigator.onLine:!0}function k9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vr(n>e,"Short delay should be less than long delay!"),this.isMobile=K6()||oE()}get(){return P9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t,e){Vr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=new ch(3e4,6e4);function _t(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vt(t,e,n,r,i={}){return Tx(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=mu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return Q6()||(u.referrerPolicy="no-referrer"),Ix.fetch()(bx(t,t.config.apiHost,n,a),u)})}async function Tx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},C9),e);try{const i=new D9(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Sc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Sc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Sc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw hE(t,d,u);qt(t,d)}}catch(i){if(i instanceof In)throw i;qt(t,"network-request-failed",{message:String(i)})}}async function is(t,e,n,r,i={}){const s=await vt(t,e,n,r,i);return"mfaPendingCredential"in s&&qt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function bx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?mE(t.config,i):`${t.config.apiScheme}://${i}`}function O9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lt(this.auth,"network-request-failed")),x9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t){return t!==void 0&&t.getResponse!==void 0}function _b(t){return t!==void 0&&t.enterprise!==void 0}class N9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return O9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M9(t){return(await vt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function L9(t,e){return vt(t,"GET","/v2/recaptchaConfig",_t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V9(t,e){return vt(t,"POST","/v1/accounts:delete",e)}async function F9(t,e){return vt(t,"POST","/v1/accounts:update",e)}async function Rx(t,e){return vt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function U9(t,e=!1){const n=ie(t),r=await n.getIdToken(e),i=yg(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Bc(y_(i.auth_time)),issuedAtTime:Bc(y_(i.iat)),expirationTime:Bc(y_(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function y_(t){return Number(t)*1e3}function yg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zf("JWT malformed, contained fewer than 3 sections"),null;try{const i=ZC(n);return i?JSON.parse(i):(Zf("Failed to decode base64 JWT payload"),null)}catch(i){return Zf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function vb(t){const e=yg(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof In&&j9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function j9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bc(this.lastLoginAt),this.creationTime=Bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Xi(t,Rx(n,{idToken:r}));q(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ax(s.providerUserInfo):[],a=z9(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Qv(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function $9(t){const e=ie(t);await bd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ax(t){return t.map(e=>{var{providerId:n}=e,r=dE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W9(t,e){const n=await Tx(t,{},async()=>{const r=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=bx(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ix.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function q9(t,e){return vt(t,"POST","/v2/accounts:revokeToken",_t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){q(e.length!==0,"internal-error");const n=vb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await W9(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Il;return r&&(q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Il,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Li{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=dE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Xi(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return U9(this,e)}reload(){return $9(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mt(this.auth.app))return Promise.reject(Wt(this.auth));const e=await this.getIdToken();return await Xi(this,V9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:O,isAnonymous:x,providerData:N,stsTokenManager:b}=n;q(E&&b,e,"internal-error");const S=Il.fromJSON(this.name,b);q(typeof E=="string",e,"internal-error"),ys(h,e.name),ys(f,e.name),q(typeof O=="boolean",e,"internal-error"),q(typeof x=="boolean",e,"internal-error"),ys(g,e.name),ys(_,e.name),ys(v,e.name),ys(I,e.name),ys(T,e.name),ys(w,e.name);const m=new Li({uid:E,auth:e,email:f,emailVerified:O,displayName:h,isAnonymous:x,photoURL:_,phoneNumber:g,tenantId:v,stsTokenManager:S,createdAt:T,lastLoginAt:w});return N&&Array.isArray(N)&&(m.providerData=N.map(A=>Object.assign({},A))),I&&(m._redirectEventId=I),m}static async _fromIdTokenResponse(e,n,r=!1){const i=new Il;i.updateFromServerResponse(n);const s=new Li({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await bd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];q(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Ax(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Il;a.updateFromIdToken(r);const l=new Li({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Qv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=new Map;function Qn(t){Vr(t instanceof Function,"Expected a class definition");let e=wb.get(t);return e?(Vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Px.type="NONE";const zl=Px;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t,e,n){return`firebase:${t}:${e}:${n}`}class Tl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Jo(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jo("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Tl(Qn(zl),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Qn(zl);const o=Jo(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Li._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Tl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Tl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ox(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Dx(e))return"Blackberry";if(Nx(e))return"Webos";if(Cx(e))return"Safari";if((e.includes("chrome/")||xx(e))&&!e.includes("edge/"))return"Chrome";if(dh(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kx(t=ct()){return/firefox\//i.test(t)}function Cx(t=ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xx(t=ct()){return/crios\//i.test(t)}function Ox(t=ct()){return/iemobile/i.test(t)}function dh(t=ct()){return/android/i.test(t)}function Dx(t=ct()){return/blackberry/i.test(t)}function Nx(t=ct()){return/webos/i.test(t)}function hh(t=ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function H9(t=ct()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function G9(t=ct()){var e;return hh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function K9(){return sx()&&document.documentMode===10}function Mx(t=ct()){return hh(t)||dh(t)||Nx(t)||Dx(t)||/windows phone/i.test(t)||Ox(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t,e=[]){let n;switch(t){case"Browser":n=Eb(ct());break;case"Worker":n=`${Eb(ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9(t,e={}){return vt(t,"GET","/v2/passwordPolicy",_t(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=6;class X9{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:J9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sb(this),this.idTokenSubscription=new Sb(this),this.beforeStateQueue=new Y9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Tl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rx(this,{idToken:e}),r=await Li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(mt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=k9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mt(this.app))return Promise.reject(Wt(this));const n=e?ie(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mt(this.app)?Promise.reject(Wt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mt(this.app)?Promise.reject(Wt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Q9(this),n=new X9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await q9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qn(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[Qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&A9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gt(t){return ie(t)}class Sb{constructor(e){this.auth=e,this.observer=null,this.addObserver=ax(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ez(t){fh=t}function gE(t){return fh.loadJS(t)}function tz(){return fh.recaptchaV2Script}function nz(){return fh.recaptchaEnterpriseScript}function rz(){return fh.gapiScript}function Vx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const iz="recaptcha-enterprise",sz="NO_RECAPTCHA";class oz{constructor(e){this.type=iz,this.auth=gt(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{L9(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new N9(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;_b(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(sz)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&_b(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=nz();l.length!==0&&(l+=a),gE(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Ib(t,e,n,r=!1){const i=new oz(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Rd(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Ib(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Ib(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(t,e){const n=gg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(jl(s,e??{}))return i;qt(i,"already-initialized")}return n.initialize({options:e})}function lz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Fx(t,e,n){const r=gt(t);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Ux(e),{host:o,port:a}=uz(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||cz()}function Ux(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uz(t){const e=Ux(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Tb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Tb(o)}}}function Tb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(t,e){return vt(t,"POST","/v1/accounts:resetPassword",_t(t,e))}async function dz(t,e){return vt(t,"POST","/v1/accounts:update",e)}async function hz(t,e){return vt(t,"POST","/v1/accounts:signUp",e)}async function fz(t,e){return vt(t,"POST","/v1/accounts:update",_t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pz(t,e){return is(t,"POST","/v1/accounts:signInWithPassword",_t(t,e))}async function _g(t,e){return vt(t,"POST","/v1/accounts:sendOobCode",_t(t,e))}async function mz(t,e){return _g(t,e)}async function gz(t,e){return _g(t,e)}async function yz(t,e){return _g(t,e)}async function _z(t,e){return _g(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vz(t,e){return is(t,"POST","/v1/accounts:signInWithEmailLink",_t(t,e))}async function wz(t,e){return is(t,"POST","/v1/accounts:signInWithEmailLink",_t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends _u{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ad(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ad(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rd(e,n,"signInWithPassword",pz);case"emailLink":return vz(e,{email:this._email,oobCode:this._password});default:qt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rd(e,r,"signUpPassword",hz);case"emailLink":return wz(e,{idToken:n,email:this._email,oobCode:this._password});default:qt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zi(t,e){return is(t,"POST","/v1/accounts:signInWithIdp",_t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez="http://localhost";class fi extends _u{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=dE(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new fi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zi(e,n)}buildRequest(){const e={requestUri:Ez,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sz(t,e){return vt(t,"POST","/v1/accounts:sendVerificationCode",_t(t,e))}async function Iz(t,e){return is(t,"POST","/v1/accounts:signInWithPhoneNumber",_t(t,e))}async function Tz(t,e){const n=await is(t,"POST","/v1/accounts:signInWithPhoneNumber",_t(t,e));if(n.temporaryProof)throw Sc(t,"account-exists-with-different-credential",n);return n}const bz={USER_NOT_FOUND:"user-not-found"};async function Rz(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return is(t,"POST","/v1/accounts:signInWithPhoneNumber",_t(t,n),bz)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends _u{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Xo({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Xo({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return Iz(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return Tz(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Rz(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Xo({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Pz(t){const e=fl(Ec(t)).link,n=e?fl(Ec(e)).deep_link_id:null,r=fl(Ec(t)).deep_link_id;return(r?fl(Ec(r)).link:null)||r||n||e||t}class vg{constructor(e){var n,r,i,s,o,a;const l=fl(Ec(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=Az((i=l.mode)!==null&&i!==void 0?i:null);q(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Pz(e);try{return new vg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.providerId=go.PROVIDER_ID}static credential(e,n){return Ad._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vg.parseLink(n);return q(r,"argument-error"),Ad._fromEmailAndCode(e,r.code,r.tenantId)}}go.PROVIDER_ID="password";go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends ss{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class bl extends vu{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return q("providerId"in n&&"signInMethod"in n,"argument-error"),fi._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return q(e.idToken||e.accessToken,"argument-error"),fi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return bl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return bl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new bl(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends vu{constructor(){super("facebook.com")}static credential(e){return fi._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fi._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xr.credential(n,r)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends vu{constructor(){super("github.com")}static credential(e){return fi._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz="http://localhost";class Wl extends _u{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return zi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Wl(r,s)}static _create(e,n){return new Wl(e,n)}buildRequest(){return{requestUri:kz,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz="saml.";class sm extends ss{constructor(e){q(e.startsWith(Cz),"argument-error"),super(e)}static credentialFromResult(e){return sm.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return sm.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Wl.fromJSON(e);return q(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Wl._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends vu{constructor(){super("twitter.com")}static credential(e,n){return fi._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.TWITTER_SIGN_IN_METHOD="twitter.com";ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(t,e){return is(t,"POST","/v1/accounts:signUp",_t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Li._fromIdTokenResponse(e,r,i),o=bb(r);return new gr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=bb(r);return new gr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function bb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xz(t){var e;if(mt(t.app))return Promise.reject(Wt(t));const n=gt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new gr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Bx(n,{returnSecureToken:!0}),i=await gr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om extends In{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,om.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new om(e,n,r,i)}}function $x(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?om._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oz(t,e){const n=ie(t);await wg(!0,n,e);const{providerUserInfo:r}=await F9(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=zx(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function yE(t,e,n=!1){const r=await Xi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gr._forOperation(t,"link",r)}async function wg(t,e,n){await bd(e);const r=zx(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";q(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx(t,e,n=!1){const{auth:r}=t;if(mt(r.app))return Promise.reject(Wt(r));const i="reauthenticate";try{const s=await Xi(t,$x(r,i,e,t),n);q(s.idToken,r,"internal-error");const o=yg(s.idToken);q(o,r,"internal-error");const{sub:a}=o;return q(t.uid===a,r,"user-mismatch"),gr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(t,e,n=!1){if(mt(t.app))return Promise.reject(Wt(t));const r="signIn",i=await $x(t,r,e),s=await gr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Eg(t,e){return qx(gt(t),e)}async function Hx(t,e){const n=ie(t);return await wg(!1,n,e.providerId),yE(n,e)}async function Gx(t,e){return Wx(ie(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dz(t,e){return is(t,"POST","/v1/accounts:signInWithCustomToken",_t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nz(t,e){if(mt(t.app))return Promise.reject(Wt(t));const n=gt(t),r=await Dz(n,{token:e,returnSecureToken:!0}),i=await gr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?_E._fromServerResponse(e,n):"totpInfo"in n?vE._fromServerResponse(e,n):qt(e,"internal-error")}}class _E extends ph{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new _E(n)}}class vE extends ph{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new vE(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t,e,n){var r;q(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wE(t){const e=gt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Mz(t,e,n){const r=gt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Sg(r,i,n),await Rd(r,i,"getOobCode",gz)}async function Lz(t,e,n){await jx(ie(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wE(t),r})}async function Vz(t,e){await fz(ie(t),{oobCode:e})}async function Kx(t,e){const n=ie(t),r=await jx(n,{oobCode:e}),i=r.requestType;switch(q(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(r.mfaInfo,n,"internal-error");default:q(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=ph._fromServerResponse(gt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Fz(t,e){const{data:n}=await Kx(ie(t),e);return n.email}async function Yx(t,e,n){if(mt(t.app))return Promise.reject(Wt(t));const r=gt(t),o=await Rd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bx).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&wE(t),l}),a=await gr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Qx(t,e,n){return mt(t.app)?Promise.reject(Wt(t)):Eg(ie(t),go.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wE(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uz(t,e,n){const r=gt(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){q(a.handleCodeInApp,r,"argument-error"),a&&Sg(r,o,a)}s(i,n),await Rd(r,i,"getOobCode",yz)}function jz(t,e){const n=vg.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Bz(t,e,n){if(mt(t.app))return Promise.reject(Wt(t));const r=ie(t),i=go.credentialWithLink(e,n||Td());return q(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Eg(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $z(t,e){return vt(t,"POST","/v1/accounts:createAuthUri",_t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zz(t,e){const n=pE()?Td():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await $z(ie(t),r);return i||[]}async function Wz(t,e){const n=ie(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Sg(n.auth,i,e);const{email:s}=await mz(n.auth,i);s!==t.email&&await t.reload()}async function qz(t,e,n){const r=ie(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Sg(r.auth,s,n);const{email:o}=await _z(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hz(t,e){return vt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gz(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ie(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Xi(r,Hz(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Kz(t,e){const n=ie(t);return mt(n.auth.app)?Promise.reject(Wt(n.auth)):Jx(n,e,null)}function Yz(t,e){return Jx(ie(t),null,e)}async function Jx(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Xi(t,dz(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qz(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=yg(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Rl(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new Jz(s,i);case"github.com":return new Xz(s,i);case"google.com":return new Zz(s,i);case"twitter.com":return new eW(s,i,t.screenName||null);case"custom":case"anonymous":return new Rl(s,null);default:return new Rl(s,r,i)}}class Rl{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class Xx extends Rl{constructor(e,n,r,i){super(e,n,r),this.username=i}}class Jz extends Rl{constructor(e,n){super(e,"facebook.com",n)}}class Xz extends Xx{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class Zz extends Rl{constructor(e,n){super(e,"google.com",n)}}class eW extends Xx{constructor(e,n,r){super(e,"twitter.com",n,r)}}function tW(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Qz(n)}function nW(t,e,n,r){return ie(t).onIdTokenChanged(e,n,r)}function rW(t,e,n){return ie(t).beforeAuthStateChanged(e,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Wo("enroll",e,n)}static _fromMfaPendingCredential(e){return new Wo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Wo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Wo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=gt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>ph._fromServerResponse(r,a));q(i.mfaPendingCredential,r,"internal-error");const o=Wo._fromMfaPendingCredential(i.mfaPendingCredential);return new EE(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const d=await gr._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return q(n.user,r,"internal-error"),gr._forOperation(n.user,n.operationType,u);default:qt(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function iW(t,e){var n;const r=ie(t),i=e;return q(e.customData.operationType,r,"argument-error"),q((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),EE._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sW(t,e){return vt(t,"POST","/v2/accounts/mfaEnrollment:start",_t(t,e))}function oW(t,e){return vt(t,"POST","/v2/accounts/mfaEnrollment:finalize",_t(t,e))}function aW(t,e){return vt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",_t(t,e))}class SE{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>ph._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new SE(e)}async getSession(){return Wo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Xi(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Xi(this.user,aW(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const __=new WeakMap;function lW(t){const e=ie(t);return __.has(e)||__.set(e,SE._fromUser(e)),__.get(e)}const am="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(am,"1"),this.storage.removeItem(am),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW=1e3,cW=10;class eO extends Zx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Mx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);K9()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,cW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eO.type="LOCAL";const Ig=eO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO extends Zx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tO.type="SESSION";const eo=tO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Tg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await dW(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=mh("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return window}function fW(t){Pt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){return typeof Pt().WorkerGlobalScope<"u"&&typeof Pt().importScripts=="function"}async function pW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gW(){return IE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="firebaseLocalStorageDb",yW=1,lm="firebaseLocalStorage",rO="fbase_key";class gh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bg(t,e){return t.transaction([lm],e?"readwrite":"readonly").objectStore(lm)}function _W(){const t=indexedDB.deleteDatabase(nO);return new gh(t).toPromise()}function Jv(){const t=indexedDB.open(nO,yW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lm,{keyPath:rO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lm)?e(r):(r.close(),await _W(),e(await Jv()))})})}async function Rb(t,e,n){const r=bg(t,!0).put({[rO]:e,value:n});return new gh(r).toPromise()}async function vW(t,e){const n=bg(t,!1).get(e),r=await new gh(n).toPromise();return r===void 0?null:r.value}function Ab(t,e){const n=bg(t,!0).delete(e);return new gh(n).toPromise()}const wW=800,EW=3;class iO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>EW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tg._getInstance(gW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await pW(),!this.activeServiceWorker)return;this.sender=new hW(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jv();return await Rb(e,am,"1"),await Ab(e,am),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Rb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ab(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=bg(i,!1).getAll();return new gh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iO.type="LOCAL";const ql=iO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SW(t,e){return vt(t,"POST","/v2/accounts/mfaSignIn:start",_t(t,e))}function IW(t,e){return vt(t,"POST","/v2/accounts/mfaSignIn:finalize",_t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW=500,bW=6e4,If=1e12;class RW{constructor(e){this.auth=e,this.counter=If,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new AW(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||If;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||If;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||If;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class AW{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;q(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=PW(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},bW)},TW))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function PW(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=Vx("rcb"),kW=new ch(3e4,6e4);class CW{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Pt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return q(xW(n),e,"argument-error"),this.shouldResolveImmediately(n)&&yb(Pt().grecaptcha)?Promise.resolve(Pt().grecaptcha):new Promise((r,i)=>{const s=Pt().setTimeout(()=>{i(Lt(e,"network-request-failed"))},kW.get());Pt()[v_]=()=>{Pt().clearTimeout(s),delete Pt()[v_];const a=Pt().grecaptcha;if(!a||!yb(a)){i(Lt(e,"internal-error"));return}const l=a.render;a.render=(u,d)=>{const h=l(u,d);return this.counter++,h},this.hostLanguage=n,r(a)};const o=`${tz()}?${mu({onload:v_,render:"explicit",hl:n})}`;gE(o).catch(()=>{clearTimeout(s),i(Lt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Pt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function xW(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class OW{async load(e){return new RW(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="recaptcha",DW={theme:"light",type:"image"};let NW=class{constructor(e,n,r=Object.assign({},DW)){this.parameters=r,this.type=sO,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gt(e),this.isInvisible=this.parameters.size==="invisible",q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;q(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new OW:new CW,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Pt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){q(pE()&&!IE(),this.auth,"internal-error"),await MW(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await M9(this.auth);q(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function MW(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Xo._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function LW(t,e,n){if(mt(t.app))return Promise.reject(Wt(t));const r=gt(t),i=await Rg(r,e,ie(n));return new TE(i,s=>Eg(r,s))}async function VW(t,e,n){const r=ie(t);await wg(!1,r,"phone");const i=await Rg(r.auth,e,ie(n));return new TE(i,s=>Hx(r,s))}async function FW(t,e,n){const r=ie(t);if(mt(r.auth.app))return Promise.reject(Wt(r.auth));const i=await Rg(r.auth,e,ie(n));return new TE(i,s=>Gx(r,s))}async function Rg(t,e,n){var r;const i=await n.verify();try{q(typeof i=="string",t,"argument-error"),q(n.type===sO,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return q(o.type==="enroll",t,"internal-error"),(await sW(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{q(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return q(a,t,"missing-multi-factor-info"),(await SW(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await Sz(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function UW(t,e){const n=ie(t);if(mt(n.auth.app))return Promise.reject(Wt(n.auth));await yE(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la=class ep{constructor(e){this.providerId=ep.PROVIDER_ID,this.auth=gt(e)}verifyPhoneNumber(e,n){return Rg(this.auth,e,ie(n))}static credential(e,n){return Xo._fromVerification(e,n)}static credentialFromResult(e){const n=e;return ep.credentialFromTaggedObject(n)}static credentialFromError(e){return ep.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Xo._fromTokenResponse(n,r):null}};la.PROVIDER_ID="phone";la.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t,e){return e?Qn(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE extends _u{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jW(t){return qx(t.auth,new bE(t),t.bypassAuthState)}function BW(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),Wx(n,new bE(t),t.bypassAuthState)}async function $W(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),yE(n,new bE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jW;case"linkViaPopup":case"linkViaRedirect":return $W;case"reauthViaPopup":case"reauthViaRedirect":return BW;default:qt(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=new ch(2e3,1e4);async function WW(t,e,n){if(mt(t.app))return Promise.reject(Lt(t,"operation-not-supported-in-this-environment"));const r=gt(t);yu(t,e,ss);const i=Ia(r,n);return new Vi(r,"signInViaPopup",e,i).executeNotNull()}async function qW(t,e,n){const r=ie(t);if(mt(r.auth.app))return Promise.reject(Lt(r.auth,"operation-not-supported-in-this-environment"));yu(r.auth,e,ss);const i=Ia(r.auth,n);return new Vi(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function HW(t,e,n){const r=ie(t);yu(r.auth,e,ss);const i=Ia(r.auth,n);return new Vi(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Vi extends oO{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Vi.currentPopupAction&&Vi.currentPopupAction.cancel(),Vi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return q(e,this.auth,"internal-error"),e}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const e=mh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zW.get())};e()}}Vi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW="pendingRedirect",$c=new Map;class KW extends oO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const r=await YW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YW(t,e){const n=lO(e),r=aO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function RE(t,e){return aO(t)._set(lO(e),"true")}function QW(){$c.clear()}function AE(t,e){$c.set(t._key(),e)}function aO(t){return Qn(t._redirectPersistence)}function lO(t){return Jo(GW,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(t,e,n){return XW(t,e,n)}async function XW(t,e,n){if(mt(t.app))return Promise.reject(Wt(t));const r=gt(t);yu(t,e,ss),await r._initializationPromise;const i=Ia(r,n);return await RE(i,r),i._openRedirect(r,e,"signInViaRedirect")}function ZW(t,e,n){return e8(t,e,n)}async function e8(t,e,n){const r=ie(t);if(yu(r.auth,e,ss),mt(r.auth.app))return Promise.reject(Wt(r.auth));await r.auth._initializationPromise;const i=Ia(r.auth,n);await RE(i,r.auth);const s=await uO(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function t8(t,e,n){return n8(t,e,n)}async function n8(t,e,n){const r=ie(t);yu(r.auth,e,ss),await r.auth._initializationPromise;const i=Ia(r.auth,n);await wg(!1,r,e.providerId),await RE(i,r.auth);const s=await uO(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function r8(t,e){return await gt(t)._initializationPromise,Ag(t,e,!1)}async function Ag(t,e,n=!1){if(mt(t.app))return Promise.reject(Wt(t));const r=gt(t),i=Ia(r,e),o=await new KW(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function uO(t){const e=mh(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=10*60*1e3;class cO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!s8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dO(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i8&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pb(e))}saveEventToCache(e){this.cachedEventUids.add(Pb(e)),this.lastProcessedEventTime=Date.now()}}function Pb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function s8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(t,e={}){return vt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a8=/^https?/;async function l8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hO(t);for(const n of e)try{if(u8(n))return}catch{}qt(t,"unauthorized-domain")}function u8(t){const e=Td(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!a8.test(n))return!1;if(o8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=new ch(3e4,6e4);function kb(){const t=Pt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function d8(t){return new Promise((e,n)=>{var r,i,s;function o(){kb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kb(),n(Lt(t,"network-request-failed"))},timeout:c8.get()})}if(!((i=(r=Pt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Pt().gapi)===null||s===void 0)&&s.load)o();else{const a=Vx("iframefcb");return Pt()[a]=()=>{gapi.load?o():n(Lt(t,"network-request-failed"))},gE(`${rz()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw tp=null,e})}let tp=null;function h8(t){return tp=tp||d8(t),tp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=new ch(5e3,15e3),p8="__/auth/iframe",m8="emulator/auth/iframe",g8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _8(t){const e=t.config;q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mE(e,m8):`https://${t.config.authDomain}/${p8}`,r={apiKey:e.apiKey,appName:t.name,v:mo},i=y8.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${mu(r).slice(1)}`}async function v8(t){const e=await h8(t),n=Pt().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:_8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g8,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Lt(t,"network-request-failed"),a=Pt().setTimeout(()=>{s(o)},f8.get());function l(){Pt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E8=500,S8=600,I8="_blank",T8="http://localhost";class Cb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b8(t,e,n,r=E8,i=S8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},w8),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ct().toLowerCase();n&&(a=xx(u)?I8:n),kx(u)&&(e=e||T8,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[g,_])=>`${f}${g}=${_},`,"");if(G9(u)&&a!=="_self")return R8(e||"",a),new Cb(null);const h=window.open(e||"",a,d);q(h,t,"popup-blocked");try{h.focus()}catch{}return new Cb(h)}function R8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8="__/auth/handler",P8="emulator/auth/handler",k8=encodeURIComponent("fac");async function Xv(t,e,n,r,i,s){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mo,eventId:i};if(e instanceof ss){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",t$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof vu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${k8}=${encodeURIComponent(l)}`:"";return`${C8(t)}?${mu(a).slice(1)}${u}`}function C8({config:t}){return t.emulator?mE(t,P8):`https://${t.authDomain}/${A8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="webStorageSupport";class x8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eo,this._completeRedirectFn=Ag,this._overrideRedirectResult=AE}async _openPopup(e,n,r,i){var s;Vr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Xv(e,n,r,Td(),i);return b8(e,o,mh())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Xv(e,n,r,Td(),i);return fW(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await v8(e),r=new cO(e);return n.register("authEvent",i=>(q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(w_,{type:w_},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[w_];o!==void 0&&n(!!o),qt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Mx()||Cx()||hh()}}const fO=x8;class O8{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return ii("unexpected MultiFactorSessionType")}}}class PE extends O8{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new PE(e)}_finalizeEnroll(e,n,r){return oW(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return IW(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class pO{constructor(){}static assertion(e){return PE._fromCredential(e)}}pO.FACTOR_ID="phone";var xb="@firebase/auth",Ob="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M8(t){Zs(new hi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lx(t)},u=new Z9(r,i,s,l);return lz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zs(new hi("auth-internal",e=>{const n=gt(e.getProvider("auth").getImmediate());return(r=>new D8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(xb,Ob,N8(t)),Mr(xb,Ob,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=5*60,V8=nx("authIdTokenMaxAge")||L8;let Db=null;const F8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>V8)return;const i=n==null?void 0:n.token;Db!==i&&(Db=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function U8(t=mx()){const e=gg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=az(t,{popupRedirectResolver:fO,persistence:[ql,Ig,eo]}),r=nx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=F8(s.toString());rW(n,o,()=>o(n.currentUser)),nW(n,a=>o(a))}}const i=q6("auth");return i&&Fx(n,`http://${i}`),n}function j8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ez({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Lt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",j8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M8("Browser");var Nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zo,mO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,S){function m(){}m.prototype=S.prototype,b.D=S.prototype,b.prototype=new m,b.prototype.constructor=b,b.C=function(A,C,D){for(var k=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)k[Ee-2]=arguments[Ee];return S.prototype[C].apply(A,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,S,m){m||(m=0);var A=Array(16);if(typeof S=="string")for(var C=0;16>C;++C)A[C]=S.charCodeAt(m++)|S.charCodeAt(m++)<<8|S.charCodeAt(m++)<<16|S.charCodeAt(m++)<<24;else for(C=0;16>C;++C)A[C]=S[m++]|S[m++]<<8|S[m++]<<16|S[m++]<<24;S=b.g[0],m=b.g[1],C=b.g[2];var D=b.g[3],k=S+(D^m&(C^D))+A[0]+3614090360&4294967295;S=m+(k<<7&4294967295|k>>>25),k=D+(C^S&(m^C))+A[1]+3905402710&4294967295,D=S+(k<<12&4294967295|k>>>20),k=C+(m^D&(S^m))+A[2]+606105819&4294967295,C=D+(k<<17&4294967295|k>>>15),k=m+(S^C&(D^S))+A[3]+3250441966&4294967295,m=C+(k<<22&4294967295|k>>>10),k=S+(D^m&(C^D))+A[4]+4118548399&4294967295,S=m+(k<<7&4294967295|k>>>25),k=D+(C^S&(m^C))+A[5]+1200080426&4294967295,D=S+(k<<12&4294967295|k>>>20),k=C+(m^D&(S^m))+A[6]+2821735955&4294967295,C=D+(k<<17&4294967295|k>>>15),k=m+(S^C&(D^S))+A[7]+4249261313&4294967295,m=C+(k<<22&4294967295|k>>>10),k=S+(D^m&(C^D))+A[8]+1770035416&4294967295,S=m+(k<<7&4294967295|k>>>25),k=D+(C^S&(m^C))+A[9]+2336552879&4294967295,D=S+(k<<12&4294967295|k>>>20),k=C+(m^D&(S^m))+A[10]+4294925233&4294967295,C=D+(k<<17&4294967295|k>>>15),k=m+(S^C&(D^S))+A[11]+2304563134&4294967295,m=C+(k<<22&4294967295|k>>>10),k=S+(D^m&(C^D))+A[12]+1804603682&4294967295,S=m+(k<<7&4294967295|k>>>25),k=D+(C^S&(m^C))+A[13]+4254626195&4294967295,D=S+(k<<12&4294967295|k>>>20),k=C+(m^D&(S^m))+A[14]+2792965006&4294967295,C=D+(k<<17&4294967295|k>>>15),k=m+(S^C&(D^S))+A[15]+1236535329&4294967295,m=C+(k<<22&4294967295|k>>>10),k=S+(C^D&(m^C))+A[1]+4129170786&4294967295,S=m+(k<<5&4294967295|k>>>27),k=D+(m^C&(S^m))+A[6]+3225465664&4294967295,D=S+(k<<9&4294967295|k>>>23),k=C+(S^m&(D^S))+A[11]+643717713&4294967295,C=D+(k<<14&4294967295|k>>>18),k=m+(D^S&(C^D))+A[0]+3921069994&4294967295,m=C+(k<<20&4294967295|k>>>12),k=S+(C^D&(m^C))+A[5]+3593408605&4294967295,S=m+(k<<5&4294967295|k>>>27),k=D+(m^C&(S^m))+A[10]+38016083&4294967295,D=S+(k<<9&4294967295|k>>>23),k=C+(S^m&(D^S))+A[15]+3634488961&4294967295,C=D+(k<<14&4294967295|k>>>18),k=m+(D^S&(C^D))+A[4]+3889429448&4294967295,m=C+(k<<20&4294967295|k>>>12),k=S+(C^D&(m^C))+A[9]+568446438&4294967295,S=m+(k<<5&4294967295|k>>>27),k=D+(m^C&(S^m))+A[14]+3275163606&4294967295,D=S+(k<<9&4294967295|k>>>23),k=C+(S^m&(D^S))+A[3]+4107603335&4294967295,C=D+(k<<14&4294967295|k>>>18),k=m+(D^S&(C^D))+A[8]+1163531501&4294967295,m=C+(k<<20&4294967295|k>>>12),k=S+(C^D&(m^C))+A[13]+2850285829&4294967295,S=m+(k<<5&4294967295|k>>>27),k=D+(m^C&(S^m))+A[2]+4243563512&4294967295,D=S+(k<<9&4294967295|k>>>23),k=C+(S^m&(D^S))+A[7]+1735328473&4294967295,C=D+(k<<14&4294967295|k>>>18),k=m+(D^S&(C^D))+A[12]+2368359562&4294967295,m=C+(k<<20&4294967295|k>>>12),k=S+(m^C^D)+A[5]+4294588738&4294967295,S=m+(k<<4&4294967295|k>>>28),k=D+(S^m^C)+A[8]+2272392833&4294967295,D=S+(k<<11&4294967295|k>>>21),k=C+(D^S^m)+A[11]+1839030562&4294967295,C=D+(k<<16&4294967295|k>>>16),k=m+(C^D^S)+A[14]+4259657740&4294967295,m=C+(k<<23&4294967295|k>>>9),k=S+(m^C^D)+A[1]+2763975236&4294967295,S=m+(k<<4&4294967295|k>>>28),k=D+(S^m^C)+A[4]+1272893353&4294967295,D=S+(k<<11&4294967295|k>>>21),k=C+(D^S^m)+A[7]+4139469664&4294967295,C=D+(k<<16&4294967295|k>>>16),k=m+(C^D^S)+A[10]+3200236656&4294967295,m=C+(k<<23&4294967295|k>>>9),k=S+(m^C^D)+A[13]+681279174&4294967295,S=m+(k<<4&4294967295|k>>>28),k=D+(S^m^C)+A[0]+3936430074&4294967295,D=S+(k<<11&4294967295|k>>>21),k=C+(D^S^m)+A[3]+3572445317&4294967295,C=D+(k<<16&4294967295|k>>>16),k=m+(C^D^S)+A[6]+76029189&4294967295,m=C+(k<<23&4294967295|k>>>9),k=S+(m^C^D)+A[9]+3654602809&4294967295,S=m+(k<<4&4294967295|k>>>28),k=D+(S^m^C)+A[12]+3873151461&4294967295,D=S+(k<<11&4294967295|k>>>21),k=C+(D^S^m)+A[15]+530742520&4294967295,C=D+(k<<16&4294967295|k>>>16),k=m+(C^D^S)+A[2]+3299628645&4294967295,m=C+(k<<23&4294967295|k>>>9),k=S+(C^(m|~D))+A[0]+4096336452&4294967295,S=m+(k<<6&4294967295|k>>>26),k=D+(m^(S|~C))+A[7]+1126891415&4294967295,D=S+(k<<10&4294967295|k>>>22),k=C+(S^(D|~m))+A[14]+2878612391&4294967295,C=D+(k<<15&4294967295|k>>>17),k=m+(D^(C|~S))+A[5]+4237533241&4294967295,m=C+(k<<21&4294967295|k>>>11),k=S+(C^(m|~D))+A[12]+1700485571&4294967295,S=m+(k<<6&4294967295|k>>>26),k=D+(m^(S|~C))+A[3]+2399980690&4294967295,D=S+(k<<10&4294967295|k>>>22),k=C+(S^(D|~m))+A[10]+4293915773&4294967295,C=D+(k<<15&4294967295|k>>>17),k=m+(D^(C|~S))+A[1]+2240044497&4294967295,m=C+(k<<21&4294967295|k>>>11),k=S+(C^(m|~D))+A[8]+1873313359&4294967295,S=m+(k<<6&4294967295|k>>>26),k=D+(m^(S|~C))+A[15]+4264355552&4294967295,D=S+(k<<10&4294967295|k>>>22),k=C+(S^(D|~m))+A[6]+2734768916&4294967295,C=D+(k<<15&4294967295|k>>>17),k=m+(D^(C|~S))+A[13]+1309151649&4294967295,m=C+(k<<21&4294967295|k>>>11),k=S+(C^(m|~D))+A[4]+4149444226&4294967295,S=m+(k<<6&4294967295|k>>>26),k=D+(m^(S|~C))+A[11]+3174756917&4294967295,D=S+(k<<10&4294967295|k>>>22),k=C+(S^(D|~m))+A[2]+718787259&4294967295,C=D+(k<<15&4294967295|k>>>17),k=m+(D^(C|~S))+A[9]+3951481745&4294967295,b.g[0]=b.g[0]+S&4294967295,b.g[1]=b.g[1]+(C+(k<<21&4294967295|k>>>11))&4294967295,b.g[2]=b.g[2]+C&4294967295,b.g[3]=b.g[3]+D&4294967295}r.prototype.u=function(b,S){S===void 0&&(S=b.length);for(var m=S-this.blockSize,A=this.B,C=this.h,D=0;D<S;){if(C==0)for(;D<=m;)i(this,b,D),D+=this.blockSize;if(typeof b=="string"){for(;D<S;)if(A[C++]=b.charCodeAt(D++),C==this.blockSize){i(this,A),C=0;break}}else for(;D<S;)if(A[C++]=b[D++],C==this.blockSize){i(this,A),C=0;break}}this.h=C,this.o+=S},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var S=1;S<b.length-8;++S)b[S]=0;var m=8*this.o;for(S=b.length-8;S<b.length;++S)b[S]=m&255,m/=256;for(this.u(b),b=Array(16),S=m=0;4>S;++S)for(var A=0;32>A;A+=8)b[m++]=this.g[S]>>>A&255;return b};function s(b,S){var m=a;return Object.prototype.hasOwnProperty.call(m,b)?m[b]:m[b]=S(b)}function o(b,S){this.h=S;for(var m=[],A=!0,C=b.length-1;0<=C;C--){var D=b[C]|0;A&&D==S||(m[C]=D,A=!1)}this.g=m}var a={};function l(b){return-128<=b&&128>b?s(b,function(S){return new o([S|0],0>S?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return h;if(0>b)return I(u(-b));for(var S=[],m=1,A=0;b>=m;A++)S[A]=b/m|0,m*=4294967296;return new o(S,0)}function d(b,S){if(b.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b.charAt(0)=="-")return I(d(b.substring(1),S));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var m=u(Math.pow(S,8)),A=h,C=0;C<b.length;C+=8){var D=Math.min(8,b.length-C),k=parseInt(b.substring(C,C+D),S);8>D?(D=u(Math.pow(S,D)),A=A.j(D).add(u(k))):(A=A.j(m),A=A.add(u(k)))}return A}var h=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-I(this).m();for(var b=0,S=1,m=0;m<this.g.length;m++){var A=this.i(m);b+=(0<=A?A:4294967296+A)*S,S*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(_(this))return"0";if(v(this))return"-"+I(this).toString(b);for(var S=u(Math.pow(b,6)),m=this,A="";;){var C=O(m,S).g;m=T(m,C.j(S));var D=((0<m.g.length?m.g[0]:m.h)>>>0).toString(b);if(m=C,_(m))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function _(b){if(b.h!=0)return!1;for(var S=0;S<b.g.length;S++)if(b.g[S]!=0)return!1;return!0}function v(b){return b.h==-1}t.l=function(b){return b=T(this,b),v(b)?-1:_(b)?0:1};function I(b){for(var S=b.g.length,m=[],A=0;A<S;A++)m[A]=~b.g[A];return new o(m,~b.h).add(f)}t.abs=function(){return v(this)?I(this):this},t.add=function(b){for(var S=Math.max(this.g.length,b.g.length),m=[],A=0,C=0;C<=S;C++){var D=A+(this.i(C)&65535)+(b.i(C)&65535),k=(D>>>16)+(this.i(C)>>>16)+(b.i(C)>>>16);A=k>>>16,D&=65535,k&=65535,m[C]=k<<16|D}return new o(m,m[m.length-1]&-2147483648?-1:0)};function T(b,S){return b.add(I(S))}t.j=function(b){if(_(this)||_(b))return h;if(v(this))return v(b)?I(this).j(I(b)):I(I(this).j(b));if(v(b))return I(this.j(I(b)));if(0>this.l(g)&&0>b.l(g))return u(this.m()*b.m());for(var S=this.g.length+b.g.length,m=[],A=0;A<2*S;A++)m[A]=0;for(A=0;A<this.g.length;A++)for(var C=0;C<b.g.length;C++){var D=this.i(A)>>>16,k=this.i(A)&65535,Ee=b.i(C)>>>16,fe=b.i(C)&65535;m[2*A+2*C]+=k*fe,w(m,2*A+2*C),m[2*A+2*C+1]+=D*fe,w(m,2*A+2*C+1),m[2*A+2*C+1]+=k*Ee,w(m,2*A+2*C+1),m[2*A+2*C+2]+=D*Ee,w(m,2*A+2*C+2)}for(A=0;A<S;A++)m[A]=m[2*A+1]<<16|m[2*A];for(A=S;A<2*S;A++)m[A]=0;return new o(m,0)};function w(b,S){for(;(b[S]&65535)!=b[S];)b[S+1]+=b[S]>>>16,b[S]&=65535,S++}function E(b,S){this.g=b,this.h=S}function O(b,S){if(_(S))throw Error("division by zero");if(_(b))return new E(h,h);if(v(b))return S=O(I(b),S),new E(I(S.g),I(S.h));if(v(S))return S=O(b,I(S)),new E(I(S.g),S.h);if(30<b.g.length){if(v(b)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var m=f,A=S;0>=A.l(b);)m=x(m),A=x(A);var C=N(m,1),D=N(A,1);for(A=N(A,2),m=N(m,2);!_(A);){var k=D.add(A);0>=k.l(b)&&(C=C.add(m),D=k),A=N(A,1),m=N(m,1)}return S=T(b,C.j(S)),new E(C,S)}for(C=h;0<=b.l(S);){for(m=Math.max(1,Math.floor(b.m()/S.m())),A=Math.ceil(Math.log(m)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=u(m),k=D.j(S);v(k)||0<k.l(b);)m-=A,D=u(m),k=D.j(S);_(D)&&(D=f),C=C.add(D),b=T(b,k)}return new E(C,b)}t.A=function(b){return O(this,b).h},t.and=function(b){for(var S=Math.max(this.g.length,b.g.length),m=[],A=0;A<S;A++)m[A]=this.i(A)&b.i(A);return new o(m,this.h&b.h)},t.or=function(b){for(var S=Math.max(this.g.length,b.g.length),m=[],A=0;A<S;A++)m[A]=this.i(A)|b.i(A);return new o(m,this.h|b.h)},t.xor=function(b){for(var S=Math.max(this.g.length,b.g.length),m=[],A=0;A<S;A++)m[A]=this.i(A)^b.i(A);return new o(m,this.h^b.h)};function x(b){for(var S=b.g.length+1,m=[],A=0;A<S;A++)m[A]=b.i(A)<<1|b.i(A-1)>>>31;return new o(m,b.h)}function N(b,S){var m=S>>5;S%=32;for(var A=b.g.length-m,C=[],D=0;D<A;D++)C[D]=0<S?b.i(D+m)>>>S|b.i(D+m+1)<<32-S:b.i(D+m);return new o(C,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mO=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Zo=o}).apply(typeof Nb<"u"?Nb:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gO,Ic,yO,np,Zv,_O,vO,wO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,y){return c==Array.prototype||c==Object.prototype||(c[p]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var p=0;p<c.length;++p){var y=c[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var y=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var M=c[R];if(!(M in y))break e;y=y[M]}c=c[c.length-1],R=y[c],p=p(R),p!=R&&p!=null&&e(y,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var y=0,R=!1,M={next:function(){if(!R&&y<c.length){var F=y++;return{value:p(F,c[F]),done:!1}}return R=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,y){return c.call.apply(c.bind,arguments)}function h(c,p,y){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,R),c.apply(p,M)}}return function(){return c.apply(p,arguments)}}function f(c,p,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function g(c,p){var y=Array.prototype.slice.call(arguments,1);return function(){var R=y.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function _(c,p){function y(){}y.prototype=p.prototype,c.aa=p.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(R,M,F){for(var G=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)G[Fe-2]=arguments[Fe];return p.prototype[M].apply(R,G)}}function v(c){const p=c.length;if(0<p){const y=Array(p);for(let R=0;R<p;R++)y[R]=c[R];return y}return[]}function I(c,p){for(let y=1;y<arguments.length;y++){const R=arguments[y];if(l(R)){const M=c.length||0,F=R.length||0;c.length=M+F;for(let G=0;G<F;G++)c[M+G]=R[G]}else c.push(R)}}class T{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(c){return/^[\s\xa0]*$/.test(c)}function E(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function O(c){return O[" "](c),c}O[" "]=function(){};var x=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function N(c,p,y){for(const R in c)p.call(y,c[R],R,c)}function b(c,p){for(const y in c)p.call(void 0,c[y],y,c)}function S(c){const p={};for(const y in c)p[y]=c[y];return p}const m="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,p){let y,R;for(let M=1;M<arguments.length;M++){R=arguments[M];for(y in R)c[y]=R[y];for(let F=0;F<m.length;F++)y=m[F],Object.prototype.hasOwnProperty.call(R,y)&&(c[y]=R[y])}}function C(c){var p=1;c=c.split(":");const y=[];for(;0<p&&c.length;)y.push(c.shift()),p--;return c.length&&y.push(c.join(":")),y}function D(c){a.setTimeout(()=>{throw c},0)}function k(){var c=se;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Ee{constructor(){this.h=this.g=null}add(p,y){const R=fe.get();R.set(p,y),this.h?this.h.next=R:this.g=R,this.h=R}}var fe=new T(()=>new Ot,c=>c.reset());class Ot{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,Y=!1,se=new Ee,oe=()=>{const c=a.Promise.resolve(void 0);rt=()=>{c.then(pe)}};var pe=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(y){D(y)}var p=fe;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}Y=!1};function xe(){this.s=this.s,this.C=this.C}xe.prototype.s=!1,xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ye(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}Ye.prototype.h=function(){this.defaultPrevented=!0};var wr=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return c}();function Er(c,p){if(Ye.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(x){e:{try{O(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else y=="mouseover"?p=c.fromElement:y=="mouseout"&&(p=c.toElement);this.relatedTarget=p,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Sr[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Er.aa.h.call(this)}}_(Er,Ye);var Sr={2:"touch",3:"pen",4:"mouse"};Er.prototype.h=function(){Er.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ir="closure_listenable_"+(1e6*Math.random()|0),Nh=0;function Eo(c,p,y,R,M){this.listener=c,this.proxy=null,this.src=p,this.type=y,this.capture=!!R,this.ha=M,this.key=++Nh,this.da=this.fa=!1}function $n(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ve(c){this.src=c,this.g={},this.h=0}Ve.prototype.add=function(c,p,y,R,M){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var G=mn(c,p,R,M);return-1<G?(p=c[G],y||(p.fa=!1)):(p=new Eo(p,this.src,F,!!R,M),p.fa=y,c.push(p)),p};function Rt(c,p){var y=p.type;if(y in c.g){var R=c.g[y],M=Array.prototype.indexOf.call(R,p,void 0),F;(F=0<=M)&&Array.prototype.splice.call(R,M,1),F&&($n(p),c.g[y].length==0&&(delete c.g[y],c.h--))}}function mn(c,p,y,R){for(var M=0;M<c.length;++M){var F=c[M];if(!F.da&&F.listener==p&&F.capture==!!y&&F.ha==R)return M}return-1}var ds="closure_lm_"+(1e6*Math.random()|0),$r={};function wi(c,p,y,R,M){if(Array.isArray(p)){for(var F=0;F<p.length;F++)wi(c,p[F],y,R,M);return null}return y=rI(y),c&&c[Ir]?c.K(p,y,u(R)?!!R.capture:!!R,M):Tr(c,p,y,!1,R,M)}function Tr(c,p,y,R,M,F){if(!p)throw Error("Invalid event type");var G=u(M)?!!M.capture:!!M,Fe=cy(c);if(Fe||(c[ds]=Fe=new Ve(c)),y=Fe.add(p,y,R,G,F),y.proxy)return y;if(R=Ei(),y.proxy=R,R.src=c,R.listener=y,c.addEventListener)wr||(M=G),M===void 0&&(M=!1),c.addEventListener(p.toString(),R,M);else if(c.attachEvent)c.attachEvent(nI(p.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ei(){function c(y){return p.call(c.src,c.listener,y)}const p=Y2;return c}function xa(c,p,y,R,M){if(Array.isArray(p))for(var F=0;F<p.length;F++)xa(c,p[F],y,R,M);else R=u(R)?!!R.capture:!!R,y=rI(y),c&&c[Ir]?(c=c.i,p=String(p).toString(),p in c.g&&(F=c.g[p],y=mn(F,y,R,M),-1<y&&($n(F[y]),Array.prototype.splice.call(F,y,1),F.length==0&&(delete c.g[p],c.h--)))):c&&(c=cy(c))&&(p=c.g[p.toString()],c=-1,p&&(c=mn(p,y,R,M)),(y=-1<c?p[c]:null)&&uy(y))}function uy(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ir])Rt(p.i,c);else{var y=c.type,R=c.proxy;p.removeEventListener?p.removeEventListener(y,R,c.capture):p.detachEvent?p.detachEvent(nI(y),R):p.addListener&&p.removeListener&&p.removeListener(R),(y=cy(p))?(Rt(y,c),y.h==0&&(y.src=null,p[ds]=null)):$n(c)}}}function nI(c){return c in $r?$r[c]:$r[c]="on"+c}function Y2(c,p){if(c.da)c=!0;else{p=new Er(p,this);var y=c.listener,R=c.ha||c.src;c.fa&&uy(c),c=y.call(R,p)}return c}function cy(c){return c=c[ds],c instanceof Ve?c:null}var dy="__closure_events_fn_"+(1e9*Math.random()>>>0);function rI(c){return typeof c=="function"?c:(c[dy]||(c[dy]=function(p){return c.handleEvent(p)}),c[dy])}function en(){xe.call(this),this.i=new Ve(this),this.M=this,this.F=null}_(en,xe),en.prototype[Ir]=!0,en.prototype.removeEventListener=function(c,p,y,R){xa(this,c,p,y,R)};function gn(c,p){var y,R=c.F;if(R)for(y=[];R;R=R.F)y.push(R);if(c=c.M,R=p.type||p,typeof p=="string")p=new Ye(p,c);else if(p instanceof Ye)p.target=p.target||c;else{var M=p;p=new Ye(R,c),A(p,M)}if(M=!0,y)for(var F=y.length-1;0<=F;F--){var G=p.g=y[F];M=Mh(G,R,!0,p)&&M}if(G=p.g=c,M=Mh(G,R,!0,p)&&M,M=Mh(G,R,!1,p)&&M,y)for(F=0;F<y.length;F++)G=p.g=y[F],M=Mh(G,R,!1,p)&&M}en.prototype.N=function(){if(en.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var y=c.g[p],R=0;R<y.length;R++)$n(y[R]);delete c.g[p],c.h--}}this.F=null},en.prototype.K=function(c,p,y,R){return this.i.add(String(c),p,!1,y,R)},en.prototype.L=function(c,p,y,R){return this.i.add(String(c),p,!0,y,R)};function Mh(c,p,y,R){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,F=0;F<p.length;++F){var G=p[F];if(G&&!G.da&&G.capture==y){var Fe=G.listener,Ht=G.ha||G.src;G.fa&&Rt(c.i,G),M=Fe.call(Ht,R)!==!1&&M}}return M&&!R.defaultPrevented}function iI(c,p,y){if(typeof c=="function")y&&(c=f(c,y));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function sI(c){c.g=iI(()=>{c.g=null,c.i&&(c.i=!1,sI(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Q2 extends xe{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:sI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xu(c){xe.call(this),this.h=c,this.g={}}_(xu,xe);var oI=[];function aI(c){N(c.g,function(p,y){this.g.hasOwnProperty(y)&&uy(p)},c),c.g={}}xu.prototype.N=function(){xu.aa.N.call(this),aI(this)},xu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hy=a.JSON.stringify,J2=a.JSON.parse,X2=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function fy(){}fy.prototype.h=null;function lI(c){return c.h||(c.h=c.i())}function uI(){}var Ou={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function py(){Ye.call(this,"d")}_(py,Ye);function my(){Ye.call(this,"c")}_(my,Ye);var So={},cI=null;function Lh(){return cI=cI||new en}So.La="serverreachability";function dI(c){Ye.call(this,So.La,c)}_(dI,Ye);function Du(c){const p=Lh();gn(p,new dI(p))}So.STAT_EVENT="statevent";function hI(c,p){Ye.call(this,So.STAT_EVENT,c),this.stat=p}_(hI,Ye);function yn(c){const p=Lh();gn(p,new hI(p,c))}So.Ma="timingevent";function fI(c,p){Ye.call(this,So.Ma,c),this.size=p}_(fI,Ye);function Nu(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function Mu(){this.g=!0}Mu.prototype.xa=function(){this.g=!1};function Z2(c,p,y,R,M,F){c.info(function(){if(c.g)if(F)for(var G="",Fe=F.split("&"),Ht=0;Ht<Fe.length;Ht++){var be=Fe[Ht].split("=");if(1<be.length){var tn=be[0];be=be[1];var nn=tn.split("_");G=2<=nn.length&&nn[1]=="type"?G+(tn+"="+be+"&"):G+(tn+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+R+") [attempt "+M+"]: "+p+`
`+y+`
`+G})}function eM(c,p,y,R,M,F,G){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+M+"]: "+p+`
`+y+`
`+F+" "+G})}function Oa(c,p,y,R){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+nM(c,y)+(R?" "+R:"")})}function tM(c,p){c.info(function(){return"TIMEOUT: "+p})}Mu.prototype.info=function(){};function nM(c,p){if(!c.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var R=y[c];if(!(2>R.length)){var M=R[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<M.length;G++)M[G]=""}}}}return hy(y)}catch{return p}}var Vh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gy;function Fh(){}_(Fh,fy),Fh.prototype.g=function(){return new XMLHttpRequest},Fh.prototype.i=function(){return{}},gy=new Fh;function hs(c,p,y,R){this.j=c,this.i=p,this.l=y,this.R=R||1,this.U=new xu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mI}function mI(){this.i=null,this.g="",this.h=!1}var gI={},yy={};function _y(c,p,y){c.L=1,c.v=$h(Si(p)),c.m=y,c.P=!0,yI(c,null)}function yI(c,p){c.F=Date.now(),Uh(c),c.A=Si(c.v);var y=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),xI(y.i,"t",R),c.C=0,y=c.j.J,c.h=new mI,c.g=YI(c.j,y?p:null,!c.m),0<c.O&&(c.M=new Q2(f(c.Y,c,c.g),c.O)),p=c.U,y=c.g,R=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(oI[0]=M.toString()),M=oI);for(var F=0;F<M.length;F++){var G=wi(y,M[F],R||p.handleEvent,!1,p.h||p);if(!G)break;p.g[G.key]=G}p=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Du(),Z2(c.i,c.u,c.A,c.l,c.R,c.m)}hs.prototype.ca=function(c){c=c.target;const p=this.M;p&&Ii(c)==3?p.j():this.Y(c)},hs.prototype.Y=function(c){try{if(c==this.g)e:{const nn=Ii(this.g);var p=this.g.Ba();const Ma=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||FI(this.g)))){this.J||nn!=4||p==7||(p==8||0>=Ma?Du(3):Du(2)),vy(this);var y=this.g.Z();this.X=y;t:if(_I(this)){var R=FI(this.g);c="";var M=R.length,F=Ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Io(this),Lu(this);var G="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,c+=this.h.i.decode(R[p],{stream:!(F&&p==M-1)});R.length=0,this.h.g+=c,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=y==200,eM(this.i,this.u,this.A,this.l,this.R,nn,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Ht=this.g;if((Fe=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Fe)){var be=Fe;break t}}be=null}if(y=be)Oa(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wy(this,y);else{this.o=!1,this.s=3,yn(12),Io(this),Lu(this);break e}}if(this.P){y=!0;let br;for(;!this.J&&this.C<G.length;)if(br=rM(this,G),br==yy){nn==4&&(this.s=4,yn(14),y=!1),Oa(this.i,this.l,null,"[Incomplete Response]");break}else if(br==gI){this.s=4,yn(15),Oa(this.i,this.l,G,"[Invalid Chunk]"),y=!1;break}else Oa(this.i,this.l,br,null),wy(this,br);if(_I(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||G.length!=0||this.h.h||(this.s=1,yn(16),y=!1),this.o=this.o&&y,!y)Oa(this.i,this.l,G,"[Invalid Chunked Response]"),Io(this),Lu(this);else if(0<G.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Ry(tn),tn.M=!0,yn(11))}}else Oa(this.i,this.l,G,null),wy(this,G);nn==4&&Io(this),this.o&&!this.J&&(nn==4?qI(this.j,this):(this.o=!1,Uh(this)))}else wM(this.g),y==400&&0<G.indexOf("Unknown SID")?(this.s=3,yn(12)):(this.s=0,yn(13)),Io(this),Lu(this)}}}catch{}finally{}};function _I(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function rM(c,p){var y=c.C,R=p.indexOf(`
`,y);return R==-1?yy:(y=Number(p.substring(y,R)),isNaN(y)?gI:(R+=1,R+y>p.length?yy:(p=p.slice(R,R+y),c.C=R+y,p)))}hs.prototype.cancel=function(){this.J=!0,Io(this)};function Uh(c){c.S=Date.now()+c.I,vI(c,c.I)}function vI(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Nu(f(c.ba,c),p)}function vy(c){c.B&&(a.clearTimeout(c.B),c.B=null)}hs.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(tM(this.i,this.A),this.L!=2&&(Du(),yn(17)),Io(this),this.s=2,Lu(this)):vI(this,this.S-c)};function Lu(c){c.j.G==0||c.J||qI(c.j,c)}function Io(c){vy(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,aI(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function wy(c,p){try{var y=c.j;if(y.G!=0&&(y.g==c||Ey(y.h,c))){if(!c.K&&Ey(y.h,c)&&y.G==3){try{var R=y.Da.g.parse(p)}catch{R=null}if(Array.isArray(R)&&R.length==3){var M=R;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)Kh(y),Hh(y);else break e;by(y),yn(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=Nu(f(y.Za,y),6e3));if(1>=SI(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else bo(y,11)}else if((c.K||y.g==c)&&Kh(y),!w(p))for(M=y.Da.g.parse(p),p=0;p<M.length;p++){let be=M[p];if(y.T=be[0],be=be[1],y.G==2)if(be[0]=="c"){y.K=be[1],y.ia=be[2];const tn=be[3];tn!=null&&(y.la=tn,y.j.info("VER="+y.la));const nn=be[4];nn!=null&&(y.Aa=nn,y.j.info("SVER="+y.Aa));const Ma=be[5];Ma!=null&&typeof Ma=="number"&&0<Ma&&(R=1.5*Ma,y.L=R,y.j.info("backChannelRequestTimeoutMs_="+R)),R=y;const br=c.g;if(br){const Qh=br.g?br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qh){var F=R.h;F.g||Qh.indexOf("spdy")==-1&&Qh.indexOf("quic")==-1&&Qh.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Sy(F,F.h),F.h=null))}if(R.D){const Ay=br.g?br.g.getResponseHeader("X-HTTP-Session-Id"):null;Ay&&(R.ya=Ay,ze(R.I,R.D,Ay))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),R=y;var G=c;if(R.qa=KI(R,R.J?R.ia:null,R.W),G.K){II(R.h,G);var Fe=G,Ht=R.L;Ht&&(Fe.I=Ht),Fe.B&&(vy(Fe),Uh(Fe)),R.g=G}else zI(R);0<y.i.length&&Gh(y)}else be[0]!="stop"&&be[0]!="close"||bo(y,7);else y.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?bo(y,7):Ty(y):be[0]!="noop"&&y.l&&y.l.ta(be),y.v=0)}}Du(4)}catch{}}var iM=class{constructor(c,p){this.g=c,this.map=p}};function wI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function EI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function SI(c){return c.h?1:c.g?c.g.size:0}function Ey(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Sy(c,p){c.g?c.g.add(p):c.h=p}function II(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}wI.prototype.cancel=function(){if(this.i=TI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function TI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const y of c.g.values())p=p.concat(y.D);return p}return v(c.i)}function sM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],y=c.length,R=0;R<y;R++)p.push(c[R]);return p}p=[],y=0;for(R in c)p[y++]=c[R];return p}function oM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var y=0;y<c;y++)p.push(y);return p}p=[],y=0;for(const R in c)p[y++]=R;return p}}}function bI(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var y=oM(c),R=sM(c),M=R.length,F=0;F<M;F++)p.call(void 0,R[F],y&&y[F],c)}var RI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aM(c,p){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var R=c[y].indexOf("="),M=null;if(0<=R){var F=c[y].substring(0,R);M=c[y].substring(R+1)}else F=c[y];p(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function To(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof To){this.h=c.h,jh(this,c.j),this.o=c.o,this.g=c.g,Bh(this,c.s),this.l=c.l;var p=c.i,y=new Uu;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),AI(this,y),this.m=c.m}else c&&(p=String(c).match(RI))?(this.h=!1,jh(this,p[1]||"",!0),this.o=Vu(p[2]||""),this.g=Vu(p[3]||"",!0),Bh(this,p[4]),this.l=Vu(p[5]||"",!0),AI(this,p[6]||"",!0),this.m=Vu(p[7]||"")):(this.h=!1,this.i=new Uu(null,this.h))}To.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Fu(p,PI,!0),":");var y=this.g;return(y||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Fu(p,PI,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(Fu(y,y.charAt(0)=="/"?cM:uM,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",Fu(y,hM)),c.join("")};function Si(c){return new To(c)}function jh(c,p,y){c.j=y?Vu(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Bh(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function AI(c,p,y){p instanceof Uu?(c.i=p,fM(c.i,c.h)):(y||(p=Fu(p,dM)),c.i=new Uu(p,c.h))}function ze(c,p,y){c.i.set(p,y)}function $h(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Vu(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Fu(c,p,y){return typeof c=="string"?(c=encodeURI(c).replace(p,lM),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function lM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var PI=/[#\/\?@]/g,uM=/[#\?:]/g,cM=/[#\?]/g,dM=/[#\?@]/g,hM=/#/g;function Uu(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function fs(c){c.g||(c.g=new Map,c.h=0,c.i&&aM(c.i,function(p,y){c.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=Uu.prototype,t.add=function(c,p){fs(this),this.i=null,c=Da(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(p),this.h+=1,this};function kI(c,p){fs(c),p=Da(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function CI(c,p){return fs(c),p=Da(c,p),c.g.has(p)}t.forEach=function(c,p){fs(this),this.g.forEach(function(y,R){y.forEach(function(M){c.call(p,M,R,this)},this)},this)},t.na=function(){fs(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let R=0;R<p.length;R++){const M=c[R];for(let F=0;F<M.length;F++)y.push(p[R])}return y},t.V=function(c){fs(this);let p=[];if(typeof c=="string")CI(this,c)&&(p=p.concat(this.g.get(Da(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)p=p.concat(c[y])}return p},t.set=function(c,p){return fs(this),this.i=null,c=Da(this,c),CI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function xI(c,p,y){kI(c,p),0<y.length&&(c.i=null,c.g.set(Da(c,p),v(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var R=p[y];const F=encodeURIComponent(String(R)),G=this.V(R);for(R=0;R<G.length;R++){var M=F;G[R]!==""&&(M+="="+encodeURIComponent(String(G[R]))),c.push(M)}}return this.i=c.join("&")};function Da(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function fM(c,p){p&&!c.j&&(fs(c),c.i=null,c.g.forEach(function(y,R){var M=R.toLowerCase();R!=M&&(kI(this,R),xI(this,M,y))},c)),c.j=p}function pM(c,p){const y=new Mu;if(a.Image){const R=new Image;R.onload=g(ps,y,"TestLoadImage: loaded",!0,p,R),R.onerror=g(ps,y,"TestLoadImage: error",!1,p,R),R.onabort=g(ps,y,"TestLoadImage: abort",!1,p,R),R.ontimeout=g(ps,y,"TestLoadImage: timeout",!1,p,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else p(!1)}function mM(c,p){const y=new Mu,R=new AbortController,M=setTimeout(()=>{R.abort(),ps(y,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:R.signal}).then(F=>{clearTimeout(M),F.ok?ps(y,"TestPingServer: ok",!0,p):ps(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),ps(y,"TestPingServer: error",!1,p)})}function ps(c,p,y,R,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),R(y)}catch{}}function gM(){this.g=new X2}function yM(c,p,y){const R=y||"";try{bI(c,function(M,F){let G=M;u(M)&&(G=hy(M)),p.push(R+F+"="+encodeURIComponent(G))})}catch(M){throw p.push(R+"type="+encodeURIComponent("_badmap")),M}}function zh(c){this.l=c.Ub||null,this.j=c.eb||!1}_(zh,fy),zh.prototype.g=function(){return new Wh(this.l,this.j)},zh.prototype.i=function(c){return function(){return c}}({});function Wh(c,p){en.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Wh,en),t=Wh.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Bu(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ju(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Bu(this)),this.g&&(this.readyState=3,Bu(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;OI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function OI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ju(this):Bu(this),this.readyState==3&&OI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ju(this))},t.Qa=function(c){this.g&&(this.response=c,ju(this))},t.ga=function(){this.g&&ju(this)};function ju(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Bu(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=p.next();return c.join(`\r
`)};function Bu(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Wh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function DI(c){let p="";return N(c,function(y,R){p+=R,p+=":",p+=y,p+=`\r
`}),p}function Iy(c,p,y){e:{for(R in y){var R=!1;break e}R=!0}R||(y=DI(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):ze(c,p,y))}function dt(c){en.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(dt,en);var _M=/^https?$/i,vM=["POST","PUT"];t=dt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,y,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gy.g(),this.v=this.o?lI(this.o):lI(gy),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){NI(this,F);return}if(c=y||"",y=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var M in R)y.set(M,R[M]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const F of R.keys())y.set(F,R.get(F));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(y.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(vM,p,void 0))||R||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of y)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{VI(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){NI(this,F)}};function NI(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,MI(c),qh(c)}function MI(c){c.A||(c.A=!0,gn(c,"complete"),gn(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,gn(this,"complete"),gn(this,"abort"),qh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qh(this,!0)),dt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?LI(this):this.bb())},t.bb=function(){LI(this)};function LI(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Ii(c)!=4||c.Z()!=2)){if(c.u&&Ii(c)==4)iI(c.Ea,0,c);else if(gn(c,"readystatechange"),Ii(c)==4){c.h=!1;try{const G=c.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var R;if(R=G===0){var M=String(c.D).match(RI)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),R=!_M.test(M?M.toLowerCase():"")}y=R}if(y)gn(c,"complete"),gn(c,"success");else{c.m=6;try{var F=2<Ii(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",MI(c)}}finally{qh(c)}}}}function qh(c,p){if(c.g){VI(c);const y=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||gn(c,"ready");try{y.onreadystatechange=R}catch{}}}function VI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Ii(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Ii(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),J2(p)}};function FI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wM(c){const p={};c=(c.g&&2<=Ii(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(w(c[R]))continue;var y=C(c[R]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const F=p[M]||[];p[M]=F,F.push(y)}b(p,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $u(c,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||p}function UI(c){this.Aa=0,this.i=[],this.j=new Mu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$u("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$u("baseRetryDelayMs",5e3,c),this.cb=$u("retryDelaySeedMs",1e4,c),this.Wa=$u("forwardChannelMaxRetries",2,c),this.wa=$u("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wI(c&&c.concurrentRequestLimit),this.Da=new gM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=UI.prototype,t.la=8,t.G=1,t.connect=function(c,p,y,R){yn(0),this.W=c,this.H=p||{},y&&R!==void 0&&(this.H.OSID=y,this.H.OAID=R),this.F=this.X,this.I=KI(this,null,this.W),Gh(this)};function Ty(c){if(jI(c),c.G==3){var p=c.U++,y=Si(c.I);if(ze(y,"SID",c.K),ze(y,"RID",p),ze(y,"TYPE","terminate"),zu(c,y),p=new hs(c,c.j,p),p.L=2,p.v=$h(Si(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.v,y=!0),y||(p.g=YI(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Uh(p)}GI(c)}function Hh(c){c.g&&(Ry(c),c.g.cancel(),c.g=null)}function jI(c){Hh(c),c.u&&(a.clearTimeout(c.u),c.u=null),Kh(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Gh(c){if(!EI(c.h)&&!c.s){c.s=!0;var p=c.Ga;rt||oe(),Y||(rt(),Y=!0),se.add(p,c),c.B=0}}function EM(c,p){return SI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Nu(f(c.Ga,c,p),HI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new hs(this,this.j,c);let F=this.o;if(this.S&&(F?(F=S(F),A(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var R=this.i[y];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(p+=R,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=$I(this,M,p),y=Si(this.I),ze(y,"RID",c),ze(y,"CVER",22),this.D&&ze(y,"X-HTTP-Session-Id",this.D),zu(this,y),F&&(this.O?p="headers="+encodeURIComponent(String(DI(F)))+"&"+p:this.m&&Iy(y,this.m,F)),Sy(this.h,M),this.Ua&&ze(y,"TYPE","init"),this.P?(ze(y,"$req",p),ze(y,"SID","null"),M.T=!0,_y(M,y,null)):_y(M,y,p),this.G=2}}else this.G==3&&(c?BI(this,c):this.i.length==0||EI(this.h)||BI(this))};function BI(c,p){var y;p?y=p.l:y=c.U++;const R=Si(c.I);ze(R,"SID",c.K),ze(R,"RID",y),ze(R,"AID",c.T),zu(c,R),c.m&&c.o&&Iy(R,c.m,c.o),y=new hs(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),p&&(c.i=p.D.concat(c.i)),p=$I(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sy(c.h,y),_y(y,R,p)}function zu(c,p){c.H&&N(c.H,function(y,R){ze(p,R,y)}),c.l&&bI({},function(y,R){ze(p,R,y)})}function $I(c,p,y){y=Math.min(c.i.length,y);var R=c.l?f(c.l.Na,c.l,c):null;e:{var M=c.i;let F=-1;for(;;){const G=["count="+y];F==-1?0<y?(F=M[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let Fe=!0;for(let Ht=0;Ht<y;Ht++){let be=M[Ht].g;const tn=M[Ht].map;if(be-=F,0>be)F=Math.max(0,M[Ht].g-100),Fe=!1;else try{yM(tn,G,"req"+be+"_")}catch{R&&R(tn)}}if(Fe){R=G.join("&");break e}}}return c=c.i.splice(0,y),p.D=c,R}function zI(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;rt||oe(),Y||(rt(),Y=!0),se.add(p,c),c.v=0}}function by(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Nu(f(c.Fa,c),HI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,WI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Nu(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yn(10),Hh(this),WI(this))};function Ry(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function WI(c){c.g=new hs(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Si(c.qa);ze(p,"RID","rpc"),ze(p,"SID",c.K),ze(p,"AID",c.T),ze(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(p,"TO",c.ja),ze(p,"TYPE","xmlhttp"),zu(c,p),c.m&&c.o&&Iy(p,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=$h(Si(p)),y.m=null,y.P=!0,yI(y,c)}t.Za=function(){this.C!=null&&(this.C=null,Hh(this),by(this),yn(19))};function Kh(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function qI(c,p){var y=null;if(c.g==p){Kh(c),Ry(c),c.g=null;var R=2}else if(Ey(c.h,p))y=p.D,II(c.h,p),R=1;else return;if(c.G!=0){if(p.o)if(R==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var M=c.B;R=Lh(),gn(R,new fI(R,y)),Gh(c)}else zI(c);else if(M=p.s,M==3||M==0&&0<p.X||!(R==1&&EM(c,p)||R==2&&by(c)))switch(y&&0<y.length&&(p=c.h,p.i=p.i.concat(y)),M){case 1:bo(c,5);break;case 4:bo(c,10);break;case 3:bo(c,6);break;default:bo(c,2)}}}function HI(c,p){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*p}function bo(c,p){if(c.j.info("Error code "+p),p==2){var y=f(c.fb,c),R=c.Xa;const M=!R;R=new To(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||jh(R,"https"),$h(R),M?pM(R.toString(),y):mM(R.toString(),y)}else yn(2);c.G=0,c.l&&c.l.sa(p),GI(c),jI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))};function GI(c){if(c.G=0,c.ka=[],c.l){const p=TI(c.h);(p.length!=0||c.i.length!=0)&&(I(c.ka,p),I(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function KI(c,p,y){var R=y instanceof To?Si(y):new To(y);if(R.g!="")p&&(R.g=p+"."+R.g),Bh(R,R.s);else{var M=a.location;R=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var F=new To(null);R&&jh(F,R),p&&(F.g=p),M&&Bh(F,M),y&&(F.l=y),R=F}return y=c.D,p=c.ya,y&&p&&ze(R,y,p),ze(R,"VER",c.la),zu(c,R),R}function YI(c,p,y){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new dt(new zh({eb:y})):new dt(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function QI(){}t=QI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Yh(){}Yh.prototype.g=function(c,p){return new zn(c,p)};function zn(c,p){en.call(this),this.g=new UI(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!w(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Na(this)}_(zn,en),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){Ty(this.g)},zn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=hy(c),c=y);p.i.push(new iM(p.Ya++,c)),p.G==3&&Gh(p)},zn.prototype.N=function(){this.g.l=null,delete this.j,Ty(this.g),delete this.g,zn.aa.N.call(this)};function JI(c){py.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const y in p){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}_(JI,py);function XI(){my.call(this),this.status=1}_(XI,my);function Na(c){this.g=c}_(Na,QI),Na.prototype.ua=function(){gn(this.g,"a")},Na.prototype.ta=function(c){gn(this.g,new JI(c))},Na.prototype.sa=function(c){gn(this.g,new XI)},Na.prototype.ra=function(){gn(this.g,"b")},Yh.prototype.createWebChannel=Yh.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,wO=function(){return new Yh},vO=function(){return Lh()},_O=So,Zv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vh.NO_ERROR=0,Vh.TIMEOUT=8,Vh.HTTP_ERROR=6,np=Vh,pI.COMPLETE="complete",yO=pI,uI.EventType=Ou,Ou.OPEN="a",Ou.CLOSE="b",Ou.ERROR="c",Ou.MESSAGE="d",en.prototype.listen=en.prototype.K,Ic=uI,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,gO=dt}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});const Mb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $t=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new mg("@firebase/firestore");function Ya(){return to.logLevel}function B8(t){to.setLogLevel(t)}function z(t,...e){if(to.logLevel<=me.DEBUG){const n=e.map(kE);to.debug(`Firestore (${wu}): ${t}`,...n)}}function St(t,...e){if(to.logLevel<=me.ERROR){const n=e.map(kE);to.error(`Firestore (${wu}): ${t}`,...n)}}function pi(t,...e){if(to.logLevel<=me.WARN){const n=e.map(kE);to.warn(`Firestore (${wu}): ${t}`,...n)}}function kE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t="Unexpected state"){const e=`FIRESTORE (${wu}) INTERNAL ASSERTION FAILED: `+t;throw St(e),new Error(e)}function te(t,e){t||X()}function $8(t,e){t||X()}function Q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends In{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class W8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class q8{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){te(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Xt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(te(typeof r.accessToken=="string"),new EO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return te(e===null||typeof e=="string"),new $t(e)}}class H8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class G8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new H8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){te(this.o===void 0);const r=s=>{s.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(te(typeof n.token=="string"),this.R=n.token,new K8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Q8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function Hl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function IO(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new nt(0,0))}static max(){return new ne(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ye extends Pd{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const J8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class et extends Pd{construct(e,n,r){return new et(e,n,r)}static isValidIdentifier(e){return J8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new et(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new et(n)}static emptyPath(){return new et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(ye.fromString(e))}static fromName(e){return new K(ye.fromString(e).popFirst(5))}static empty(){return new K(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new ye(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function e0(t){return t.fields.find(e=>e.kind===2)}function Do(t){return t.fields.filter(e=>e.kind!==2)}um.UNKNOWN_ID=-1;class rp{constructor(e,n){this.fieldPath=e,this.kind=n}}class kd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new kd(0,nr.min())}}function TO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new nr(i,K.empty(),e)}function bO(t){return new nr(t.readTime,t.key,-1)}class nr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new nr(ne.min(),K.empty(),-1)}static max(){return new nr(ne.max(),K.empty(),-1)}}function CE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==RO)throw t;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new L((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Xt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new zc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=xE(r.target.error);this.V.reject(new zc(e,i))}}static open(e,n,r,i){try{return new Pg(n,e.transaction(i,r))}catch(s){throw new zc(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(z("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Z8(n)}}class ci{constructor(e,n,r){this.name=e,this.version=n,this.p=r,ci.S(ct())===12.2&&St("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return z("SimpleDb","Removing database:",e),Mo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ed())return!1;if(ci.v())return!0;const e=ct(),n=ci.S(e),r=0<n&&n<10,i=PO(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(z("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new zc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new $(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new $(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new zc(e,o))},i.onupgradeneeded=s=>{z("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{z("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=Pg.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),L.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(z("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function PO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class X8{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Mo(this.B.delete())}}class zc extends ${constructor(e,n){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function _o(t){return t.name==="IndexedDbTransactionError"}class Z8{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(z("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(z("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Mo(r)}add(e){return z("SimpleDb","ADD",this.store.name,e,e),Mo(this.store.add(e))}get(e){return Mo(this.store.get(e)).next(n=>(n===void 0&&(n=null),z("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return z("SimpleDb","DELETE",this.store.name,e),Mo(this.store.delete(e))}count(){return z("SimpleDb","COUNT",this.store.name),Mo(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new L((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new L((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){z("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new L((r,i)=>{n.onerror=s=>{const o=xE(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new L((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new X8(a),u=n(a.primaryKey,a.value,l);if(u instanceof L){const d=u.catch(h=>(l.done(),L.reject(h)));r.push(d)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>L.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Mo(t){return new L((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=xE(r.target.error);n(i)}})}let Lb=!1;function xE(t){const e=ci.S(ct());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new $("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Lb||(Lb=!0,setTimeout(()=>{throw r},0)),r}}return t}class eq{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){z("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{z("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){_o(n)?z("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await yo(n)}await this.X(6e4)})}}class tq{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return L.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return z("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(z("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=bO(s);CE(o,r)>0&&(r=o)}),new nr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Nn.oe=-1;function yh(t){return t==null}function Cd(t){return t===0&&1/t==-1/0}function kO(t){return typeof t=="number"&&Number.isInteger(t)&&!Cd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Vb(e)),e=nq(t.get(n),e);return Vb(e)}function nq(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Vb(t){return t+""}function si(t){const e=t.length;if(te(e>=2),e===2)return te(t.charAt(0)===""&&t.charAt(1)===""),ye.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&X(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:X()}s=o+2}return new ye(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(t,e){return[t,Tn(e)]}function CO(t,e,n){return[t,Tn(e),n]}const rq={},iq=["prefixPath","collectionGroup","readTime","documentId"],sq=["prefixPath","collectionGroup","documentId"],oq=["collectionGroup","readTime","prefixPath","documentId"],aq=["canonicalId","targetId"],lq=["targetId","path"],uq=["path","targetId"],cq=["collectionId","parent"],dq=["indexId","uid"],hq=["uid","sequenceNumber"],fq=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pq=["indexId","uid","orderedDocumentKey"],mq=["userId","collectionPath","documentId"],gq=["userId","collectionPath","largestBatchId"],yq=["userId","collectionGroup","largestBatchId"],xO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_q=[...xO,"documentOverlays"],OO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],DO=OO,OE=[...DO,"indexConfiguration","indexState","indexEntries"],vq=OE,wq=[...OE,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0 extends AO{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Vt(t,e){const n=Q(t);return ci.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ta(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new $e(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bf(this.root,e,this.comparator,!1)}getReverseIterator(){return new bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bf(this.root,e,this.comparator,!0)}}class bf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=i??Kt.EMPTY,this.right=s??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Kt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jb(this.data.getIterator())}getIteratorFrom(e){return new jb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Me(this.comparator);return n.data=e,n}}class jb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function za(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(et.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new Me(et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eq(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new MO("Invalid base64 string: "+s):s}}(e);return new yt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const Sq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(t){if(te(!!t),typeof t=="string"){let e=0;const n=Sq.exec(t);if(te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function no(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function DE(t){const e=t.mapValue.fields.__previous_value__;return kg(e)?DE(e):e}function xd(t){const e=Zi(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ro{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ro("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ro&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},sp={nullValue:"NULL_VALUE"};function ua(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kg(t)?4:LO(t)?9007199254740991:Cg(t)?10:11:X()}function mi(t,e){if(t===e)return!0;const n=ua(t);if(n!==ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xd(t).isEqual(xd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Zi(i.timestampValue),a=Zi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return no(i.bytesValue).isEqual(no(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Xe(i.geoPointValue.latitude)===Xe(s.geoPointValue.latitude)&&Xe(i.geoPointValue.longitude)===Xe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Xe(i.integerValue)===Xe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Xe(i.doubleValue),a=Xe(s.doubleValue);return o===a?Cd(o)===Cd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Hl(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Ub(o)!==Ub(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!mi(o[l],a[l])))return!1;return!0}(t,e);default:return X()}}function Od(t,e){return(t.values||[]).find(n=>mi(n,e))!==void 0}function io(t,e){if(t===e)return 0;const n=ua(t),r=ua(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Xe(s.integerValue||s.doubleValue),l=Xe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Bb(t.timestampValue,e.timestampValue);case 4:return Bb(xd(t),xd(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(s,o){const a=no(s),l=no(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=ae(a[u],l[u]);if(d!==0)return d}return ae(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ae(Xe(s.latitude),Xe(o.latitude));return a!==0?a:ae(Xe(s.longitude),Xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $b(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,_=(l=f.value)===null||l===void 0?void 0:l.arrayValue,v=ae(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:$b(g,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===xs.mapValue&&o===xs.mapValue)return 0;if(s===xs.mapValue)return 1;if(o===xs.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=ae(l[h],d[h]);if(f!==0)return f;const g=io(a[l[h]],u[d[h]]);if(g!==0)return g}return ae(l.length,d.length)}(t.mapValue,e.mapValue);default:throw X()}}function Bb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=Zi(t),r=Zi(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function $b(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=io(n[i],r[i]);if(s)return s}return ae(n.length,r.length)}function Gl(t){return n0(t)}function n0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return no(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=n0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${n0(n.fields[o])}`;return i+"}"}(t.mapValue):X()}function ca(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function r0(t){return!!t&&"integerValue"in t}function Dd(t){return!!t&&"arrayValue"in t}function zb(t){return!!t&&"nullValue"in t}function Wb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function op(t){return!!t&&"mapValue"in t}function Cg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Wc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ta(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const VO={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Tq(t){return"nullValue"in t?sp:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ca(ro.empty(),K.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Cg(t)?VO:{mapValue:{}}:X()}function bq(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ca(ro.empty(),K.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?VO:"mapValue"in t?Cg(t)?{mapValue:{}}:xs:X()}function qb(t,e){const n=io(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Hb(t,e){const n=io(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.value=e}static empty(){return new Qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!op(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wc(n)}setAll(e){let n=et.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Wc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());op(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];op(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ta(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Qt(Wc(this.value))}}function FO(t){const e=[];return Ta(t.fields,(n,r)=>{const i=new et([n]);if(op(r)){const s=FO(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new qe(e,0,ne.min(),ne.min(),ne.min(),Qt.empty(),0)}static newFoundDocument(e,n,r,i){return new qe(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new qe(e,2,n,ne.min(),ne.min(),Qt.empty(),0)}static newUnknownDocument(e,n){return new qe(e,3,n,ne.min(),ne.min(),Qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){this.position=e,this.inclusive=n}}function Gb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=io(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Rq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{}class _e extends UO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Aq(e,n,r):n==="array-contains"?new Cq(e,r):n==="in"?new qO(e,r):n==="not-in"?new xq(e,r):n==="array-contains-any"?new Oq(e,r):new _e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Pq(e,r):new kq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(io(n,this.value)):n!==null&&ua(this.value)===ua(n)&&this.matchesComparison(io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class De extends UO{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new De(e,n)}matches(e){return Kl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Kl(t){return t.op==="and"}function i0(t){return t.op==="or"}function NE(t){return jO(t)&&Kl(t)}function jO(t){for(const e of t.filters)if(e instanceof De)return!1;return!0}function s0(t){if(t instanceof _e)return t.field.canonicalString()+t.op.toString()+Gl(t.value);if(NE(t))return t.filters.map(e=>s0(e)).join(",");{const e=t.filters.map(n=>s0(n)).join(",");return`${t.op}(${e})`}}function BO(t,e){return t instanceof _e?function(r,i){return i instanceof _e&&r.op===i.op&&r.field.isEqual(i.field)&&mi(r.value,i.value)}(t,e):t instanceof De?function(r,i){return i instanceof De&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&BO(o,i.filters[a]),!0):!1}(t,e):void X()}function $O(t,e){const n=t.filters.concat(e);return De.create(n,t.op)}function zO(t){return t instanceof _e?function(n){return`${n.field.canonicalString()} ${n.op} ${Gl(n.value)}`}(t):t instanceof De?function(n){return n.op.toString()+" {"+n.getFilters().map(zO).join(" ,")+"}"}(t):"Filter"}class Aq extends _e{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class Pq extends _e{constructor(e,n){super(e,"in",n),this.keys=WO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kq extends _e{constructor(e,n){super(e,"not-in",n),this.keys=WO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class Cq extends _e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dd(n)&&Od(n.arrayValue,this.value)}}class qO extends _e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Od(this.value.arrayValue,n)}}class xq extends _e{constructor(e,n){super(e,"not-in",n)}matches(e){if(Od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Od(this.value.arrayValue,n)}}class Oq extends _e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Od(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function o0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Dq(t,e,n,r,i,s,o)}function da(t){const e=Q(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>s0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gl(r)).join(",")),e.ue=n}return e.ue}function _h(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Rq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kb(t.startAt,e.startAt)&&Kb(t.endAt,e.endAt)}function cm(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function dm(t,e){return t.filters.filter(n=>n instanceof _e&&n.field.isEqual(e))}function Yb(t,e,n){let r=sp,i=!0;for(const s of dm(t,e)){let o=sp,a=!0;switch(s.op){case"<":case"<=":o=Tq(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=sp}qb({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];qb({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function Qb(t,e,n){let r=xs,i=!0;for(const s of dm(t,e)){let o=xs,a=!0;switch(s.op){case">=":case">":o=bq(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=xs}Hb({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Hb({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function HO(t,e,n,r,i,s,o,a){return new os(t,e,n,r,i,s,o,a)}function Eu(t){return new os(t)}function Jb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ME(t){return t.collectionGroup!==null}function Al(t){const e=Q(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Me(et.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Nd(s,r))}),n.has(et.keyField().canonicalString())||e.ce.push(new Nd(et.keyField(),r))}return e.ce}function bn(t){const e=Q(t);return e.le||(e.le=Nq(e,Al(t))),e.le}function Nq(t,e){if(t.limitType==="F")return o0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Nd(i.field,s)});const n=t.endAt?new so(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new so(t.startAt.position,t.startAt.inclusive):null;return o0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function a0(t,e){const n=t.filters.concat([e]);return new os(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hm(t,e,n){return new os(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vh(t,e){return _h(bn(t),bn(e))&&t.limitType===e.limitType}function GO(t){return`${da(bn(t))}|lt:${t.limitType}`}function Qa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>zO(i)).join(", ")}]`),yh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Gl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Gl(i)).join(",")),`Target(${r})`}(bn(t))}; limitType=${t.limitType})`}function wh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):K.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Al(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Gb(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Al(r),i)||r.endAt&&!function(o,a,l){const u=Gb(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Al(r),i))}(t,e)}function KO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YO(t){return(e,n)=>{let r=!1;for(const i of Al(t)){const s=Mq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Mq(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?io(l,u):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return NO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq=new $e(K.comparator);function Ln(){return Lq}const QO=new $e(K.comparator);function Tc(...t){let e=QO;for(const n of t)e=e.insert(n.key,n);return e}function JO(t){let e=QO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function oi(){return qc()}function XO(){return qc()}function qc(){return new vo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Vq=new $e(K.comparator),Fq=new Me(K.comparator);function ue(...t){let e=Fq;for(const n of t)e=e.add(n);return e}const Uq=new Me(ae);function LE(){return Uq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cd(e)?"-0":e}}function ZO(t){return{integerValue:""+t}}function eD(t,e){return kO(e)?ZO(e):VE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(){this._=void 0}}function jq(t,e,n){return t instanceof Yl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&kg(s)&&(s=DE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ha?nD(t,e):t instanceof fa?rD(t,e):function(i,s){const o=tD(i,s),a=Xb(o)+Xb(i.Pe);return r0(o)&&r0(i.Pe)?ZO(a):VE(i.serializer,a)}(t,e)}function Bq(t,e,n){return t instanceof ha?nD(t,e):t instanceof fa?rD(t,e):n}function tD(t,e){return t instanceof Ql?function(r){return r0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Yl extends xg{}class ha extends xg{constructor(e){super(),this.elements=e}}function nD(t,e){const n=iD(e);for(const r of t.elements)n.some(i=>mi(i,r))||n.push(r);return{arrayValue:{values:n}}}class fa extends xg{constructor(e){super(),this.elements=e}}function rD(t,e){let n=iD(e);for(const r of t.elements)n=n.filter(i=>!mi(i,r));return{arrayValue:{values:n}}}class Ql extends xg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Xb(t){return Xe(t.integerValue||t.doubleValue)}function iD(t){return Dd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.field=e,this.transform=n}}function $q(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ha&&i instanceof ha||r instanceof fa&&i instanceof fa?Hl(r.elements,i.elements,mi):r instanceof Ql&&i instanceof Ql?mi(r.Pe,i.Pe):r instanceof Yl&&i instanceof Yl}(t.transform,e.transform)}class zq{constructor(e,n){this.version=e,this.transformResults=n}}class tt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tt}static exists(e){return new tt(void 0,e)}static updateTime(e){return new tt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ap(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Og{}function sD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Iu(t.key,tt.none()):new Su(t.key,t.data,tt.none());{const n=t.data,r=Qt.empty();let i=new Me(et.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new as(t.key,r,new Mn(i.toArray()),tt.none())}}function Wq(t,e,n){t instanceof Su?function(i,s,o){const a=i.value.clone(),l=eR(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof as?function(i,s,o){if(!ap(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=eR(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(oD(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Hc(t,e,n,r){return t instanceof Su?function(s,o,a,l){if(!ap(s.precondition,o))return a;const u=s.value.clone(),d=tR(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof as?function(s,o,a,l){if(!ap(s.precondition,o))return a;const u=tR(s.fieldTransforms,l,o),d=o.data;return d.setAll(oD(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return ap(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function qq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=tD(r.transform,i||null);s!=null&&(n===null&&(n=Qt.empty()),n.set(r.field,s))}return n||null}function Zb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hl(r,i,(s,o)=>$q(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Su extends Og{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class as extends Og{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function oD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function eR(t,e,n){const r=new Map;te(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Bq(o,a,n[i]))}return r}function tR(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,jq(s,o,e))}return r}class Iu extends Og{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FE extends Og{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Wq(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=XO();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=sD(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Hl(this.mutations,e.mutations,(n,r)=>Zb(n,r))&&Hl(this.baseMutations,e.baseMutations,(n,r)=>Zb(n,r))}}class jE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){te(e.mutations.length===r.length);let i=function(){return Vq}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new jE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Se;function aD(t){switch(t){default:return X();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function lD(t){if(t===void 0)return St("GRPC error has no .code"),V.UNKNOWN;switch(t){case At.OK:return V.OK;case At.CANCELLED:return V.CANCELLED;case At.UNKNOWN:return V.UNKNOWN;case At.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case At.INTERNAL:return V.INTERNAL;case At.UNAVAILABLE:return V.UNAVAILABLE;case At.UNAUTHENTICATED:return V.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case At.NOT_FOUND:return V.NOT_FOUND;case At.ALREADY_EXISTS:return V.ALREADY_EXISTS;case At.PERMISSION_DENIED:return V.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case At.ABORTED:return V.ABORTED;case At.OUT_OF_RANGE:return V.OUT_OF_RANGE;case At.UNIMPLEMENTED:return V.UNIMPLEMENTED;case At.DATA_LOSS:return V.DATA_LOSS;default:return X()}}(Se=At||(At={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gq=new Zo([4294967295,4294967295],0);function nR(t){const e=uD().encode(t),n=new mO;return n.update(e),new Uint8Array(n.digest())}function rR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zo([n,r],0),new Zo([i,s],0)]}class $E{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bc(`Invalid padding: ${n}`);if(r<0)throw new bc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Zo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Zo.fromNumber(r)));return i.compare(Gq)===1&&(i=new Zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=nR(e),[r,i]=rR(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new $E(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=nR(e),[r,i]=rR(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ih.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sh(ne.min(),i,new $e(ae),Ln(),ue())}}class Ih{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ih(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class cD{constructor(e,n){this.targetId=e,this.me=n}}class dD{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class iR{constructor(){this.fe=0,this.ge=oR(),this.pe=yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new Ih(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=oR()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Kq{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ln(),this.qe=sR(),this.Qe=new $e(ae)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(cm(s))if(r===0){const o=new K(s.path);this.Ue(n,o,qe.newNoDocument(o,ne.min()))}else te(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=no(r).toUint8Array()}catch(l){if(l instanceof MO)return pi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new $E(o,i,s)}catch(l){return pi(l instanceof bc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&cm(a.target)){const l=new K(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,qe.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ue();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Sh(e,n,this.Qe,this.ke,r);return this.ke=Ln(),this.qe=sR(),this.Qe=new $e(ae),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new iR,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Me(ae),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new iR),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function sR(){return new $e(K.comparator)}function oR(){return new $e(K.comparator)}const Yq={asc:"ASCENDING",desc:"DESCENDING"},Qq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jq={and:"AND",or:"OR"};class Xq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function l0(t,e){return t.useProto3Json||yh(e)?e:{value:e}}function Jl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Zq(t,e){return Jl(t,e.toTimestamp())}function It(t){return te(!!t),ne.fromTimestamp(function(n){const r=Zi(n);return new nt(r.seconds,r.nanos)}(t))}function zE(t,e){return u0(t,e).canonicalString()}function u0(t,e){const n=function(i){return new ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fD(t){const e=ye.fromString(t);return te(ID(e)),e}function Md(t,e){return zE(t.databaseId,e.path)}function di(t,e){const n=fD(e);if(n.get(1)!==t.databaseId.projectId)throw new $(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(gD(n))}function pD(t,e){return zE(t.databaseId,e)}function mD(t){const e=fD(t);return e.length===4?ye.emptyPath():gD(e)}function c0(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gD(t){return te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function aR(t,e,n){return{name:Md(t,e),fields:n.value.mapValue.fields}}function yD(t,e,n){const r=di(t,e.name),i=It(e.updateTime),s=e.createTime?It(e.createTime):ne.min(),o=new Qt({mapValue:{fields:e.fields}}),a=qe.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function e7(t,e){return"found"in e?function(r,i){te(!!i.found),i.found.name,i.found.updateTime;const s=di(r,i.found.name),o=It(i.found.updateTime),a=i.found.createTime?It(i.found.createTime):ne.min(),l=new Qt({mapValue:{fields:i.found.fields}});return qe.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){te(!!i.missing),te(!!i.readTime);const s=di(r,i.missing),o=It(i.readTime);return qe.newNoDocument(s,o)}(t,e):X()}function t7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(te(d===void 0||typeof d=="string"),yt.fromBase64String(d||"")):(te(d===void 0||d instanceof Buffer||d instanceof Uint8Array),yt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?V.UNKNOWN:lD(u.code);return new $(d,u.message||"")}(o);n=new dD(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=di(t,r.document.name),s=It(r.document.updateTime),o=r.document.createTime?It(r.document.createTime):ne.min(),a=new Qt({mapValue:{fields:r.document.fields}}),l=qe.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new lp(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=di(t,r.document),s=r.readTime?It(r.readTime):ne.min(),o=qe.newNoDocument(i,s),a=r.removedTargetIds||[];n=new lp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=di(t,r.document),s=r.removedTargetIds||[];n=new lp([],s,i,null)}else{if(!("filter"in e))return X();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Hq(i,s),a=r.targetId;n=new cD(a,o)}}return n}function Ld(t,e){let n;if(e instanceof Su)n={update:aR(t,e.key,e.value)};else if(e instanceof Iu)n={delete:Md(t,e.key)};else if(e instanceof as)n={update:aR(t,e.key,e.data),updateMask:a7(e.fieldMask)};else{if(!(e instanceof FE))return X();n={verify:Md(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Yl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ha)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ql)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Zq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X()}(t,e.precondition)),n}function d0(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?tt.updateTime(It(s.updateTime)):s.exists!==void 0?tt.exists(s.exists):tt.none()}(e.currentDocument):tt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)te(a.setToServerValue==="REQUEST_TIME"),l=new Yl;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new ha(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new fa(d)}else"increment"in a?l=new Ql(o,a.increment):X();const u=et.fromServerFormat(a.fieldPath);return new Eh(u,l)}(t,i)):[];if(e.update){e.update.name;const i=di(t,e.update.name),s=new Qt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new Mn(u.map(d=>et.fromServerFormat(d)))}(e.updateMask);return new as(i,s,o,n,r)}return new Su(i,s,n,r)}if(e.delete){const i=di(t,e.delete);return new Iu(i,n)}if(e.verify){const i=di(t,e.verify);return new FE(i,n)}return X()}function n7(t,e){return t&&t.length>0?(te(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?It(i.updateTime):It(s);return o.isEqual(ne.min())&&(o=It(s)),new zq(o,i.transformResults||[])}(n,e))):[]}function _D(t,e){return{documents:[pD(t,e.path)]}}function vD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pD(t,i);const s=function(u){if(u.length!==0)return SD(De.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Ja(f.field),direction:i7(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=l0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function wD(t){let e=mD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){te(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=ED(h);return f instanceof De&&NE(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(_){return new Nd(Xa(_.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,yh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,g=h.values||[];return new so(g,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,g=h.values||[];return new so(g,f)}(n.endAt)),HO(e,i,o,s,a,"F",l,u)}function r7(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ED(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xa(n.unaryFilter.field);return _e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xa(n.unaryFilter.field);return _e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xa(n.unaryFilter.field);return _e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xa(n.unaryFilter.field);return _e.create(o,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return _e.create(Xa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return De.create(n.compositeFilter.filters.map(r=>ED(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function i7(t){return Yq[t]}function s7(t){return Qq[t]}function o7(t){return Jq[t]}function Ja(t){return{fieldPath:t.canonicalString()}}function Xa(t){return et.fromServerFormat(t.fieldPath)}function SD(t){return t instanceof _e?function(n){if(n.op==="=="){if(Wb(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(zb(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wb(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(zb(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:s7(n.op),value:n.value}}}(t):t instanceof De?function(n){const r=n.getFilters().map(i=>SD(i));return r.length===1?r[0]:{compositeFilter:{op:o7(n.op),filters:r}}}(t):X()}function a7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ID(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.ct=e}}function l7(t,e){let n;if(e.document)n=yD(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=K.fromSegments(e.noDocument.path),i=ma(e.noDocument.readTime);n=qe.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return X();{const r=K.fromSegments(e.unknownDocument.path),i=ma(e.unknownDocument.version);n=qe.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new nt(i[0],i[1]);return ne.fromTimestamp(s)}(e.readTime)),n}function lR(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:fm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Md(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Jl(s,o.version.toTimestamp()),createTime:Jl(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:pa(e.version)};else{if(!e.isUnknownDocument())return X();r.unknownDocument={path:n.path.toArray(),version:pa(e.version)}}return r}function fm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function pa(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ma(t){const e=new nt(t.seconds,t.nanoseconds);return ne.fromTimestamp(e)}function Lo(t,e){const n=(e.baseMutations||[]).map(s=>d0(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>d0(t.ct,s)),i=nt.fromMillis(e.localWriteTimeMs);return new UE(e.batchId,i,n,r)}function Rc(t){const e=ma(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ma(t.lastLimboFreeSnapshotVersion):ne.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return te(s.documents.length===1),bn(Eu(mD(s.documents[0])))}(t.query):function(s){return bn(wD(s))}(t.query),new Fi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,yt.fromBase64String(t.resumeToken))}function bD(t,e){const n=pa(e.snapshotVersion),r=pa(e.lastLimboFreeSnapshotVersion);let i;i=cm(e.target)?_D(t.ct,e.target):vD(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:da(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function WE(t){const e=wD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hm(e,e.limit,"L"):e}function E_(t,e){return new BE(e.largestBatchId,d0(t.ct,e.overlayMutation))}function uR(t,e){const n=e.path.lastSegment();return[t,Tn(e.path.popLast()),n]}function cR(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:pa(r.readTime),documentKey:Tn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{getBundleMetadata(e,n){return dR(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:ma(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return dR(e).put(function(i){return{bundleId:i.id,createTime:pa(It(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return hR(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:WE(s.bundledQuery),readTime:ma(s.readTime)}}(r)})}saveNamedQuery(e,n){return hR(e).put(function(i){return{name:i.name,readTime:pa(It(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function dR(t){return Vt(t,"bundles")}function hR(t){return Vt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Dg(e,r)}getOverlay(e,n){return rc(e).get(uR(this.userId,n)).next(r=>r?E_(this.serializer,r):null)}getOverlays(e,n){const r=oi();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new BE(n,o);i.push(this.ht(e,a))}),L.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Tn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(rc(e).j("collectionPathOverlayIndex",a))}),L.waitFor(s)}getOverlaysForCollection(e,n,r){const i=oi(),s=Tn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return rc(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=E_(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=oi();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return rc(e).J({index:"collectionGroupOverlayIndex",range:a},(l,u,d)=>{const h=E_(this.serializer,u);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):d.done()}).next(()=>s)}ht(e,n){return rc(e).put(function(i,s,o){const[a,l,u]=uR(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Ld(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function rc(t){return Vt(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{Pt(e){return Vt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?yt.fromUint8Array(r):yt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Xe(e.integerValue));else if("doubleValue"in e){const r=Xe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Cd(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Zi(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(no(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?LO(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Cg(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):X()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const s=e.fields||{};this.dt(n,53);const o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Xe(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),K.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}Vo.vt=new Vo;function d7(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function fR(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=d7(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class h7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=fR(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=fR(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class f7{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class p7{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class ic{constructor(){this.jt=new h7,this.Ht=new f7(this.jt),this.Jt=new p7(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Fo(this.indexId,this.documentKey,this.arrayValue,r)}}function _s(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=pR(t.arrayValue,e.arrayValue),n!==0?n:(n=pR(t.directionalValue,e.directionalValue),n!==0?n:K.comparator(t.documentKey,e.documentKey)))}function pR(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.Xt=new Me((n,r)=>et.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(te(e.collectionGroup===this.collectionId),this.nn)return!1;const n=e0(e);if(n!==void 0&&!this.sn(n))return!1;const r=Do(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.on(a,l)||!this._n(this.en[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new Me(et.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new rp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new rp(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new rp(r.field,r.dir==="asc"?0:1)));return new um(um.UNKNOWN_ID,this.collectionId,n,kd.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t){var e,n;if(te(t instanceof _e||t instanceof De),t instanceof _e){if(t instanceof qO){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>_e.create(t.field,"==",s)))||[];return De.create(i,"or")}return t}const r=t.filters.map(i=>RD(i));return De.create(r,t.op)}function m7(t){if(t.getFilters().length===0)return[];const e=p0(RD(t));return te(AD(e)),h0(e)||f0(e)?[e]:e.getFilters()}function h0(t){return t instanceof _e}function f0(t){return t instanceof De&&NE(t)}function AD(t){return h0(t)||f0(t)||function(n){if(n instanceof De&&i0(n)){for(const r of n.getFilters())if(!h0(r)&&!f0(r))return!1;return!0}return!1}(t)}function p0(t){if(te(t instanceof _e||t instanceof De),t instanceof _e)return t;if(t.filters.length===1)return p0(t.filters[0]);const e=t.filters.map(r=>p0(r));let n=De.create(e,t.op);return n=pm(n),AD(n)?n:(te(n instanceof De),te(Kl(n)),te(n.filters.length>1),n.filters.reduce((r,i)=>qE(r,i)))}function qE(t,e){let n;return te(t instanceof _e||t instanceof De),te(e instanceof _e||e instanceof De),n=t instanceof _e?e instanceof _e?function(i,s){return De.create([i,s],"and")}(t,e):gR(t,e):e instanceof _e?gR(e,t):function(i,s){if(te(i.filters.length>0&&s.filters.length>0),Kl(i)&&Kl(s))return $O(i,s.getFilters());const o=i0(i)?i:s,a=i0(i)?s:i,l=o.filters.map(u=>qE(u,a));return De.create(l,"or")}(t,e),pm(n)}function gR(t,e){if(Kl(e))return $O(e,t.getFilters());{const n=e.filters.map(r=>qE(t,r));return De.create(n,"or")}}function pm(t){if(te(t instanceof _e||t instanceof De),t instanceof _e)return t;const e=t.getFilters();if(e.length===1)return pm(e[0]);if(jO(t))return t;const n=e.map(i=>pm(i)),r=[];return n.forEach(i=>{i instanceof _e?r.push(i):i instanceof De&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:De.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(){this.un=new HE}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(nr.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(nr.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class HE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Me(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Me(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new Uint8Array(0);class y7{constructor(e,n){this.databaseId=n,this.cn=new HE,this.ln=new vo(r=>da(r),(r,i)=>_h(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const s={collectionId:r,parent:Tn(i)};return yR(e).put(s)}return L.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[IO(n),""],!1,!0);return yR(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(si(o.parent))}return r})}addFieldIndex(e,n){const r=sc(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=qa(e);return s.next(a=>{o.put(cR(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=sc(e),i=qa(e),s=Wa(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=sc(e),r=Wa(e),i=qa(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return L.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new mR(r).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Wa(e);let i=!0;const s=new Map;return L.forEach(this.hn(n),o=>this.Pn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ue();const a=[];return L.forEach(s,(l,u)=>{z("IndexedDbIndexManager",`Using index ${function(E){return`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(O=>`${O.fieldPath}:${O.kind}`).join(",")}`}(l)} to execute ${da(n)}`);const d=function(E,O){const x=e0(O);if(x===void 0)return null;for(const N of dm(E,x.fieldPath))switch(N.op){case"array-contains-any":return N.value.arrayValue.values||[];case"array-contains":return[N.value]}return null}(u,l),h=function(E,O){const x=new Map;for(const N of Do(O))for(const b of dm(E,N.fieldPath))switch(b.op){case"==":case"in":x.set(N.fieldPath.canonicalString(),b.value);break;case"not-in":case"!=":return x.set(N.fieldPath.canonicalString(),b.value),Array.from(x.values())}return null}(u,l),f=function(E,O){const x=[];let N=!0;for(const b of Do(O)){const S=b.kind===0?Yb(E,b.fieldPath,E.startAt):Qb(E,b.fieldPath,E.startAt);x.push(S.value),N&&(N=S.inclusive)}return new so(x,N)}(u,l),g=function(E,O){const x=[];let N=!0;for(const b of Do(O)){const S=b.kind===0?Qb(E,b.fieldPath,E.endAt):Yb(E,b.fieldPath,E.endAt);x.push(S.value),N&&(N=S.inclusive)}return new so(x,N)}(u,l),_=this.In(l,u,f),v=this.In(l,u,g),I=this.Tn(l,u,h),T=this.En(l.indexId,d,_,f.inclusive,v,g.inclusive,I);return L.forEach(T,w=>r.G(w,n.limit).next(E=>{E.forEach(O=>{const x=K.fromSegments(O.documentKey);o.has(x)||(o=o.add(x),a.push(x))})}))}).next(()=>a)}return L.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=m7(De.create(e.filters,"and")).map(r=>o0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),d=[];for(let h=0;h<l;++h){const f=n?this.dn(n[h/u]):Rf,g=this.An(e,f,r[h%u],i),_=this.Rn(e,f,s[h%u],o),v=a.map(I=>this.An(e,f,I,!0));d.push(...this.createRange(g,_,v))}return d}An(e,n,r,i){const s=new Fo(e,K.empty(),n,r);return i?s:s.Zt()}Rn(e,n,r,i){const s=new Fo(e,K.empty(),n,r);return i?s.Zt():s}Pn(e,n){const r=new mR(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.hn(n);return L.forEach(i,s=>this.Pn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new Me(et.comparator),d=!1;for(const h of l.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:u=u.add(f.field));for(const h of l.orderBy)h.field.isKeyField()||(u=u.add(h.field));return u.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new ic;for(const i of Do(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);Vo.vt.It(s,o)}return r.zt()}dn(e){const n=new ic;return Vo.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new ic;return Vo.vt.It(ca(this.databaseId,n),r.Yt(function(s){const o=Do(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new ic);let s=0;for(const o of Do(e)){const a=r[s++];for(const l of i)if(this.fn(n,o.fieldPath)&&Dd(a))i=this.gn(i,o,a);else{const u=l.Yt(o.kind);Vo.vt.It(a,u)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new ic;l.seed(a.zt()),Vo.vt.It(o,l.Yt(n.kind)),s.push(l)}return s}fn(e,n){return!!e.filters.find(r=>r instanceof _e&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=sc(e),i=qa(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return L.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(d,h){const f=h?new kd(h.sequenceNumber,new nr(ma(h.readTime),new K(si(h.documentKey)),h.largestBatchId)):kd.empty(),g=d.fields.map(([_,v])=>new rp(et.fromServerFormat(_),v));return new um(d.indexId,d.collectionGroup,g,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ae(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=sc(e),s=qa(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>L.forEach(a,l=>s.put(cR(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return L.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?L.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),L.forEach(a,l=>this.wn(e,i,l).next(u=>{const d=this.Sn(s,l);return u.isEqual(d)?L.resolve():this.bn(e,s,l,u,d)}))))})}Dn(e,n,r,i){return Wa(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return Wa(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=Wa(e);let s=new Me(_s);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(o,a)=>{s=s.add(new Fo(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,n){let r=new Me(_s);const i=this.Vn(n,e);if(i==null)return r;const s=e0(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Dd(o))for(const a of o.arrayValue.values||[])r=r.add(new Fo(n.indexId,e.key,this.dn(a),i))}else r=r.add(new Fo(n.indexId,e.key,Rf,i));return r}bn(e,n,r,i,s){z("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,d,h,f){const g=l.getIterator(),_=u.getIterator();let v=za(g),I=za(_);for(;v||I;){let T=!1,w=!1;if(v&&I){const E=d(v,I);E<0?w=!0:E>0&&(T=!0)}else v!=null?w=!0:T=!0;T?(h(I),I=za(_)):w?(f(v),v=za(g)):(v=za(g),I=za(_))}}(i,s,_s,a=>{o.push(this.Dn(e,n,r,a))},a=>{o.push(this.vn(e,n,r,a))}),L.waitFor(o)}yn(e){let n=1;return qa(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>_s(o,a)).filter((o,a,l)=>!a||_s(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=_s(o,e),l=_s(o,n);if(a===0)i[0]=e.Zt();else if(a>0&&l<0)i.push(o),i.push(o.Zt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Rf,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Rf,[]];s.push(IDBKeyRange.bound(a,l))}return s}Cn(e,n){return _s(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(_R)}getMinOffset(e,n){return L.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||X())).next(_R)}}function yR(t){return Vt(t,"collectionParents")}function Wa(t){return Vt(t,"indexEntries")}function sc(t){return Vt(t,"indexConfiguration")}function qa(t){return Vt(t,"indexState")}function _R(t){te(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;CE(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new nr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},(d,h,f)=>(a++,f.delete()));s.push(l.next(()=>{te(a===1)}));const u=[];for(const d of n.mutations){const h=CO(e,d.key.path,n.batchId);s.push(i.delete(h)),u.push(d.key)}return L.waitFor(s).next(()=>u)}function mm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw X();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(41943040,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class Ng{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){te(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Ng(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vs(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Za(e),o=vs(e);return o.add({}).next(a=>{te(typeof a=="number");const l=new UE(a,n,r,i),u=function(g,_,v){const I=v.baseMutations.map(w=>Ld(g.ct,w)),T=v.mutations.map(w=>Ld(g.ct,w));return{userId:_,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:I,mutations:T}}(this.serializer,this.userId,l),d=[];let h=new Me((f,g)=>ae(f.canonicalString(),g.canonicalString()));for(const f of i){const g=CO(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),d.push(o.put(u)),d.push(s.put(g,rq))}return h.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),L.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return vs(e).get(n).next(r=>r?(te(r.userId===this.userId),Lo(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?L.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return vs(e).J({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(te(a.batchId>=r),s=Lo(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return vs(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vs(e).U("userMutationsIndex",n).next(r=>r.map(i=>Lo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=ip(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Za(e).J({range:i},(o,a,l)=>{const[u,d,h]=o,f=si(d);if(u===this.userId&&n.path.isEqual(f))return vs(e).get(h).next(g=>{if(!g)throw X();te(g.userId===this.userId),s.push(Lo(this.serializer,g))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Me(ae);const i=[];return n.forEach(s=>{const o=ip(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Za(e).J({range:a},(u,d,h)=>{const[f,g,_]=u,v=si(g);f===this.userId&&s.path.isEqual(v)?r=r.add(_):h.done()});i.push(l)}),L.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=ip(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Me(ae);return Za(e).J({range:o},(l,u,d)=>{const[h,f,g]=l,_=si(f);h===this.userId&&r.isPrefixOf(_)?_.length===i&&(a=a.add(g)):d.done()}).next(()=>this.xn(e,a))}xn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(vs(e).get(s).next(o=>{if(o===null)throw X();te(o.userId===this.userId),r.push(Lo(this.serializer,o))}))}),L.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return PD(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),L.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return L.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Za(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=si(s[1]);i.push(l)}else a.done()}).next(()=>{te(i.length===0)})})}containsKey(e,n){return kD(e,this.userId,n)}Nn(e){return CD(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function kD(t,e,n){const r=ip(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Za(t).J({range:s,H:!0},(a,l,u)=>{const[d,h,f]=a;d===e&&h===i&&(o=!0),u.done()}).next(()=>o)}function vs(t){return Vt(t,"mutations")}function Za(t){return Vt(t,"documentMutations")}function CD(t){return Vt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ga(0)}static kn(){return new ga(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new ga(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>ne.fromTimestamp(new nt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ha(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(te(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Ha(e).J((o,a)=>{const l=Rc(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>L.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Ha(e).J((r,i)=>{const s=Rc(i);n(s)})}qn(e){return wR(e).get("targetGlobalKey").next(n=>(te(n!==null),n))}Qn(e,n){return wR(e).put("targetGlobalKey",n)}Kn(e,n){return Ha(e).put(bD(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=da(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Ha(e).J({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=Rc(a);_h(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Rs(e);return n.forEach(o=>{const a=Tn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),L.waitFor(i)}removeMatchingKeys(e,n,r){const i=Rs(e);return L.forEach(n,s=>{const o=Tn(s.path);return L.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Rs(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Rs(e);let s=ue();return i.J({range:r,H:!0},(o,a,l)=>{const u=si(o[1]),d=new K(u);s=s.add(d)}).next(()=>s)}containsKey(e,n){const r=Tn(n.path),i=IDBKeyRange.bound([r],[IO(r)],!1,!0);let s=0;return Rs(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ot(e,n){return Ha(e).get(n).next(r=>r?Rc(r):null)}}function Ha(t){return Vt(t,"targets")}function wR(t){return Vt(t,"targetGlobal")}function Rs(t){return Vt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER([t,e],[n,r]){const i=ae(t,n);return i===0?ae(e,r):i}class v7{constructor(e){this.Un=e,this.buffer=new Me(ER),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ER(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class w7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){z("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.Hn(3e5)})}}class E7{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(Nn.oe);const r=new v7(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(vR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vR):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Ya()<=me.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function S7(t,e){return new E7(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e,n){this.db=e,this.garbageCollector=S7(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return Af(e,r)}removeReference(e,n,r){return Af(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Af(e,n)}nr(e,n){return function(i,s){let o=!1;return CD(i).Y(a=>kD(i,a,s).next(l=>(l&&(o=!0),L.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(o,a)=>{if(a<=n){const l=this.nr(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ne.min()),Rs(e).delete(function(h){return[0,Tn(h.path)]}(o))))});i.push(l)}}).next(()=>L.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Af(e,n)}tr(e,n){const r=Rs(e);let i,s=Nn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==Nn.oe&&n(new K(si(i)),s),s=u,i=l):s=Nn.oe}).next(()=>{s!==Nn.oe&&n(new K(si(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Af(t,e){return Rs(t).put(function(r,i){return{targetId:0,path:Tn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.changes=new vo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ao(e).put(r)}removeEntry(e,n,r){return Ao(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],fm(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=qe.newInvalidDocument(n);return Ao(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(oc(n))},(i,s)=>{r=this.ir(n,s)}).next(()=>r)}sr(e,n){let r={size:0,document:qe.newInvalidDocument(n)};return Ao(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(oc(n))},(i,s)=>{r={document:this.ir(n,s),size:mm(s)}}).next(()=>r)}getEntries(e,n){let r=Ln();return this._r(e,n,(i,s)=>{const o=this.ir(i,s);r=r.insert(i,o)}).next(()=>r)}ar(e,n){let r=Ln(),i=new $e(K.comparator);return this._r(e,n,(s,o)=>{const a=this.ir(s,o);r=r.insert(s,a),i=i.insert(s,mm(o))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return L.resolve();let i=new Me(TR);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(oc(i.first()),oc(i.last())),o=i.getIterator();let a=o.getNext();return Ao(e).J({index:"documentKeyIndex",range:s},(l,u,d)=>{const h=K.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&TR(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?d.$(oc(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),fm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ao(e).U(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let d=Ln();for(const h of u){const f=this.ir(K.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(wh(n,f)||i.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=Ln();const o=IR(n,r),a=IR(n,nr.max());return Ao(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,d)=>{const h=this.ir(K.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(h.key,h),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new b7(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return SR(e).get("remoteDocumentGlobalKey").next(n=>(te(!!n),n))}rr(e,n){return SR(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=l7(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ne.min())))return r}return qe.newInvalidDocument(e)}}function OD(t){return new T7(t)}class b7 extends xD{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new vo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Me((s,o)=>ae(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.lr.get(s);if(n.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=lR(this.cr.serializer,o);i=i.add(s.path.popLast());const u=mm(l);r+=u-a.size,n.push(this.cr.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=lR(this.cr.serializer,o.convertToNoDocument(ne.min()));n.push(this.cr.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.cr.updateMetadata(e,r)),L.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function SR(t){return Vt(t,"remoteDocumentGlobal")}function Ao(t){return Vt(t,"remoteDocumentsV14")}function oc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function IR(t,e){const n=e.documentKey.path.toArray();return[t,fm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function TR(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ae(n[s],r[s]),i)return i;return i=ae(n.length,r.length),i||(i=ae(n[n.length-2],r[r.length-2]),i||ae(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Hc(r.mutation,i,Mn.empty(),nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=oi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Tc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ln();const o=qc(),a=function(){return qc()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof as)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Hc(d.mutation,u,d.mutation.getFieldMask(),nt.now())):o.set(u.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new R7(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=qc();let i=new $e((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Mn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||ue()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=XO();d.forEach(f=>{if(!s.has(f)){const g=sD(n.get(f),r.get(f));g!==null&&h.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ME(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(oi());let a=-1,l=s;return o.next(u=>L.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?L.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ue())).next(d=>({batchId:a,changes:JO(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=Tc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Tc();return this.indexManager.getCollectionParents(e,s).next(a=>L.forEach(a,l=>{const u=function(h,f){return new os(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,qe.newInvalidDocument(d)))});let a=Tc();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Hc(d.mutation,u,Mn.empty(),nt.now()),wh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:It(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:WE(i.bundledQuery),readTime:It(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(){this.overlays=new $e(K.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oi();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=oi(),s=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new $e((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=oi(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=oi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new BE(n,r));let s=this.Ir.get(n);s===void 0&&(s=ue(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.Tr=new Me(jt.Er),this.dr=new Me(jt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new jt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new K(new ye([])),r=new jt(n,e),i=new jt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new K(new ye([])),r=new jt(n,e),i=new jt(n,e+1);let s=ue();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new jt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return K.comparator(e.key,n.key)||ae(e.wr,n.wr)}static Ar(e,n){return ae(e.wr,n.wr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Me(jt.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new UE(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new jt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),i=new jt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Me(ae);return n.forEach(i=>{const s=new jt(i,0),o=new jt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;K.isDocumentKey(s)||(s=s.child(""));const o=new jt(new K(s),0);let a=new Me(ae);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),L.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{const s=new jt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new jt(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e){this.Mr=e,this.docs=function(){return new $e(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():qe.newInvalidDocument(n))}getEntries(e,n){let r=Ln();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qe.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ln();const o=n.path,a=new K(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||CE(bO(d),r)<=0||(i.has(d.key)||wh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,r,i){X()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new O7(this)}getSize(e){return L.resolve(this.size)}}class O7 extends xD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e){this.persistence=e,this.Nr=new vo(n=>da(n),_h),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new GE,this.targetCount=0,this.kr=ga.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ga(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Nn(0),this.Kr=!1,this.Kr=!0,this.$r=new k7,this.referenceDelegate=e(this),this.Ur=new D7(this),this.indexManager=new g7,this.remoteDocumentCache=function(i){return new x7(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new TD(n),this.Gr=new A7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new P7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new C7(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);const i=new N7(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class N7 extends AO{constructor(e){super(),this.currentSequenceNumber=e}}class Mg{constructor(e){this.persistence=e,this.Jr=new GE,this.Yr=null}static Zr(e){return new Mg(e)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{const i=K.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e){this.serializer=e}O(e,n,r,i){const s=new Pg("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fb,{unique:!0}),l.createObjectStore("documentMutations")}(e),bR(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=L.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),bR(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ne.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fb,{unique:!0});const h=u.store("mutations"),f=d.map(g=>h.put(g));return L.waitFor(f)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),r<7&&i>=7&&(o=o.next(()=>this.ii(s))),r<8&&i>=8&&(o=o.next(()=>this.si(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:mq});u.createIndex("collectionPathOverlayIndex",gq,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",yq,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:iq});u.createIndex("documentKeyIndex",sq),u.createIndex("collectionGroupIndex",oq)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:dq}).createIndex("sequenceNumberIndex",hq,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:fq}).createIndex("documentKeyIndex",pq,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=mm(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>L.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>L.forEach(a,l=>{te(l.userId===s.userId);const u=Lo(this.serializer,l);return PD(e,s.userId,u).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const l=new ye(o),u=function(h){return[0,Tn(h)]}(l);s.push(n.get(u).next(d=>d?L.resolve():(h=>n.put({targetId:0,path:Tn(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>L.waitFor(s))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:cq});const r=n.store("collectionParents"),i=new HE,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Tn(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new ye(o);return s(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],u)=>{const d=si(a);return s(d.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const s=Rc(i),o=bD(this.serializer,s);return n.put(o)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(h){return h.document?new K(ye.fromString(h.document.name).popFirst(5)):h.noDocument?K.fromSegments(h.noDocument.path):h.unknownDocument?K.fromSegments(h.unknownDocument.path):X()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>L.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=OD(this.serializer),s=new ND(Mg.Zr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(l=>{var u;let d=(u=a.get(l.userId))!==null&&u!==void 0?u:ue();Lo(this.serializer,l).keys().forEach(h=>d=d.add(h)),a.set(l.userId,d)}),L.forEach(a,(l,u)=>{const d=new $t(u),h=Dg.lt(this.serializer,d),f=s.getIndexManager(d),g=Ng.lt(d,this.serializer,f,s.referenceDelegate);return new DD(i,g,h,f).recalculateAndSaveOverlaysForDocumentKeys(new t0(n,Nn.oe),l).next()})})}}function bR(t){t.createObjectStore("targetDocuments",{keyPath:lq}).createIndex("documentTargetsIndex",uq,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",aq,{unique:!0}),t.createObjectStore("targetGlobal")}const S_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class KE{constructor(e,n,r,i,s,o,a,l,u,d,h=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=s,this.window=o,this.document=a,this.ci=u,this.li=d,this.hi=h,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!KE.D())throw new $(V.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new I7(this,i),this.Ai=n+"main",this.serializer=new TD(l),this.Ri=new ci(this.Ai,this.hi,new M7(this.serializer)),this.$r=new c7,this.Ur=new _7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=OD(this.serializer),this.Gr=new u7,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&St("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $(V.FAILED_PRECONDITION,S_);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Nn(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Pf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(_o(e))return z("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return z("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return ac(e).get("owner").next(n=>L.resolve(this.vi(n)))}Ci(e){return Pf(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Vt(n,"clientMetadata");return r.U().next(i=>{const s=this.xi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return L.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?L.resolve(!0):ac(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new $(V.FAILED_PRECONDITION,S_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Pf(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&z("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new t0(e,Nn.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Pf(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return Ng.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new y7(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Dg.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){z("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===17?wq:l===16?vq:l===15?OE:l===14?DO:l===13?OO:l===12?_q:l===11?xO:void X()}(this.hi);let o;return this.Ri.runTransaction(e,i,s,a=>(o=new t0(a,this.Qr?this.Qr.next():Nn.oe),n==="readwrite-primary"?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw St(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new $(V.FAILED_PRECONDITION,RO);return r(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return ac(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new $(V.FAILED_PRECONDITION,S_)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ac(e).put("owner",n)}static D(){return ci.D()}bi(e){const n=ac(e);return n.get("owner").next(r=>this.vi(r)?(z("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):L.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(St(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;ox()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return z("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return St("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){St("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ac(t){return Vt(t,"owner")}function Pf(t){return Vt(t,"clientMetadata")}function YE(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new QE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return ox()?8:PO(ct())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new L7;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ya()<=me.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(Ya()<=me.DEBUG&&z("QueryEngine","Query:",Qa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ya()<=me.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bn(n))):L.resolve())}Yi(e,n){if(Jb(n))return L.resolve(null);let r=bn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=hm(n,null,"F"),r=bn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,hm(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return Jb(n)||i.isEqual(ne.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?L.resolve(null):(Ya()<=me.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qa(n)),this.rs(e,o,n,TO(i,-1)).next(a=>a))})}ts(e,n){let r=new Me(YO(e));return n.forEach((i,s)=>{wh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ya()<=me.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.Ji.getDocumentsMatchingQuery(e,n,nr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new $e(ae),this._s=new vo(s=>da(s),_h),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function LD(t,e,n,r){return new V7(t,e,n,r)}async function VD(t,e){const n=Q(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ue();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function F7(t,e){const n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let g=L.resolve();return f.forEach(_=>{g=g.next(()=>d.getEntry(l,_)).next(v=>{const I=u.docVersions.get(_);te(I!==null),v.version.compareTo(I)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function FD(t){const e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function U7(t,e){const n=Q(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(yt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),function(v,I,T){return v.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(f,g,d)&&a.push(n.Ur.updateTargetData(s,g))});let l=Ln(),u=ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(UD(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(ne.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function UD(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ln();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ne.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function j7(t,e){const n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xl(t,e){const n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Fi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Zl(t,e,n){const r=Q(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!_o(o))throw o;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function gm(t,e,n){const r=Q(t);let i=ne.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=Q(l),f=h._s.get(d);return f!==void 0?L.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(r,o,bn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:ue())).next(a=>($D(r,KO(e),a),{documents:a,Ts:s})))}function jD(t,e){const n=Q(t),r=Q(n.Ur),i=n.os.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function BD(t,e){const n=Q(t),r=n.us.get(e)||ne.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.cs.getAllFromCollectionGroup(i,e,TO(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>($D(n,e,i),i))}function $D(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}async function B7(t,e,n,r){const i=Q(t);let s=ue(),o=Ln();for(const u of n){const d=e.Es(u.metadata.name);u.document&&(s=s.add(d));const h=e.ds(u);h.setReadTime(e.As(u.metadata.readTime)),o=o.insert(d,h)}const a=i.cs.newChangeBuffer({trackRemovals:!0}),l=await Xl(i,function(d){return bn(Eu(ye.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>UD(u,a,o).next(d=>(a.apply(u),d)).next(d=>i.Ur.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Ur.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,d.Ps,d.Is)).next(()=>d.Ps)))}async function $7(t,e,n=ue()){const r=await Xl(t,bn(WE(e.bundledQuery))),i=Q(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=It(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Gr.saveNamedQuery(s,e);const a=r.withResumeToken(yt.EMPTY_BYTE_STRING,o);return i.os=i.os.insert(a.targetId,a),i.Ur.updateTargetData(s,a).next(()=>i.Ur.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Ur.addMatchingKeys(s,n,r.targetId)).next(()=>i.Gr.saveNamedQuery(s,e))})}function RR(t,e){return`firestore_clients_${t}_${e}`}function AR(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function I_(t,e){return`firestore_targets_${t}_${e}`}class ym{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Rs(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new $(i.error.code,i.error.message))),o?new ym(e,n,i.state,s):(St("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gc{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Rs(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new $(r.error.code,r.error.message))),s?new Gc(e,r.state,i):(St("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _m{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Rs(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=LE();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=kO(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new _m(e,s):(St("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class JE{constructor(e,n){this.clientId=e,this.onlineState=n}static Rs(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new JE(n.clientId,n.onlineState):(St("SharedClientState",`Failed to parse online state: ${e}`),null)}}class m0{constructor(){this.activeTargetIds=LE()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class T_{constructor(e,n,r,i,s){this.window=e,this.ui=n,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new $e(ae),this.started=!1,this.bs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=RR(this.persistenceKey,this.ps),this.vs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new m0),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const r of e){if(r===this.ps)continue;const i=this.getItem(RR(this.persistenceKey,r));if(i){const s=_m.Rs(r,i);s&&(this.Ss=this.Ss.insert(s.clientId,s))}}this.Ns();const n=this.storage.getItem(this.xs);if(n){const r=this.Ls(n);r&&this.Bs(r)}for(const r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let n=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,n,r){this.qs(e,n,r),this.Qs(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(I_(this.persistenceKey,e));if(i){const s=Gc.Rs(e,i);s&&(r=s.state)}}return n&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(I_(this.persistenceKey,e))}updateQueryState(e,n,r){this.$s(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return z("SharedClientState","READ",e,n),n}setItem(e,n){z("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){z("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const n=e;if(n.storageArea===this.storage){if(z("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void St("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){const r=this.Gs(n.key);return this.zs(r,null)}{const r=this.js(n.key,n.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(n.key)){if(n.newValue!==null){const r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(n.key===this.xs){if(n.newValue!==null){const r=this.Ls(n.newValue);if(r)return this.Bs(r)}}else if(n.key===this.vs){const r=function(s){let o=Nn.oe;if(s!=null)try{const a=JSON.parse(s);te(typeof a=="number"),o=a}catch(a){St("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==Nn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Os){const r=this.Xs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(n)})}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,n,r){const i=new ym(this.currentUser,e,n,r),s=AR(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Vs())}Qs(e){const n=AR(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Us(e){const n={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(n))}$s(e,n,r){const i=I_(this.persistenceKey,e),s=new Gc(e,n,r);this.setItem(i,s.Vs())}Ws(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Os,n)}Gs(e){const n=this.Cs.exec(e);return n?n[1]:null}js(e,n){const r=this.Gs(e);return _m.Rs(r,n)}Hs(e,n){const r=this.Fs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return ym.Rs(new $t(s),i,n)}Ys(e,n){const r=this.Ms.exec(e),i=Number(r[1]);return Gc.Rs(i,n)}Ls(e){return JE.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);z("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,n){const r=n?this.Ss.insert(e,n):this.Ss.remove(e),i=this.ks(this.Ss),s=this.ks(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.io(o,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let n=LE();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class zD{constructor(){this.so=new m0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new m0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf=null;function b_(){return kf===null?kf=function(){return 268435456+Math.round(2147483648*Math.random())}():kf++,"0x"+kf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class H7 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=b_(),l=this.xo(n,r.toUriEncodedString());z("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(z("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw pi("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=W7[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=b_();return new Promise((o,a)=>{const l=new gO;l.setWithCredentials(!0),l.listenOnce(yO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case np.NO_ERROR:const d=l.getResponseJson();z(on,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case np.TIMEOUT:z(on,`RPC '${e}' ${s} timed out`),a(new $(V.DEADLINE_EXCEEDED,"Request time out"));break;case np.HTTP_ERROR:const h=l.getStatus();if(z(on,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const _=function(I){const T=I.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(T)>=0?T:V.UNKNOWN}(g.status);a(new $(_,g.message))}else a(new $(V.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new $(V.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{z(on,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);z(on,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=b_(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wO(),a=vO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");z(on,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,g=!1;const _=new q7({Io:I=>{g?z(on,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(f||(z(on,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),z(on,`RPC '${e}' stream ${i} sending:`,I),h.send(I))},To:()=>h.close()}),v=(I,T,w)=>{I.listen(T,E=>{try{w(E)}catch(O){setTimeout(()=>{throw O},0)}})};return v(h,Ic.EventType.OPEN,()=>{g||(z(on,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),v(h,Ic.EventType.CLOSE,()=>{g||(g=!0,z(on,`RPC '${e}' stream ${i} transport closed`),_.So())}),v(h,Ic.EventType.ERROR,I=>{g||(g=!0,pi(on,`RPC '${e}' stream ${i} transport errored:`,I),_.So(new $(V.UNAVAILABLE,"The operation could not be completed")))}),v(h,Ic.EventType.MESSAGE,I=>{var T;if(!g){const w=I.data[0];te(!!w);const E=w,O=E.error||((T=E[0])===null||T===void 0?void 0:T.error);if(O){z(on,`RPC '${e}' stream ${i} received error:`,O);const x=O.status;let N=function(m){const A=At[m];if(A!==void 0)return lD(A)}(x),b=O.message;N===void 0&&(N=V.INTERNAL,b="Unknown error status: "+x+" with message "+O.message),g=!0,_.So(new $(N,b)),h.close()}else z(on,`RPC '${e}' stream ${i} received:`,w),_.bo(w)}}),v(a,_O.STAT_EVENT,I=>{I.stat===Zv.PROXY?z(on,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Zv.NOPROXY&&z(on,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){return typeof window<"u"?window:null}function up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){return new Xq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new XE(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(St(n.toString()),St("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new $(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G7 extends qD{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=t7(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?It(o.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=c0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=cm(l)?{documents:_D(s,l)}:{query:vD(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=hD(s,o.resumeToken);const u=l0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=Jl(s,o.snapshotVersion.toTimestamp());const u=l0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=r7(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=c0(this.serializer),n.removeTarget=e,this.a_(n)}}class K7 extends qD{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return te(!!e.streamToken),this.lastStreamToken=e.streamToken,te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=n7(e.writeResults,e.commitTime),r=It(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=c0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Ld(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new $(V.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,u0(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(V.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,u0(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(V.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Q7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(St(n),this.D_=!1):z("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{wo(this)&&(z("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Q(l);u.L_.add(4),await Tu(u),u.q_.set("Unknown"),u.L_.delete(4),await bh(u)}(this))})}),this.q_=new Q7(r,i)}}async function bh(t){if(wo(t))for(const e of t.B_)await e(!0)}async function Tu(t){for(const e of t.B_)await e(!1)}function Lg(t,e){const n=Q(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),tS(n)?eS(n):Ru(n).r_()&&ZE(n,e))}function eu(t,e){const n=Q(t),r=Ru(n);n.N_.delete(e),r.r_()&&HD(n,e),n.N_.size===0&&(r.r_()?r.o_():wo(n)&&n.q_.set("Unknown"))}function ZE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ru(t).A_(e)}function HD(t,e){t.Q_.xe(e),Ru(t).R_(e)}function eS(t){t.Q_=new Kq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ru(t).start(),t.q_.v_()}function tS(t){return wo(t)&&!Ru(t).n_()&&t.N_.size>0}function wo(t){return Q(t).L_.size===0}function GD(t){t.Q_=void 0}async function X7(t){t.q_.set("Online")}async function Z7(t){t.N_.forEach((e,n)=>{ZE(t,e)})}async function eH(t,e){GD(t),tS(t)?(t.q_.M_(e),eS(t)):t.q_.set("Unknown")}async function tH(t,e,n){if(t.q_.set("Online"),e instanceof dD&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vm(t,r)}else if(e instanceof lp?t.Q_.Ke(e):e instanceof cD?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{const r=await FD(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(yt.EMPTY_BYTE_STRING,d.snapshotVersion)),HD(s,l);const h=new Fi(d.target,l,u,d.sequenceNumber);ZE(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){z("RemoteStore","Failed to raise snapshot:",r),await vm(t,r)}}async function vm(t,e,n){if(!_o(e))throw e;t.L_.add(1),await Tu(t),t.q_.set("Offline"),n||(n=()=>FD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{z("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await bh(t)})}function KD(t,e){return e().catch(n=>vm(t,n,e))}async function bu(t){const e=Q(t),n=oo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;nH(e);)try{const i=await j7(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,rH(e,i)}catch(i){await vm(e,i)}YD(e)&&QD(e)}function nH(t){return wo(t)&&t.O_.length<10}function rH(t,e){t.O_.push(e);const n=oo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function YD(t){return wo(t)&&!oo(t).n_()&&t.O_.length>0}function QD(t){oo(t).start()}async function iH(t){oo(t).p_()}async function sH(t){const e=oo(t);for(const n of t.O_)e.m_(n.mutations)}async function oH(t,e,n){const r=t.O_.shift(),i=jE.from(r,e,n);await KD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await bu(t)}async function aH(t,e){e&&oo(t).V_&&await async function(r,i){if(function(o){return aD(o)&&o!==V.ABORTED}(i.code)){const s=r.O_.shift();oo(r).s_(),await KD(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await bu(r)}}(t,e),YD(t)&&QD(t)}async function kR(t,e){const n=Q(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");const r=wo(n);n.L_.add(3),await Tu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await bh(n)}async function g0(t,e){const n=Q(t);e?(n.L_.delete(2),await bh(n)):e||(n.L_.add(2),await Tu(n),n.q_.set("Unknown"))}function Ru(t){return t.K_||(t.K_=function(n,r,i){const s=Q(n);return s.w_(),new G7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:X7.bind(null,t),Ro:Z7.bind(null,t),mo:eH.bind(null,t),d_:tH.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),tS(t)?eS(t):t.q_.set("Unknown")):(await t.K_.stop(),GD(t))})),t.K_}function oo(t){return t.U_||(t.U_=function(n,r,i){const s=Q(n);return s.w_(),new K7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:iH.bind(null,t),mo:aH.bind(null,t),f_:sH.bind(null,t),g_:oH.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await bu(t)):(await t.U_.stop(),t.O_.length>0&&(z("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Xt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new nS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Au(t,e){if(St("AsyncQueue",`${e}: ${t}`),_o(t))return new $(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=Tc(),this.sortedSet=new $e(this.comparator)}static emptySet(e){return new Pl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.W_=new $e(K.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):X():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class tu{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new tu(e,n,Pl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class uH{constructor(){this.queries=xR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Q(n),s=i.queries;i.queries=xR(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new $(V.ABORTED,"Firestore shutting down"))}}function xR(){return new vo(t=>GO(t),vh)}async function rS(t,e){const n=Q(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new lH,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Au(o,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&sS(n)}async function iS(t,e){const n=Q(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cH(t,e){const n=Q(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&sS(n)}function dH(t,e,n){const r=Q(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function sS(t){t.Y_.forEach(e=>{e.next()})}var y0,OR;(OR=y0||(y0={})).ea="default",OR.Cache="cache";class oS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new tu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==y0.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(e,n){this.aa=e,this.byteLength=n}ua(){return"metadata"in this.aa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.serializer=e}Es(e){return di(this.serializer,e)}ds(e){return e.metadata.exists?yD(this.serializer,e.document,!1):qe.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return It(e)}}class fH{constructor(e,n,r){this.ca=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=JD(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++n;const r=ye.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ha(e){const n=new Map,r=new DR(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Es(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||ue()).add(s);n.set(o,a)}}return n}async complete(){const e=await B7(this.localStore,new DR(this.serializer),this.documents,this.ca.id),n=this.ha(this.documents);for(const r of this.queries)await $7(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function JD(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.key=e}}class ZD{constructor(e){this.key=e}}class eN{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=YO(e),this.Ra=new Pl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new CR,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),g=wh(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;f&&g?f.data.isEqual(g.data)?_!==v&&(r.track({type:3,doc:g}),I=!0):this.ga(f,g)||(r.track({type:2,doc:g}),I=!0,(l&&this.Aa(g,l)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),I=!0):f&&!g&&(r.track({type:1,doc:f}),I=!0,(l||u)&&(a=!0)),I&&(g?(o=o.add(g),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(g,_){const v=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return v(g)-v(_)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new tu(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new CR,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new ZD(r))}),this.da.forEach(r=>{e.has(r)||n.push(new XD(r))}),n}ba(e){this.Ta=e.Ts,this.da=ue();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return tu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class pH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mH{constructor(e){this.key=e,this.va=!1}}class gH{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new vo(a=>GO(a),vh),this.Ma=new Map,this.xa=new Set,this.Oa=new $e(K.comparator),this.Na=new Map,this.La=new GE,this.Ba={},this.ka=new Map,this.qa=ga.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function yH(t,e,n=!0){const r=Vg(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await tN(r,e,n,!0),i}async function _H(t,e){const n=Vg(t);await tN(n,e,!0,!1)}async function tN(t,e,n,r){const i=await Xl(t.localStore,bn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await aS(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Lg(t.remoteStore,i),a}async function aS(t,e,n,r,i){t.Ka=(h,f,g)=>async function(v,I,T,w){let E=I.view.ma(T);E.ns&&(E=await gm(v.localStore,I.query,!1).then(({documents:b})=>I.view.ma(b,E)));const O=w&&w.targetChanges.get(I.targetId),x=w&&w.targetMismatches.get(I.targetId)!=null,N=I.view.applyChanges(E,v.isPrimaryClient,O,x);return _0(v,I.targetId,N.wa),N.snapshot}(t,h,f,g);const s=await gm(t.localStore,e,!0),o=new eN(e,s.Ts),a=o.ma(s.documents),l=Ih.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);_0(t,n,u.wa);const d=new pH(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function vH(t,e,n){const r=Q(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!vh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Zl(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&eu(r.remoteStore,i.targetId),nu(r,i.targetId)}).catch(yo)):(nu(r,i.targetId),await Zl(r.localStore,i.targetId,!0))}async function wH(t,e){const n=Q(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),eu(n.remoteStore,r.targetId))}async function EH(t,e,n){const r=dS(t);try{const i=await function(o,a){const l=Q(o),u=nt.now(),d=a.reduce((g,_)=>g.add(_.key),ue());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Ln(),v=ue();return l.cs.getEntries(g,d).next(I=>{_=I,_.forEach((T,w)=>{w.isValidDocument()||(v=v.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(I=>{h=I;const T=[];for(const w of a){const E=qq(w,h.get(w.key).overlayedDocument);E!=null&&T.push(new as(w.key,E,FO(E.value.mapValue),tt.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,T,a)}).next(I=>{f=I;const T=I.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(g,I.batchId,T)})}).then(()=>({batchId:f.batchId,changes:JO(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new $e(ae)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await ls(r,i.changes),await bu(r.remoteStore)}catch(i){const s=Au(i,"Failed to persist write");n.reject(s)}}async function nN(t,e){const n=Q(t);try{const r=await U7(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?te(o.va):i.removedDocuments.size>0&&(te(o.va),o.va=!1))}),await ls(n,r,e)}catch(r){await yo(r)}}function NR(t,e,n){const r=Q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Q(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&sS(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SH(t,e,n){const r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new $e(K.comparator);o=o.insert(s,qe.newNoDocument(s,ne.min()));const a=ue().add(s),l=new Sh(ne.min(),new Map,new $e(ae),o,a);await nN(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),cS(r)}else await Zl(r.localStore,e,!1).then(()=>nu(r,e,n)).catch(yo)}async function IH(t,e){const n=Q(t),r=e.batch.batchId;try{const i=await F7(n.localStore,e);uS(n,r,null),lS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ls(n,i)}catch(i){await yo(i)}}async function TH(t,e,n){const r=Q(t);try{const i=await function(o,a){const l=Q(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(te(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);uS(r,e,n),lS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ls(r,i)}catch(i){await yo(i)}}async function bH(t,e){const n=Q(t);wo(n.remoteStore)||z("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=Q(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.ka.get(r)||[];i.push(e),n.ka.set(r,i)}catch(r){const i=Au(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function lS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function uS(t,e,n){const r=Q(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function nu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||rN(t,r)})}function rN(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(eu(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),cS(t))}function _0(t,e,n){for(const r of n)r instanceof XD?(t.La.addReference(r.key,e),RH(t,r)):r instanceof ZD?(z("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||rN(t,r.key)):X()}function RH(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(z("SyncEngine","New document in limbo: "+n),t.xa.add(r),cS(t))}function cS(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new K(ye.fromString(e)),r=t.qa.next();t.Na.set(r,new mH(n)),t.Oa=t.Oa.insert(n,r),Lg(t.remoteStore,new Fi(bn(Eu(n.path)),r,"TargetPurposeLimboResolution",Nn.oe))}}async function ls(t,e,n){const r=Q(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=QE.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=Q(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>L.forEach(u,f=>L.forEach(f.$i,g=>d.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>L.forEach(f.Ui,g=>d.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!_o(h))throw h;z("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const g=d.os.get(f),_=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(_);d.os=d.os.insert(f,v)}}}(r.localStore,s))}async function AH(t,e){const n=Q(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());const r=await VD(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new $(V.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ls(n,r.hs)}}function PH(t,e){const n=Q(t),r=n.Na.get(e);if(r&&r.va)return ue().add(r.key);{let i=ue();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}async function kH(t,e){const n=Q(t),r=await gm(n.localStore,e.query,!0),i=e.view.ba(r);return n.isPrimaryClient&&_0(n,e.targetId,i.wa),i}async function CH(t,e){const n=Q(t);return BD(n.localStore,e).then(r=>ls(n,r))}async function xH(t,e,n,r){const i=Q(t),s=await function(a,l){const u=Q(a),d=Q(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.Mn(h,l).next(f=>f?u.localDocuments.getDocuments(h,f):L.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await bu(i.remoteStore):n==="acknowledged"||n==="rejected"?(uS(i,e,r||null),lS(i,e),function(a,l){Q(Q(a).mutationQueue).On(l)}(i.localStore,e)):X(),await ls(i,s)):z("SyncEngine","Cannot apply mutation batch with id: "+e)}async function OH(t,e){const n=Q(t);if(Vg(n),dS(n),e===!0&&n.Qa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await MR(n,r.toArray());n.Qa=!0,await g0(n.remoteStore,!0);for(const s of i)Lg(n.remoteStore,s)}else if(e===!1&&n.Qa!==!1){const r=[];let i=Promise.resolve();n.Ma.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(nu(n,o),Zl(n.localStore,o,!0))),eu(n.remoteStore,o)}),await i,await MR(n,r),function(o){const a=Q(o);a.Na.forEach((l,u)=>{eu(a.remoteStore,u)}),a.La.pr(),a.Na=new Map,a.Oa=new $e(K.comparator)}(n),n.Qa=!1,await g0(n.remoteStore,!1)}}async function MR(t,e,n){const r=Q(t),i=[],s=[];for(const o of e){let a;const l=r.Ma.get(o);if(l&&l.length!==0){a=await Xl(r.localStore,bn(l[0]));for(const u of l){const d=r.Fa.get(u),h=await kH(r,d);h.snapshot&&s.push(h.snapshot)}}else{const u=await jD(r.localStore,o);a=await Xl(r.localStore,u),await aS(r,iN(u),o,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(s),i}function iN(t){return HO(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function DH(t){return function(n){return Q(Q(n).persistence).Qi()}(Q(t).localStore)}async function NH(t,e,n,r){const i=Q(t);if(i.Qa)return void z("SyncEngine","Ignoring unexpected query state notification.");const s=i.Ma.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await BD(i.localStore,KO(s[0])),a=Sh.createSynthesizedRemoteEventForCurrentChange(e,n==="current",yt.EMPTY_BYTE_STRING);await ls(i,o,a);break}case"rejected":await Zl(i.localStore,e,!0),nu(i,e,r);break;default:X()}}async function MH(t,e,n){const r=Vg(t);if(r.Qa){for(const i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){z("SyncEngine","Adding an already active target "+i);continue}const s=await jD(r.localStore,i),o=await Xl(r.localStore,s);await aS(r,iN(s),o.targetId,!1,o.resumeToken),Lg(r.remoteStore,o)}for(const i of n)r.Ma.has(i)&&await Zl(r.localStore,i,!1).then(()=>{eu(r.remoteStore,i),nu(r,i)}).catch(yo)}}function Vg(t){const e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SH.bind(null,e),e.Ca.d_=cH.bind(null,e.eventManager),e.Ca.$a=dH.bind(null,e.eventManager),e}function dS(t){const e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TH.bind(null,e),e}function LH(t,e,n){const r=Q(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(g,_){const v=Q(g),I=It(_.createTime);return v.persistence.runTransaction("hasNewerBundle","readonly",T=>v.Gr.getBundleMetadata(T,_.id)).then(T=>!!T&&T.createTime.compareTo(I)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(JD(l));const u=new fH(l,s.localStore,o.serializer);let d=await o.Ua();for(;d;){const f=await u.la(d);f&&a._updateProgress(f),d=await o.Ua()}const h=await u.complete();return await ls(s,h.Ia,void 0),await function(g,_){const v=Q(g);return v.persistence.runTransaction("Save bundle","readwrite",I=>v.Gr.saveBundleMetadata(I,_))}(s.localStore,l),a._completeWith(h.progress),Promise.resolve(h.Pa)}catch(l){return pi("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Vd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Th(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return LD(this.persistence,new MD,e.initialUser,this.serializer)}Ga(e){return new ND(Mg.Zr,this.serializer)}Wa(e){return new zD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vd.provider={build:()=>new Vd};class sN extends Vd{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await dS(this.Ja.syncEngine),await bu(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return LD(this.persistence,new MD,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new w7(r,e.asyncQueue,n)}Ha(e,n){const r=new tq(n,this.persistence);return new eq(e.asyncQueue,r)}Ga(e){const n=YE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new KE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,WD(),up(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new zD}}class VH extends sN{constructor(e,n){super(e,n,!1),this.Ja=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Ja.syncEngine;this.sharedClientState instanceof T_&&(this.sharedClientState.syncEngine={no:xH.bind(null,n),ro:NH.bind(null,n),io:MH.bind(null,n),Qi:DH.bind(null,n),eo:CH.bind(null,n)},await this.sharedClientState.start()),await this.persistence.yi(async r=>{await OH(this.Ja.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Wa(e){const n=WD();if(!T_.D(n))throw new $(V.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=YE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new T_(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Fd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AH.bind(null,this.syncEngine),await g0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uH}()}createDatastore(e){const n=Th(e.databaseInfo.databaseId),r=function(s){return new H7(s)}(e.databaseInfo);return function(s,o,a,l){return new Y7(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new J7(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>NR(this.syncEngine,n,0),function(){return PR.D()?new PR:new z7}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new gH(i,s,o,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Q(i);z("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Tu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fd.provider={build:()=>new Fd};function LR(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):St("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e,n){this.Xa=e,this.serializer=n,this.metadata=new Xt,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.aa)}`))},r=>this.metadata.reject(r))}close(){return this.Xa.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.tu()}async tu(){const e=await this.nu();if(e===null)return null;const n=this.eu.decode(e),r=Number(n);isNaN(r)&&this.ru(`length string (${n}) is not valid number`);const i=await this.iu(r);return new hH(JSON.parse(i),e.length+r)}su(){return this.buffer.findIndex(e=>e===123)}async nu(){for(;this.su()<0&&!await this.ou(););if(this.buffer.length===0)return null;const e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async iu(e){for(;this.buffer.length<e;)await this.ou()&&this.ru("Reached the end of bundle when more is expected.");const n=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ou(){const e=await this.Xa.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new $(V.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=Q(i),a={documents:s.map(h=>Md(o.serializer,h))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,ye.emptyPath(),a,s.length),u=new Map;l.forEach(h=>{const f=e7(o.serializer,h);u.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=u.get(h.toString());te(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Iu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=K.fromPath(r);this.mutations.push(new FE(i,this.precondition(i)))}),await async function(r,i){const s=Q(r),o={writes:i.map(a=>Ld(s.serializer,a))};await s.Mo("Commit",s.serializer.databaseId,ye.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw X();n=ne.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new $(V.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ne.min())?tt.exists(!1):tt.updateTime(n):tt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ne.min()))throw new $(V.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tt.updateTime(n)}return tt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this._u=r.maxAttempts,this.t_=new XE(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new UH(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!yh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!aD(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=SO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{z("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Au(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function R_(t,e){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await VD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function VR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hS(t);z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>kR(e.remoteStore,i)),t._onlineComponents=e}async function hS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{await R_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===V.FAILED_PRECONDITION||i.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;pi("Error using user provided cache. Falling back to memory cache: "+n),await R_(t,new Vd)}}else z("FirestoreClient","Using default OfflineComponentProvider"),await R_(t,new Vd);return t._offlineComponents}async function Ug(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),await VR(t,t._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),await VR(t,new Fd))),t._onlineComponents}function oN(t){return hS(t).then(e=>e.persistence)}function fS(t){return hS(t).then(e=>e.localStore)}function aN(t){return Ug(t).then(e=>e.remoteStore)}function pS(t){return Ug(t).then(e=>e.syncEngine)}function $H(t){return Ug(t).then(e=>e.datastore)}async function ru(t){const e=await Ug(t),n=e.eventManager;return n.onListen=yH.bind(null,e.syncEngine),n.onUnlisten=vH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_H.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wH.bind(null,e.syncEngine),n}function zH(t){return t.asyncQueue.enqueue(async()=>{const e=await oN(t),n=await aN(t);return e.setNetworkEnabled(!0),function(i){const s=Q(i);return s.L_.delete(0),bh(s)}(n)})}function WH(t){return t.asyncQueue.enqueue(async()=>{const e=await oN(t),n=await aN(t);return e.setNetworkEnabled(!1),async function(i){const s=Q(i);s.L_.add(0),await Tu(s),s.q_.set("Offline")}(n)})}function qH(t,e){const n=new Xt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(u,d){const h=Q(u);return h.persistence.runTransaction("read document","readonly",f=>h.localDocuments.getDocument(f,d))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new $(V.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Au(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await fS(t),e,n)),n.promise}function lN(t,e,n={}){const r=new Xt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new Fg({next:f=>{d.Za(),o.enqueueAndForget(()=>iS(s,h));const g=f.docs.has(a);!g&&f.fromCache?u.reject(new $(V.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?u.reject(new $(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new oS(Eu(a.path),d,{includeMetadataChanges:!0,_a:!0});return rS(s,h)}(await ru(t),t.asyncQueue,e,n,r)),r.promise}function HH(t,e){const n=new Xt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await gm(i,s,!0),l=new eN(s,a.Ts),u=l.ma(a.documents),d=l.applyChanges(u,!1);o.resolve(d.snapshot)}catch(a){const l=Au(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await fS(t),e,n)),n.promise}function uN(t,e,n={}){const r=new Xt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new Fg({next:f=>{d.Za(),o.enqueueAndForget(()=>iS(s,h)),f.fromCache&&l.source==="server"?u.reject(new $(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new oS(a,d,{includeMetadataChanges:!0,_a:!0});return rS(s,h)}(await ru(t),t.asyncQueue,e,n,r)),r.promise}function GH(t,e){const n=new Fg(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){Q(i).Y_.add(s),s.next()}(await ru(t),n)),()=>{n.Za(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){Q(i).Y_.delete(s)}(await ru(t),n))}}function KH(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?uD().encode(o):o,function(d,h){return new FH(d,h)}(function(d,h){if(d instanceof Uint8Array)return LR(d,h);if(d instanceof ArrayBuffer)return LR(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,Th(e));t.asyncQueue.enqueueAndForget(async()=>{LH(await pS(t),i,r)})}function YH(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=Q(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,i))}(await fS(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t,e,n){if(!n)throw new $(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dN(t,e,n,r){if(e===!0&&r===!0)throw new $(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function UR(t){if(!K.isDocumentKey(t))throw new $(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jR(t){if(K.isDocumentKey(t))throw new $(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function Re(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jg(t);throw new $(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function hN(t,e){if(e<=0)throw new $(V.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BR({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new z8;switch(r.type){case"firstParty":return new G8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=FR.get(n);r&&(z("ComponentProvider","Removing Datastore"),FR.delete(n),r.terminate())}(this),Promise.resolve()}}function QH(t,e,n,r={}){var i;const s=(t=Re(t,Rh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&pi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=$t.MOCK_USER;else{a=G6(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new $(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new $t(u)}t._authCredentials=new W8(new EO(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rn=class fN{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fN(this.firestore,e,this._query)}},at=class pN{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pN(this.firestore,e,this._key)}},qs=class mN extends Rn{constructor(e,n,r){super(e,n,Eu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new at(this.firestore,null,new K(e))}withConverter(e){return new mN(this.firestore,e,this._path)}};function gN(t,e,...n){if(t=ie(t),mS("collection","path",e),t instanceof Rh){const r=ye.fromString(e,...n);return jR(r),new qs(t,null,r)}{if(!(t instanceof at||t instanceof qs))throw new $(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return jR(r),new qs(t.firestore,null,r)}}function JH(t,e){if(t=Re(t,Rh),mS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $(V.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Rn(t,null,function(r){return new os(ye.emptyPath(),r)}(e))}function wm(t,e,...n){if(t=ie(t),arguments.length===1&&(e=SO.newId()),mS("doc","path",e),t instanceof Rh){const r=ye.fromString(e,...n);return UR(r),new at(t,null,new K(r))}{if(!(t instanceof at||t instanceof qs))throw new $(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return UR(r),new at(t.firestore,t instanceof qs?t.converter:null,new K(r))}}function yN(t,e){return t=ie(t),e=ie(e),(t instanceof at||t instanceof qs)&&(e instanceof at||e instanceof qs)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function _N(t,e){return t=ie(t),e=ie(e),t instanceof Rn&&e instanceof Rn&&t.firestore===e.firestore&&vh(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new XE(this,"async_queue_retry"),this.Vu=()=>{const r=up();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=up();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=up();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Xt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!_o(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw St("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=nS.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&X()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function v0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class XH{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH=-1;let Tt=class extends Rh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new $R,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $R(e),this._firestoreClient=void 0,await e}}};function pn(t){if(t._terminated)throw new $(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vN(t),t._firestoreClient}function vN(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new Iq(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,cN(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new BH(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function eG(t,e){pi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return wN(t,Fd.provider,{build:r=>new sN(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function tG(t){pi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();wN(t,Fd.provider,{build:n=>new VH(n,e.cacheSizeBytes)})}function wN(t,e,n){if((t=Re(t,Tt))._firestoreClient||t._terminated)throw new $(V.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new $(V.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},vN(t)}function nG(t){if(t._initialized&&!t._terminated)throw new $(V.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Xt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!ci.D())return Promise.resolve();const i=r+"main";await ci.delete(i)}(YE(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function rG(t){return function(n){const r=new Xt;return n.asyncQueue.enqueueAndForget(async()=>bH(await pS(n),r)),r.promise}(pn(t=Re(t,Tt)))}function iG(t){return zH(pn(t=Re(t,Tt)))}function sG(t){return WH(pn(t=Re(t,Tt)))}function oG(t,e){const n=pn(t=Re(t,Tt)),r=new XH;return KH(n,t._databaseId,e,r),r}function aG(t,e){return YH(pn(t=Re(t,Tt)),e).then(n=>n?new Rn(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gi(yt.fromBase64String(e))}catch(n){throw new $(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gi(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=/^__.*__$/;class uG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new as(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}class EN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new as(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class $g{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new $g(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Em(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(SN(this.Cu)&&lG.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class cG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Th(e)}Qu(e,n,r,i=!1){return new $g({Cu:e,methodName:n,qu:r,path:et.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ra(t){const e=t._freezeSettings(),n=Th(t._databaseId);return new cG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zg(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);IS("Data must be an object, but it was:",o,r);const a=bN(r,o);let l,u;if(s.merge)l=new Mn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=w0(e,h,n);if(!o.contains(f))throw new $(V.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);AN(d,f)||d.push(f)}l=new Mn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new uG(new Qt(a),l,u)}class Ah extends ba{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ah}}function IN(t,e,n){return new $g({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yS extends ba{_toFieldTransform(e){return new Eh(e.path,new Yl)}isEqual(e){return e instanceof yS}}class _S extends ba{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=IN(this,e,!0),r=this.Ku.map(s=>Aa(s,n)),i=new ha(r);return new Eh(e.path,i)}isEqual(e){return e instanceof _S&&jl(this.Ku,e.Ku)}}class vS extends ba{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=IN(this,e,!0),r=this.Ku.map(s=>Aa(s,n)),i=new fa(r);return new Eh(e.path,i)}isEqual(e){return e instanceof vS&&jl(this.Ku,e.Ku)}}class wS extends ba{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Ql(e.serializer,eD(e.serializer,this.$u));return new Eh(e.path,n)}isEqual(e){return e instanceof wS&&this.$u===e.$u}}function ES(t,e,n,r){const i=t.Qu(1,e,n);IS("Data must be an object, but it was:",i,r);const s=[],o=Qt.empty();Ta(r,(l,u)=>{const d=TS(e,l,n);u=ie(u);const h=i.Nu(d);if(u instanceof Ah)s.push(d);else{const f=Aa(u,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new Mn(s);return new EN(o,a,i.fieldTransforms)}function SS(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[w0(e,r,n)],l=[i];if(s.length%2!=0)throw new $(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(w0(e,s[f])),l.push(s[f+1]);const u=[],d=Qt.empty();for(let f=a.length-1;f>=0;--f)if(!AN(u,a[f])){const g=a[f];let _=l[f];_=ie(_);const v=o.Nu(g);if(_ instanceof Ah)u.push(g);else{const I=Aa(_,v);I!=null&&(u.push(g),d.set(g,I))}}const h=new Mn(u);return new EN(d,h,o.fieldTransforms)}function TN(t,e,n,r=!1){return Aa(n,t.Qu(r?4:3,e))}function Aa(t,e){if(RN(t=ie(t)))return IS("Unsupported field value:",e,t),bN(t,e);if(t instanceof ba)return function(r,i){if(!SN(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Aa(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ie(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=nt.fromDate(r);return{timestampValue:Jl(i.serializer,s)}}if(r instanceof nt){const s=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jl(i.serializer,s)}}if(r instanceof Bg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gi)return{bytesValue:hD(i.serializer,r._byteString)};if(r instanceof at){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:zE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof gS)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return VE(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${jg(r)}`)}(t,e)}function bN(t,e){const n={};return NO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(t,(r,i)=>{const s=Aa(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function RN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof Bg||t instanceof gi||t instanceof at||t instanceof ba||t instanceof gS)}function IS(t,e,n){if(!RN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=jg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function w0(t,e,n){if((e=ie(e))instanceof ao)return e._internalPath;if(typeof e=="string")return TS(t,e);throw Em("Field path arguments must be of type string or ",t,!1,void 0,n)}const dG=new RegExp("[~\\*/\\[\\]]");function TS(t,e,n){if(e.search(dG)>=0)throw Em(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ao(...e.split("."))._internalPath}catch{throw Em(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Em(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $(V.INVALID_ARGUMENT,a+t+l)}function AN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hG extends Ud{data(){return super.data()}}function Wg(t,e){return typeof e=="string"?TS(t,e):e instanceof ao?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bS{}class Ph extends bS{}function ws(t,e,...n){let r=[];e instanceof bS&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof RS).length,a=s.filter(l=>l instanceof qg).length;if(o>1||o>0&&a>0)throw new $(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class qg extends Ph{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qg(e,n,r)}_apply(e){const n=this._parse(e);return CN(e._query,n),new Rn(e.firestore,e.converter,a0(e._query,n))}_parse(e){const n=Ra(e.firestore);return function(s,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new $(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){WR(h,d);const g=[];for(const _ of h)g.push(zR(l,s,_));f={arrayValue:{values:g}}}else f=zR(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||WR(h,d),f=TN(a,o,h,d==="in"||d==="not-in");return _e.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fG(t,e,n){const r=e,i=Wg("where",t);return qg._create(i,r,n)}class RS extends bS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new RS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:De.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)CN(o,l),o=a0(o,l)}(e._query,n),new Rn(e.firestore,e.converter,a0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class AS extends Ph{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new AS(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new $(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nd(s,o)}(e._query,this._field,this._direction);return new Rn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new os(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function pG(t,e="asc"){const n=e,r=Wg("orderBy",t);return AS._create(r,n)}class Hg extends Ph{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Hg(e,n,r)}_apply(e){return new Rn(e.firestore,e.converter,hm(e._query,this._limit,this._limitType))}}function mG(t){return hN("limit",t),Hg._create("limit",t,"F")}function gG(t){return hN("limitToLast",t),Hg._create("limitToLast",t,"L")}class Gg extends Ph{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Gg(e,n,r)}_apply(e){const n=kN(e,this.type,this._docOrFields,this._inclusive);return new Rn(e.firestore,e.converter,function(i,s){return new os(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function yG(...t){return Gg._create("startAt",t,!0)}function _G(...t){return Gg._create("startAfter",t,!1)}class Kg extends Ph{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Kg(e,n,r)}_apply(e){const n=kN(e,this.type,this._docOrFields,this._inclusive);return new Rn(e.firestore,e.converter,function(i,s){return new os(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function vG(...t){return Kg._create("endBefore",t,!1)}function wG(...t){return Kg._create("endAt",t,!0)}function kN(t,e,n,r){if(n[0]=ie(n[0]),n[0]instanceof Ud)return function(s,o,a,l,u){if(!l)throw new $(V.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const h of Al(s))if(h.field.isKeyField())d.push(ca(o,l.key));else{const f=l.data.field(h.field);if(kg(f))throw new $(V.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const g=h.field.canonicalString();throw new $(V.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}d.push(f)}return new so(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Ra(t.firestore);return function(o,a,l,u,d,h){const f=o.explicitOrderBy;if(d.length>f.length)throw new $(V.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let _=0;_<d.length;_++){const v=d[_];if(f[_].field.isKeyField()){if(typeof v!="string")throw new $(V.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof v}`);if(!ME(o)&&v.indexOf("/")!==-1)throw new $(V.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${v}' contains a slash.`);const I=o.path.child(ye.fromString(v));if(!K.isDocumentKey(I))throw new $(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const T=new K(I);g.push(ca(a,T))}else{const I=TN(l,u,v);g.push(I)}}return new so(g,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function zR(t,e,n){if(typeof(n=ie(n))=="string"){if(n==="")throw new $(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ME(e)&&n.indexOf("/")!==-1)throw new $(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ye.fromString(n));if(!K.isDocumentKey(r))throw new $(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ca(t,new K(r))}if(n instanceof at)return ca(t,n._key);throw new $(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jg(n)}.`)}function WR(t,e){if(!Array.isArray(t)||t.length===0)throw new $(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CN(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class PS{convertValue(e,n="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(no(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ta(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Xe(o.doubleValue));return new gS(s)}convertGeoPoint(e){return new Bg(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=DE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xd(e));default:return null}}convertTimestamp(e){const n=Zi(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ye.fromString(e);te(ID(r));const i=new ro(r.get(1),r.get(3)),s=new K(r.popFirst(5));return i.isEqual(n)||St(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class EG extends PS{constructor(e){super(),this.firestore=e}convertBytes(e){return new gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let es=class extends Ud{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Kc=class extends es{data(e={}){return super.data(e)}},lo=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kc(this._firestore,this._userDataWriter,r.key,r,new qo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Kc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Kc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:SG(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function SG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}function xN(t,e){return t instanceof es&&e instanceof es?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof lo&&e instanceof lo&&t._firestore===e._firestore&&_N(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IG(t){t=Re(t,at);const e=Re(t.firestore,Tt);return lN(pn(e),t._key).then(n=>kS(e,t,n))}class Pa extends PS{constructor(e){super(),this.firestore=e}convertBytes(e){return new gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,n)}}function TG(t){t=Re(t,at);const e=Re(t.firestore,Tt),n=pn(e),r=new Pa(e);return qH(n,t._key).then(i=>new es(e,r,t._key,i,new qo(i!==null&&i.hasLocalMutations,!0),t.converter))}function bG(t){t=Re(t,at);const e=Re(t.firestore,Tt);return lN(pn(e),t._key,{source:"server"}).then(n=>kS(e,t,n))}function RG(t){t=Re(t,Rn);const e=Re(t.firestore,Tt),n=pn(e),r=new Pa(e);return PN(t._query),uN(n,t._query).then(i=>new lo(e,r,t,i))}function AG(t){t=Re(t,Rn);const e=Re(t.firestore,Tt),n=pn(e),r=new Pa(e);return HH(n,t._query).then(i=>new lo(e,r,t,i))}function PG(t){t=Re(t,Rn);const e=Re(t.firestore,Tt),n=pn(e),r=new Pa(e);return uN(n,t._query,{source:"server"}).then(i=>new lo(e,r,t,i))}function qR(t,e,n){t=Re(t,at);const r=Re(t.firestore,Tt),i=Yg(t.converter,e,n);return kh(r,[zg(Ra(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,tt.none())])}function HR(t,e,n,...r){t=Re(t,at);const i=Re(t.firestore,Tt),s=Ra(i);let o;return o=typeof(e=ie(e))=="string"||e instanceof ao?SS(s,"updateDoc",t._key,e,n,r):ES(s,"updateDoc",t._key,e),kh(i,[o.toMutation(t._key,tt.exists(!0))])}function kG(t){return kh(Re(t.firestore,Tt),[new Iu(t._key,tt.none())])}function CG(t,e){const n=Re(t.firestore,Tt),r=wm(t),i=Yg(t.converter,e);return kh(n,[zg(Ra(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,tt.exists(!1))]).then(()=>r)}function ON(t,...e){var n,r,i;t=ie(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||v0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(v0(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(t instanceof at)u=Re(t.firestore,Tt),d=Eu(t._key.path),l={next:h=>{e[o]&&e[o](kS(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Re(t,Rn);u=Re(h.firestore,Tt),d=h._query;const f=new Pa(u);l={next:g=>{e[o]&&e[o](new lo(u,f,h,g))},error:e[o+1],complete:e[o+2]},PN(t._query)}return function(f,g,_,v){const I=new Fg(v),T=new oS(g,I,_);return f.asyncQueue.enqueueAndForget(async()=>rS(await ru(f),T)),()=>{I.Za(),f.asyncQueue.enqueueAndForget(async()=>iS(await ru(f),T))}}(pn(u),d,a,l)}function xG(t,e){return GH(pn(t=Re(t,Tt)),v0(e)?e:{next:e})}function kh(t,e){return function(r,i){const s=new Xt;return r.asyncQueue.enqueueAndForget(async()=>EH(await pS(r),i,s)),s.promise}(pn(t),e)}function kS(t,e,n){const r=n.docs.get(e._key),i=new Pa(t);return new es(t,i,e._key,r,new qo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OG={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DG=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ra(e)}set(e,n,r){this._verifyNotCommitted();const i=As(e,this._firestore),s=Yg(i.converter,n,r),o=zg(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,tt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=As(e,this._firestore);let o;return o=typeof(n=ie(n))=="string"||n instanceof ao?SS(this._dataReader,"WriteBatch.update",s._key,n,r,i):ES(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,tt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=As(e,this._firestore);return this._mutations=this._mutations.concat(new Iu(n._key,tt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $(V.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function As(t,e){if((t=ie(t)).firestore!==e)throw new $(V.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NG=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Ra(n)}get(n){const r=As(n,this._firestore),i=new EG(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return X();const o=s[0];if(o.isFoundDocument())return new Ud(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Ud(this._firestore,i,r._key,null,r.converter);throw X()})}set(n,r,i){const s=As(n,this._firestore),o=Yg(s.converter,r,i),a=zg(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=As(n,this._firestore);let a;return a=typeof(r=ie(r))=="string"||r instanceof ao?SS(this._dataReader,"Transaction.update",o._key,r,i,s):ES(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=As(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=As(e,this._firestore),r=new Pa(this._firestore);return super.get(e).then(i=>new es(this._firestore,r,n._key,i._document,new qo(!1,!1),n.converter))}};function MG(t,e,n){t=Re(t,Tt);const r=Object.assign(Object.assign({},OG),n);return function(s){if(s.maxAttempts<1)throw new $(V.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Xt;return s.asyncQueue.enqueueAndForget(async()=>{const u=await $H(s);new jH(s.asyncQueue,u,a,o,l).au()}),l.promise}(pn(t),i=>e(new NG(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LG(){return new Ah("deleteField")}function VG(){return new yS("serverTimestamp")}function FG(...t){return new _S("arrayUnion",t)}function UG(...t){return new vS("arrayRemove",t)}function jG(t){return new wS("increment",t)}(function(e,n=!0){(function(i){wu=i})(mo),Zs(new hi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Tt(new q8(r.getProvider("auth-internal")),new Y8(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Mr(Mb,"4.7.3",e),Mr(Mb,"4.7.3","esm2017")})();const BG="@firebase/firestore-compat",$G="0.3.38";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new $("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){if(typeof Uint8Array>"u")throw new $("unimplemented","Uint8Arrays are not available in this environment.")}function KR(){if(!Eq())throw new $("unimplemented","Blobs are unavailable in Firestore in this environment.")}let DN=class E0{constructor(e){this._delegate=e}static fromBase64String(e){return KR(),new E0(gi.fromBase64String(e))}static fromUint8Array(e){return GR(),new E0(gi.fromUint8Array(e))}toBase64(){return KR(),this._delegate.toBase64()}toUint8Array(){return GR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t){return zG(t,["next","error","complete"])}function zG(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{enableIndexedDbPersistence(e,n){return eG(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return tG(e._delegate)}clearIndexedDbPersistence(e){return nG(e._delegate)}}class NN{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ro||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&pi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){QH(this._delegate,e,n,r)}enableNetwork(){return iG(this._delegate)}disableNetwork(){return sG(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,dN("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return rG(this._delegate)}onSnapshotsInSync(e){return xG(this._delegate,e)}get app(){if(!this._appCompat)throw new $("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new iu(this,gN(this._delegate,e))}catch(n){throw En(n,"collection()","Firestore.collection()")}}doc(e){try{return new dr(this,wm(this._delegate,e))}catch(n){throw En(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new wn(this,JH(this._delegate,e))}catch(n){throw En(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return MG(this._delegate,n=>e(new MN(this,n)))}batch(){return pn(this._delegate),new LN(new DG(this._delegate,e=>kh(this._delegate,e)))}loadBundle(e){return oG(this._delegate,e)}namedQuery(e){return aG(this._delegate,e).then(n=>n?new wn(this,n):null)}}class Qg extends PS{constructor(e){super(),this.firestore=e}convertBytes(e){return new DN(new gi(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return dr.forKey(n,this.firestore,null)}}function qG(t){B8(t)}class MN{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Qg(e)}get(e){const n=Ho(e);return this._delegate.get(n).then(r=>new jd(this._firestore,new es(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Ho(e);return r?(CS("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Ho(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Ho(e);return this._delegate.delete(n),this}}class LN{constructor(e){this._delegate=e}set(e,n,r){const i=Ho(e);return r?(CS("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Ho(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Ho(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ya{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Kc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Bd(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=ya.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new ya(e,new Qg(e),n),i.set(n,s)),s}}ya.INSTANCES=new WeakMap;class dr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Qg(e)}static forPath(e,n,r){if(e.length%2!==0)throw new $("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new dr(n,new at(n._delegate,r,new K(e)))}static forKey(e,n,r){return new dr(n,new at(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new iu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new iu(this.firestore,gN(this._delegate,e))}catch(n){throw En(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ie(e),e instanceof at?yN(this._delegate,e):!1}set(e,n){n=CS("DocumentReference.set",n);try{return n?qR(this._delegate,e,n):qR(this._delegate,e)}catch(r){throw En(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?HR(this._delegate,e):HR(this._delegate,e,n,...r)}catch(i){throw En(i,"updateDoc()","DocumentReference.update()")}}delete(){return kG(this._delegate)}onSnapshot(...e){const n=VN(e),r=FN(e,i=>new jd(this.firestore,new es(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return ON(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=TG(this._delegate):(e==null?void 0:e.source)==="server"?n=bG(this._delegate):n=IG(this._delegate),n.then(r=>new jd(this.firestore,new es(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new dr(this.firestore,e?this._delegate.withConverter(ya.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function En(t,e,n){return t.message=t.message.replace(e,n),t}function VN(t){for(const e of t)if(typeof e=="object"&&!S0(e))return e;return{}}function FN(t,e){var n,r;let i;return S0(t[0])?i=t[0]:S0(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class jd{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new dr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return xN(this._delegate,e._delegate)}}class Bd extends jd{data(e){const n=this._delegate.data(e);return this._delegate._converter||$8(n!==void 0),n}}class wn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Qg(e)}where(e,n,r){try{return new wn(this.firestore,ws(this._delegate,fG(e,n,r)))}catch(i){throw En(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new wn(this.firestore,ws(this._delegate,pG(e,n)))}catch(r){throw En(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new wn(this.firestore,ws(this._delegate,mG(e)))}catch(n){throw En(n,"limit()","Query.limit()")}}limitToLast(e){try{return new wn(this.firestore,ws(this._delegate,gG(e)))}catch(n){throw En(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new wn(this.firestore,ws(this._delegate,yG(...e)))}catch(n){throw En(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new wn(this.firestore,ws(this._delegate,_G(...e)))}catch(n){throw En(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new wn(this.firestore,ws(this._delegate,vG(...e)))}catch(n){throw En(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new wn(this.firestore,ws(this._delegate,wG(...e)))}catch(n){throw En(n,"endAt()","Query.endAt()")}}isEqual(e){return _N(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=AG(this._delegate):(e==null?void 0:e.source)==="server"?n=PG(this._delegate):n=RG(this._delegate),n.then(r=>new I0(this.firestore,new lo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=VN(e),r=FN(e,i=>new I0(this.firestore,new lo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return ON(this._delegate,n,r)}withConverter(e){return new wn(this.firestore,e?this._delegate.withConverter(ya.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class HG{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Bd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class I0{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new wn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Bd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new HG(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Bd(this._firestore,r))})}isEqual(e){return xN(this._delegate,e._delegate)}}class iu extends wn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new dr(this.firestore,e):null}doc(e){try{return e===void 0?new dr(this.firestore,wm(this._delegate)):new dr(this.firestore,wm(this._delegate,e))}catch(n){throw En(n,"doc()","CollectionReference.doc()")}}add(e){return CG(this._delegate,e).then(n=>new dr(this.firestore,n))}isEqual(e){return yN(this._delegate,e._delegate)}withConverter(e){return new iu(this.firestore,e?this._delegate.withConverter(ya.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ho(t){return Re(t,at)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(...e){this._delegate=new ao(...e)}static documentId(){return new xS(et.keyField().canonicalString())}isEqual(e){return e=ie(e),e instanceof ao?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._delegate=e}static serverTimestamp(){const e=VG();return e._methodName="FieldValue.serverTimestamp",new Uo(e)}static delete(){const e=LG();return e._methodName="FieldValue.delete",new Uo(e)}static arrayUnion(...e){const n=FG(...e);return n._methodName="FieldValue.arrayUnion",new Uo(n)}static arrayRemove(...e){const n=UG(...e);return n._methodName="FieldValue.arrayRemove",new Uo(n)}static increment(e){const n=jG(e);return n._methodName="FieldValue.increment",new Uo(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG={Firestore:NN,GeoPoint:Bg,Timestamp:nt,Blob:DN,Transaction:MN,WriteBatch:LN,DocumentReference:dr,DocumentSnapshot:jd,Query:wn,QueryDocumentSnapshot:Bd,QuerySnapshot:I0,CollectionReference:iu,FieldPath:xS,FieldValue:Uo,setLogLevel:qG,CACHE_SIZE_UNLIMITED:ZH};function KG(t,e){t.INTERNAL.registerComponent(new hi("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},GG)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YG(t){KG(t,(e,n)=>new NN(e,n,new WG)),t.registerVersion(BG,$G)}YG(gu);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG=2e3;async function JG(t,e,n){var r;const{BuildInfo:i}=_a();Vr(e.sessionId,"AuthEvent did not contain a session ID");const s=await nK(e.sessionId),o={};return hh()?o.ibi=i.packageName:dh()?o.apn=i.packageName:qt(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Xv(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function XG(t){const{BuildInfo:e}=_a(),n={};hh()?n.iosBundleId=e.packageName:dh()?n.androidPackageName=e.packageName:qt(t,"operation-not-supported-in-this-environment"),await hO(t,n)}function ZG(t){const{cordova:e}=_a();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,H9()?"_blank":"_system","location=yes"),n(i)})})}async function eK(t,e,n){const{cordova:r}=_a();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var h;s();const f=(h=r.plugins.browsertab)===null||h===void 0?void 0:h.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(Lt(t,"redirect-cancelled-by-user"))},QG))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),dh()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",d,!1),a&&window.clearTimeout(a)}})}finally{i()}}function tK(t){var e,n,r,i,s,o,a,l,u,d;const h=_a();q(typeof((e=h==null?void 0:h.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(typeof((n=h==null?void 0:h.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q(typeof((s=(i=(r=h==null?void 0:h.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q(typeof((l=(a=(o=h==null?void 0:h.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q(typeof((d=(u=h==null?void 0:h.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function nK(t){const e=rK(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function rK(t){if(Vr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK=20;class sK extends cO{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function oK(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:uK(),postBody:null,tenantId:t.tenantId,error:Lt(t,"no-auth-event")}}function aK(t,e){return T0()._set(b0(t),e)}async function YR(t){const e=await T0()._get(b0(t));return e&&await T0()._remove(b0(t)),e}function lK(t,e){var n,r;const i=dK(e);if(i.includes("/__/auth/callback")){const s=cp(i),o=s.firebaseError?cK(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Lt(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function uK(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<iK;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function T0(){return Qn(Ig)}function b0(t){return Jo("authEvent",t.config.apiKey,t.name)}function cK(t){try{return JSON.parse(t)}catch{return null}}function dK(t){const e=cp(t),n=e.link?decodeURIComponent(e.link):void 0,r=cp(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return cp(i).link||i||r||n||t}function cp(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return fl(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK=500;class fK{constructor(){this._redirectPersistence=eo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ag,this._overrideRedirectResult=AE}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new sK(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){qt(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){tK(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),QW(),await this._originValidation(e);const o=oK(e,r,i);await aK(e,o);const a=await JG(e,o,n),l=await ZG(a);return eK(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XG(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=_a(),o=setTimeout(async()=>{await YR(e),n.onEvent(QR())},hK),a=async d=>{clearTimeout(o);const h=await YR(e);let f=null;h&&(d!=null&&d.url)&&(f=lK(h,d.url)),n.onEvent(f||QR())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;_a().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(u)&&a({url:d}),typeof l=="function")try{l(d)}catch(h){console.error(h)}}}}const pK=fK;function QR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Lt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mK(t,e){gt(t)._logFramework(e)}var gK="@firebase/auth-compat",yK="0.5.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _K=1e3;function Yc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function vK(){return Yc()==="http:"||Yc()==="https:"}function UN(t=ct()){return!!((Yc()==="file:"||Yc()==="ionic:"||Yc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function wK(){return oE()||sE()}function EK(){return sx()&&(document==null?void 0:document.documentMode)===11}function SK(t=ct()){return/Edge\/\d+/.test(t)}function IK(t=ct()){return EK()||SK(t)}function jN(){try{const t=self.localStorage,e=mh();if(t)return t.setItem(e,"1"),t.removeItem(e),IK()?Ed():!0}catch{return OS()&&Ed()}return!1}function OS(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function A_(){return(vK()||ix()||UN())&&!wK()&&jN()&&!OS()}function BN(){return UN()&&typeof document<"u"}async function TK(){return BN()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},_K);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function bK(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn={LOCAL:"local",NONE:"none",SESSION:"session"},lc=q,$N="persistence";function RK(t,e){if(lc(Object.values(Hn).includes(e),t,"invalid-persistence-type"),oE()){lc(e!==Hn.SESSION,t,"unsupported-persistence-type");return}if(sE()){lc(e===Hn.NONE,t,"unsupported-persistence-type");return}if(OS()){lc(e===Hn.NONE||e===Hn.LOCAL&&Ed(),t,"unsupported-persistence-type");return}lc(e===Hn.NONE||jN(),t,"unsupported-persistence-type")}async function R0(t){await t._initializationPromise;const e=zN(),n=Jo($N,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function AK(t,e){const n=zN();if(!n)return[];const r=Jo($N,t,e);switch(n.getItem(r)){case Hn.NONE:return[zl];case Hn.LOCAL:return[ql,eo];case Hn.SESSION:return[eo];default:return[]}}function zN(){var t;try{return((t=bK())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PK=q;class Os{constructor(){this.browserResolver=Qn(fO),this.cordovaResolver=Qn(pK),this.underlyingResolver=null,this._redirectPersistence=eo,this._completeRedirectFn=Ag,this._overrideRedirectResult=AE}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return BN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return PK(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await TK();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t){return t.unwrap()}function kK(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CK(t){return qN(t)}function xK(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new OK(t,iW(t,e))}else if(r){const i=qN(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function qN(t){const{_tokenResponse:e}=t instanceof In?t.customData:t;if(!e)return null;if(!(t instanceof In)&&"temporaryProof"in e&&"phoneNumber"in e)return la.credentialFromResult(t);const n=e.providerId;if(!n||n===nc.PASSWORD)return null;let r;switch(n){case nc.GOOGLE:r=Xr;break;case nc.FACEBOOK:r=Jr;break;case nc.GITHUB:r=Zr;break;case nc.TWITTER:r=ei;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Wl._create(n,a):fi._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new bl(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof In?r.credentialFromError(t):r.credentialFromResult(t)}function xn(t,e){return e.catch(n=>{throw n instanceof In&&xK(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:CK(n),additionalUserInfo:tW(n),user:Ui.getOrCreate(i)}})}async function A0(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>xn(t,n.confirm(r))}}class OK{constructor(e,n){this.resolver=n,this.auth=kK(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return xn(WN(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this._delegate=e,this.multiFactor=lW(e)}static getOrCreate(e){return Ui.USER_MAP.has(e)||Ui.USER_MAP.set(e,new Ui(e)),Ui.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return xn(this.auth,Hx(this._delegate,e))}async linkWithPhoneNumber(e,n){return A0(this.auth,VW(this._delegate,e,n))}async linkWithPopup(e){return xn(this.auth,HW(this._delegate,e,Os))}async linkWithRedirect(e){return await R0(gt(this.auth)),t8(this._delegate,e,Os)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return xn(this.auth,Gx(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return A0(this.auth,FW(this._delegate,e,n))}reauthenticateWithPopup(e){return xn(this.auth,qW(this._delegate,e,Os))}async reauthenticateWithRedirect(e){return await R0(gt(this.auth)),ZW(this._delegate,e,Os)}sendEmailVerification(e){return Wz(this._delegate,e)}async unlink(e){return await Oz(this._delegate,e),this}updateEmail(e){return Kz(this._delegate,e)}updatePassword(e){return Yz(this._delegate,e)}updatePhoneNumber(e){return UW(this._delegate,e)}updateProfile(e){return Gz(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return qz(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ui.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=q;class P0{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;uc(r,"invalid-api-key",{appName:e.name}),uc(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Os:void 0;this._delegate=n.initialize({options:{persistence:DK(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(b9),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ui.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){Fx(this._delegate,e,n)}applyActionCode(e){return Vz(this._delegate,e)}checkActionCode(e){return Kx(this._delegate,e)}confirmPasswordReset(e,n){return Lz(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return xn(this._delegate,Yx(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return zz(this._delegate,e)}isSignInWithEmailLink(e){return jz(this._delegate,e)}async getRedirectResult(){uc(A_(),this._delegate,"operation-not-supported-in-this-environment");const e=await r8(this._delegate,Os);return e?xn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){mK(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=JR(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=JR(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return Uz(this._delegate,e,n)}sendPasswordResetEmail(e,n){return Mz(this._delegate,e,n||void 0)}async setPersistence(e){RK(this._delegate,e);let n;switch(e){case Hn.SESSION:n=eo;break;case Hn.LOCAL:n=await Qn(ql)._isAvailable()?ql:Ig;break;case Hn.NONE:n=zl;break;default:return qt("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return xn(this._delegate,xz(this._delegate))}signInWithCredential(e){return xn(this._delegate,Eg(this._delegate,e))}signInWithCustomToken(e){return xn(this._delegate,Nz(this._delegate,e))}signInWithEmailAndPassword(e,n){return xn(this._delegate,Qx(this._delegate,e,n))}signInWithEmailLink(e,n){return xn(this._delegate,Bz(this._delegate,e,n))}signInWithPhoneNumber(e,n){return A0(this._delegate,LW(this._delegate,e,n))}async signInWithPopup(e){return uc(A_(),this._delegate,"operation-not-supported-in-this-environment"),xn(this._delegate,WW(this._delegate,e,Os))}async signInWithRedirect(e){return uc(A_(),this._delegate,"operation-not-supported-in-this-environment"),await R0(this._delegate),JW(this._delegate,e,Os)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Fz(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}P0.Persistence=Hn;function JR(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&Ui.getOrCreate(o)),error:e,complete:n}}function DK(t,e){const n=AK(t,e);if(typeof self<"u"&&!n.includes(ql)&&n.push(ql),typeof window<"u")for(const r of[Ig,eo])n.includes(r)||n.push(r);return n.includes(zl)||n.push(zl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.providerId="phone",this._delegate=new la(WN(gu.auth()))}static credential(e,n){return la.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}DS.PHONE_SIGN_IN_METHOD=la.PHONE_SIGN_IN_METHOD;DS.PROVIDER_ID=la.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NK=q;class MK{constructor(e,n,r=gu.app()){var i;NK((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new NW(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LK="auth-compat";function VK(t){t.INTERNAL.registerComponent(new hi(LK,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new P0(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$a.EMAIL_SIGNIN,PASSWORD_RESET:$a.PASSWORD_RESET,RECOVER_EMAIL:$a.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:$a.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:$a.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:$a.VERIFY_EMAIL}},EmailAuthProvider:go,FacebookAuthProvider:Jr,GithubAuthProvider:Zr,GoogleAuthProvider:Xr,OAuthProvider:bl,SAMLAuthProvider:sm,PhoneAuthProvider:DS,PhoneMultiFactorGenerator:pO,RecaptchaVerifier:MK,TwitterAuthProvider:ei,Auth:P0,AuthCredential:_u,Error:In}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(gK,yK)}VK(gu);const FK={apiKey:"AIzaSyBQVH-w28_E8vGOpTA7CzT6hMLDB_Pw24k",authDomain:"clone-1c9ee.firebaseapp.com",projectId:"clone-1c9ee",storageBucket:"clone-1c9ee.firebasestorage.app",messagingSenderId:"534354125578",appId:"1:534354125578:web:84a1187b44e3891782d0f3"},HN=gu.initializeApp(FK),Sm=U8(HN),GN=HN.firestore();function UK(t){return po({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(t)}function jK(){return P.jsx("div",{className:Ai.lower__container,children:P.jsxs("ul",{children:[P.jsxs("li",{children:[P.jsx(UK,{}),P.jsx("p",{children:"All"})]}),P.jsx("li",{children:"Today's Deals"}),P.jsx("li",{children:"Costumer Service"}),P.jsx("li",{children:"Registry"}),P.jsx("li",{children:"Gift Cards"}),P.jsx("li",{children:"Sell"})]})})}const BK=()=>{var s;const[{user:t,basket:e},n]=U.useContext(rs),r=e==null?void 0:e.reduce((o,a)=>a.amount+o,0),i=()=>{t&&(n({type:dn.EMPTY_BASKET}),Sm.signOut())};return P.jsxs("section",{className:Ai.fixed,children:[P.jsx("section",{children:P.jsxs("div",{className:Ai.header__container,children:[P.jsxs("div",{className:Ai.logo__container,children:[P.jsx(Oi,{to:"/",children:P.jsx("img",{src:L6,alt:"amazon logo"})}),P.jsxs("div",{className:Ai.delivery,children:[P.jsx("span",{children:P.jsx(M6,{})}),P.jsxs("div",{children:[P.jsx("p",{children:"Deliver to"}),P.jsx("span",{children:"Ethiopia"})]})]})]}),P.jsxs("div",{className:Ai.search,children:[P.jsxs("select",{name:"",id:"",children:[P.jsx("option",{value:"",children:"All"}),P.jsx("option",{value:"",children:"Art and crafts"}),P.jsx("option",{value:"",children:"Automotive"}),P.jsx("option",{value:"",children:"Books"}),P.jsx("option",{value:"",children:"Electronics"}),P.jsx("option",{value:"",children:"Software"}),P.jsx("option",{value:"",children:"Baby"})]}),P.jsx("input",{type:"text"}),P.jsx(b6,{size:42})]}),P.jsxs("div",{className:Ai.order__container,children:[P.jsxs(Oi,{to:"/",className:Ai.language,children:[P.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/1024px-Flag_of_the_United_States.svg.png",alt:""}),P.jsx("select",{name:"",id:"",children:P.jsx("option",{value:"",children:"EN"})})]}),P.jsx(Oi,{to:!t&&"/auth",children:P.jsx("div",{children:t?P.jsxs(P.Fragment,{children:[P.jsxs("p",{children:["Hello ",(s=t==null?void 0:t.email)==null?void 0:s.split("@")[0]]}),P.jsx("span",{onClick:i,children:"Sign Out"})]}):P.jsxs(P.Fragment,{children:[P.jsx("p",{children:"Hello, Sign In"}),P.jsx("span",{children:"Account & Lists"})]})})}),P.jsxs(Oi,{to:"/orders",children:[P.jsx("p",{children:"returns"}),P.jsx("span",{children:"& Orders"})]}),P.jsxs(Oi,{to:"/cart",className:Ai.cart,children:[P.jsx(V6,{size:35}),P.jsx("span",{children:r})]})]})]})}),P.jsx(jK,{})]})};function ka({children:t}){return P.jsxs(P.Fragment,{children:[P.jsx(BK,{}),t]})}function $K(){return P.jsxs(ka,{children:[P.jsx(nU,{}),P.jsx(XF,{}),P.jsx(QC,{})]})}const zK="/assets/amazon_letter_logo-BxbqImV6.png",WK="_login_14mx5_1",qK="_login__container_14mx5_13",HK="_login__signInButton_14mx5_47",GK="_login__registerButton_14mx5_63",KK="_error_holder_14mx5_77",YK="_error__icon_14mx5_89",Ga={login:WK,login__container:qK,login__signInButton:HK,login__registerButton:GK,error_holder:KK,error__icon:YK};function QK(t){return po({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M85.57 446.25h340.86a32 32 0 0 0 28.17-47.17L284.18 82.58c-12.09-22.44-44.27-22.44-56.36 0L57.4 399.08a32 32 0 0 0 28.17 47.17z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m250.26 195.39 5.74 122 5.73-121.95a5.74 5.74 0 0 0-5.79-6h0a5.74 5.74 0 0 0-5.68 5.95z"},child:[]},{tag:"path",attr:{d:"M256 397.25a20 20 0 1 1 20-20 20 20 0 0 1-20 20z"},child:[]}]})(t)}function JK(){var g;const[t,e]=U.useState(""),[n,r]=U.useState(""),[i,s]=U.useState(""),[o,a]=U.useState({signIn:!1,signUP:!1}),l=qm(),u=Xd(),[{user:d},h]=U.useContext(rs),f=async _=>{_.preventDefault(),_.target.name.toLowerCase()=="signin"?(a({...o,signIn:!0}),Qx(Sm,t,n).then(v=>{var I;h({type:dn.SET_USER,user:v.user}),a({...o,signIn:!1}),l(((I=u==null?void 0:u.state)==null?void 0:I.redirect)||"/")}).catch(v=>{s(v.message),a({...o,signIn:!1})})):(a({...o,signUP:!0}),Yx(Sm,t,n).then(v=>{var I;h({type:dn.SET_USER,user:v.user}),a({...o,signUP:!1}),l(((I=u==null?void 0:u.state)==null?void 0:I.redirect)||"/")}).catch(v=>{s(v.message),a({...o,signUP:!1})}))};return P.jsxs("section",{className:Ga.login,children:[P.jsx(Oi,{to:"/",children:P.jsx("img",{src:zK,alt:""})}),P.jsxs("div",{className:Ga.login__container,children:[P.jsx("h1",{children:"Sign In"}),P.jsxs(P.Fragment,{children:[((g=u==null?void 0:u.state)==null?void 0:g.msg)&&P.jsx("small",{style:{color:"red",fontWeight:"bold"},children:u.state.msg}),P.jsx("br",{})]}),P.jsxs("form",{action:"",children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:"Email"}),P.jsx("input",{value:t,onChange:_=>e(_.target.value),type:"email",id:"email"})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"password",children:"Password"}),P.jsx("input",{value:n,onChange:_=>r(_.target.value),type:"password",id:"password"})]}),P.jsx("button",{type:"submit",onClick:f,name:"signIn",className:Ga.login__signInButton,children:o.signIn?P.jsx(Fv,{color:"#000",size:15}):" Sign In"})]}),P.jsx("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),P.jsx("button",{type:"submit",name:"signUp",onClick:f,className:Ga.login__registerButton,children:o.signUP?P.jsx(Fv,{color:"#000",size:15}):"Create your Amazon Account"}),i&&P.jsxs("div",{className:Ga.error_holder,children:[P.jsx("div",{className:Ga.error__icon,children:P.jsx(QK,{size:25})}),P.jsx("div",{children:i})]})]})]})}const XK="_payment__header_39xk7_1",ZK="_payment_39xk7_1",eY="_flex_39xk7_10",tY="_payment__card__container_39xk7_25",nY="_payment__price_39xk7_32",rY="_payment__details_39xk7_29",iY="_loading_39xk7_53",bi={payment__header:XK,payment:ZK,flex:eY,payment__card__container:tY,payment__price:nY,payment__details:rY,loading:iY};function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){KN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dp(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dp=function(e){return typeof e}:dp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function KN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YN(t,e){return sY(t)||oY(t,e)||aY(t,e)||lY()}function sY(t){if(Array.isArray(t))return t}function oY(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function aY(t,e){if(t){if(typeof t=="string")return eA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eA(t,e)}}function eA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Wn=function(e,n,r){var i=!!r,s=we.useRef(r);we.useEffect(function(){s.current=r},[r]),we.useEffect(function(){if(!i||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,o),function(){e.off(n,o)}},[i,n,e,s])},k0=function(e){var n=we.useRef(e);return we.useEffect(function(){n.current=e},[e]),n.current},su=function(e){return e!==null&&dp(e)==="object"},uY=function(e){return su(e)&&typeof e.then=="function"},cY=function(e){return su(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},tA="[object Object]",dY=function t(e,n){if(!su(e)||!su(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===tA,o=Object.prototype.toString.call(n)===tA;if(s!==o)return!1;if(!s&&!r)return e===n;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var u={},d=0;d<a.length;d+=1)u[a[d]]=!0;for(var h=0;h<l.length;h+=1)u[l[h]]=!0;var f=Object.keys(u);if(f.length!==a.length)return!1;var g=e,_=n,v=function(T){return t(g[T],_[T])};return f.every(v)},QN=function(e,n,r){return su(e)?Object.keys(e).reduce(function(i,s){var o=!su(n)||!dY(e[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?ZR(ZR({},i||{}),{},KN({},s,e[s])):i},null):null},JN="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",nA=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:JN;if(e===null||cY(e))return e;throw new Error(n)},hY=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:JN;if(uY(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return nA(i,n)})};var r=nA(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},fY=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.7.3"}),e.registerAppInfo({name:"react-stripe-js",version:"2.7.3",url:"https://stripe.com/docs/stripe-js/react"}))},Jg=we.createContext(null);Jg.displayName="ElementsContext";var XN=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},ZN=function(e){var n=e.stripe,r=e.options,i=e.children,s=we.useMemo(function(){return hY(n)},[n]),o=we.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),a=YN(o,2),l=a[0],u=a[1];we.useEffect(function(){var f=!0,g=function(v){u(function(I){return I.stripe?I:{stripe:v,elements:v.elements(r)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(_){_&&f&&g(_)}):s.tag==="sync"&&!l.stripe&&g(s.stripe),function(){f=!1}},[s,l,r]);var d=k0(n);we.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var h=k0(r);return we.useEffect(function(){if(l.elements){var f=QN(r,h,["clientSecret","fonts"]);f&&l.elements.update(f)}},[r,h,l.elements]),we.useEffect(function(){fY(l.stripe)},[l.stripe]),we.createElement(Jg.Provider,{value:l},i)};ZN.propTypes={stripe:it.any,options:it.object};var pY=function(e){var n=we.useContext(Jg);return XN(n,e)},mY=function(){var e=pY("calls useElements()"),n=e.elements;return n};it.func.isRequired;var e2=we.createContext(null);e2.displayName="CustomCheckoutSdkContext";var gY=function(e,n){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CustomCheckoutProvider> provider."));return e},yY=we.createContext(null);yY.displayName="CustomCheckoutContext";it.any,it.shape({clientSecret:it.string.isRequired,elementsOptions:it.object}).isRequired;var C0=function(e){var n=we.useContext(e2),r=we.useContext(Jg);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?gY(n,e):XN(r,e)},_Y=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Ft=function(e,n){var r="".concat(_Y(e),"Element"),i=function(l){var u=l.id,d=l.className,h=l.options,f=h===void 0?{}:h,g=l.onBlur,_=l.onFocus,v=l.onReady,I=l.onChange,T=l.onEscape,w=l.onClick,E=l.onLoadError,O=l.onLoaderStart,x=l.onNetworksChange,N=l.onConfirm,b=l.onCancel,S=l.onShippingAddressChange,m=l.onShippingRateChange,A=C0("mounts <".concat(r,">")),C="elements"in A?A.elements:null,D="customCheckoutSdk"in A?A.customCheckoutSdk:null,k=we.useState(null),Ee=YN(k,2),fe=Ee[0],Ot=Ee[1],rt=we.useRef(null),Y=we.useRef(null);Wn(fe,"blur",g),Wn(fe,"focus",_),Wn(fe,"escape",T),Wn(fe,"click",w),Wn(fe,"loaderror",E),Wn(fe,"loaderstart",O),Wn(fe,"networkschange",x),Wn(fe,"confirm",N),Wn(fe,"cancel",b),Wn(fe,"shippingaddresschange",S),Wn(fe,"shippingratechange",m),Wn(fe,"change",I);var se;v&&(e==="expressCheckout"?se=v:se=function(){v(fe)}),Wn(fe,"ready",se),we.useLayoutEffect(function(){if(rt.current===null&&Y.current!==null&&(C||D)){var pe=null;D?pe=D.createElement(e,f):C&&(pe=C.create(e,f)),rt.current=pe,Ot(pe),pe&&pe.mount(Y.current)}},[C,D,f]);var oe=k0(f);return we.useEffect(function(){if(rt.current){var pe=QN(f,oe,["paymentRequest"]);pe&&rt.current.update(pe)}},[f,oe]),we.useLayoutEffect(function(){return function(){if(rt.current&&typeof rt.current.destroy=="function")try{rt.current.destroy(),rt.current=null}catch{}}},[]),we.createElement("div",{id:u,className:d,ref:Y})},s=function(l){C0("mounts <".concat(r,">"));var u=l.id,d=l.className;return we.createElement("div",{id:u,className:d})},o=n?s:i;return o.propTypes={id:it.string,className:it.string,onChange:it.func,onBlur:it.func,onFocus:it.func,onReady:it.func,onEscape:it.func,onClick:it.func,onLoadError:it.func,onLoaderStart:it.func,onNetworksChange:it.func,onConfirm:it.func,onCancel:it.func,onShippingAddressChange:it.func,onShippingRateChange:it.func,options:it.object},o.displayName=r,o.__elementType=e,o},Ut=typeof window>"u",vY=we.createContext(null);vY.displayName="EmbeddedCheckoutProviderContext";var wY=function(){var e=C0("calls useStripe()"),n=e.stripe;return n};Ft("auBankAccount",Ut);var rA=Ft("card",Ut);Ft("cardNumber",Ut);Ft("cardExpiry",Ut);Ft("cardCvc",Ut);Ft("fpxBank",Ut);Ft("iban",Ut);Ft("idealBank",Ut);Ft("p24Bank",Ut);Ft("epsBank",Ut);Ft("payment",Ut);Ft("expressCheckout",Ut);Ft("paymentRequestButton",Ut);Ft("linkAuthentication",Ut);Ft("address",Ut);Ft("shippingAddress",Ut);Ft("paymentMethodMessaging",Ut);Ft("affirmMessage",Ut);Ft("afterpayClearpayMessage",Ut);const EY=ut.create({baseURL:"https://amazon-backend-deploy-bk17.onrender.com"});function SY(){const[{user:t,basket:e},n]=U.useContext(rs),[r,i]=U.useState(null),[s,o]=U.useState(!1),a=qm(),l=wY(),u=mY(),d=e==null?void 0:e.reduce((_,v)=>v.amount+_,0),h=e.reduce((_,v)=>v.price*v.amount+_,0),f=_=>{var v,I,T;console.log((v=_==null?void 0:_.error)==null?void 0:v.message),(I=_==null?void 0:_.error)!=null&&I.message?i((T=_==null?void 0:_.error)==null?void 0:T.message):i("")},g=async _=>{var v;_.preventDefault();try{o(!0);const I=await EY({method:"POST",url:`/payment/create?total=${h*100}`});console.log(I.data);const T=(v=I==null?void 0:I.data)==null?void 0:v.clientPaymentSecret,{paymentIntent:w}=await l.confirmCardPayment(T,{payment_method:{card:u.getElement(rA)}});console.log(w),await GN.collection("users").doc(t.uid).collection("orders").doc(w.id).set({basket:e,amount:w.amount,created:w.created}),n({type:dn.EMPTY_BASKET}),o(!1),a("/orders",{state:{msg:"you have placed new Order"}})}catch{o(!1)}};return P.jsxs(ka,{children:[P.jsxs("div",{className:bi.payment__header,children:["Checkout (",d,") items"]}),P.jsxs("section",{className:bi.payment,children:[P.jsxs("div",{className:bi.flex,children:[P.jsx("h3",{children:"Delivery Address"}),P.jsxs("div",{children:[P.jsx("div",{children:t==null?void 0:t.email}),P.jsx("div",{children:"123 React Lane"}),P.jsx("div",{children:"Chicago, IL"})]})]}),P.jsx("hr",{}),P.jsxs("div",{className:bi.flex,children:[P.jsx("h3",{children:"Review items and delivery"}),P.jsx("div",{children:e==null?void 0:e.map((_,v)=>P.jsx(pu,{product:_,flex:!0},v))})]}),P.jsx("hr",{}),P.jsxs("div",{className:bi.flex,children:[P.jsx("h3",{children:"Payment methods"}),P.jsx("div",{className:bi.payment__card__container,children:P.jsx("div",{className:bi.payment__details,children:P.jsxs("form",{onSubmit:g,children:[r&&P.jsx("small",{style:{color:"red"},children:r}),P.jsx(rA,{onChange:f}),P.jsxs("div",{className:bi.payment__price,children:[P.jsx("div",{children:P.jsxs("span",{style:{display:"flex",gap:"10px"},children:[P.jsx("p",{children:"Total Order |"})," ",P.jsx(rE,{amount:h})]})}),P.jsx("button",{type:"submit",children:s?P.jsxs("div",{className:bi.loading,children:[P.jsx(Fv,{color:"gray",size:12}),P.jsx("p",{children:"Please Wait ..."})]}):" Pay Now"})]})]})})})]})]})]})}const IY={basket:[],user:null},TY=(t,e)=>{switch(e.type){case dn.ADD_TO_BASKET:if(t.basket.find(o=>o.id===e.item.id)){const o=t.basket.map(a=>a.id===e.item.id?{...a,amount:a.amount+1}:a);return{...t,basket:o}}else return{...t,basket:[...t.basket,{...e.item,amount:1}]};case dn.REMOVE_FROM_BASKET:const r=t.basket.findIndex(o=>o.id===e.id);let i=[...t.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...t,basket:i};case dn.REMOVE_ITEM_IMMEDIATELY:const s=t.basket.findIndex(o=>o.id===e.id);return s>=0&&t.basket.splice(s,1),{...t,basket:t.basket};case dn.EMPTY_BASKET:return{...t,basket:[]};case dn.SET_USER:return{...t,user:e.user};default:return t}},bY="_container_n55mw_1",RY="_cart_product_n55mw_10",AY="_btn_container_n55mw_14",PY="_btn_n55mw_14",kY="_subtotal_n55mw_32",CY="_cart__container_n55mw_35",xY="_clear_all_items_btn_n55mw_75",Es={container:bY,cart_product:RY,btn_container:AY,btn:PY,subtotal:kY,cart__container:CY,clear_all_items_btn:xY};function OY(t){return po({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}function DY(t){return po({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(t)}function NY(){var o;const[{user:t,basket:e},n]=U.useContext(rs),r=e.reduce((a,l)=>l.price*l.amount+a,0),i=a=>{n({type:dn.ADD_TO_BASKET,item:a})},s=a=>{n({type:dn.REMOVE_FROM_BASKET,id:a})};return P.jsx(ka,{children:P.jsxs("section",{className:Es.container,children:[P.jsxs("div",{className:Es.cart__container,children:[P.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[P.jsxs("div",{children:[P.jsxs("h2",{children:["Hello ",(o=t==null?void 0:t.email)==null?void 0:o.split("@")[0]]}),P.jsx("h3",{children:"Your shopping basket "})]}),P.jsx("div",{style:{marginRight:"10px"},children:e.length!==0?P.jsxs("button",{style:{display:"flex",gap:"5px",padding:"7px"},className:Es.clear_all_items_btn,onClick:()=>n({type:dn.EMPTY_BASKET}),children:[P.jsx(YC,{size:20}),"Clear All Items"]}):""})]}),P.jsx("hr",{}),(e==null?void 0:e.length)==0?P.jsx("p",{children:"Oops ! No item in your cart"}):e==null?void 0:e.map((a,l)=>P.jsxs("section",{className:Es.cart_product,children:[P.jsx(pu,{product:a,renderDesc:!0,renderAdd:!1,flex:!0,showRemoveItem:!0},l),P.jsxs("div",{className:Es.btn_container,children:[P.jsx("button",{className:Es.btn,onClick:()=>i(a),children:P.jsx(DY,{size:20})}),P.jsx("span",{children:a.amount}),P.jsx("button",{className:Es.btn,onClick:()=>s(a.id),children:P.jsx(OY,{size:20})})]})]},l))]}),(e==null?void 0:e.length)!==0&&P.jsxs("div",{className:Es.subtotal,children:[P.jsxs("div",{children:[P.jsxs("p",{children:["Subtotal (",e==null?void 0:e.length," items)"]}),P.jsx(rE,{amount:r})]}),P.jsxs("span",{children:[P.jsx("input",{type:"checkbox",id:"giftCheckBox"}),P.jsxs("label",{htmlFor:"giftCheckBox",children:[P.jsx("small",{children:"This order contains a gift"}),"t"]})]}),P.jsx(Oi,{to:"/payments",children:"Continue to checkout"})]})]})})}const MY="_container_1kil9_1",LY="_orders__container_1kil9_5",iA={container:MY,orders__container:LY};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var t2;function J(){return t2.apply(null,arguments)}function VY(t){t2=t}function Fr(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function ea(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Ae(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function NS(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Ae(t,e))return!1;return!0}function kn(t){return t===void 0}function ts(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Ch(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function n2(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function Ds(t,e){for(var n in e)Ae(e,n)&&(t[n]=e[n]);return Ae(e,"toString")&&(t.toString=e.toString),Ae(e,"valueOf")&&(t.valueOf=e.valueOf),t}function _i(t,e,n,r){return b2(t,e,n,r,!0).utc()}function FY(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ce(t){return t._pf==null&&(t._pf=FY()),t._pf}var x0;Array.prototype.some?x0=Array.prototype.some:x0=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function MS(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=ce(t),n=x0.call(e.parsedDateParts,function(i){return i!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function Xg(t){var e=_i(NaN);return t!=null?Ds(ce(e),t):ce(e).userInvalidated=!0,e}var sA=J.momentProperties=[],P_=!1;function LS(t,e){var n,r,i,s=sA.length;if(kn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),kn(e._i)||(t._i=e._i),kn(e._f)||(t._f=e._f),kn(e._l)||(t._l=e._l),kn(e._strict)||(t._strict=e._strict),kn(e._tzm)||(t._tzm=e._tzm),kn(e._isUTC)||(t._isUTC=e._isUTC),kn(e._offset)||(t._offset=e._offset),kn(e._pf)||(t._pf=ce(e)),kn(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=sA[n],i=e[r],kn(i)||(t[r]=i);return t}function xh(t){LS(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),P_===!1&&(P_=!0,J.updateOffset(this),P_=!1)}function Ur(t){return t instanceof xh||t!=null&&t._isAMomentObject!=null}function r2(t){J.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function _r(t,e){var n=!0;return Ds(function(){if(J.deprecationHandler!=null&&J.deprecationHandler(null,t),n){var r=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])Ae(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}r2(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var oA={};function i2(t,e){J.deprecationHandler!=null&&J.deprecationHandler(t,e),oA[t]||(r2(e),oA[t]=!0)}J.suppressDeprecationWarnings=!1;J.deprecationHandler=null;function vi(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function UY(t){var e,n;for(n in t)Ae(t,n)&&(e=t[n],vi(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function O0(t,e){var n=Ds({},t),r;for(r in e)Ae(e,r)&&(ea(t[r])&&ea(e[r])?(n[r]={},Ds(n[r],t[r]),Ds(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Ae(t,r)&&!Ae(e,r)&&ea(t[r])&&(n[r]=Ds({},n[r]));return n}function VS(t){t!=null&&this.set(t)}var D0;Object.keys?D0=Object.keys:D0=function(t){var e,n=[];for(e in t)Ae(t,e)&&n.push(e);return n};var jY={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function BY(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return vi(r)?r.call(e,n):r}function yi(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var FS=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Cf=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,k_={},kl={};function re(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(kl[t]=i),e&&(kl[e[0]]=function(){return yi(i.apply(this,arguments),e[1],e[2])}),n&&(kl[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function $Y(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function zY(t){var e=t.match(FS),n,r;for(n=0,r=e.length;n<r;n++)kl[e[n]]?e[n]=kl[e[n]]:e[n]=$Y(e[n]);return function(i){var s="",o;for(o=0;o<r;o++)s+=vi(e[o])?e[o].call(i,t):e[o];return s}}function hp(t,e){return t.isValid()?(e=s2(e,t.localeData()),k_[e]=k_[e]||zY(e),k_[e](t)):t.localeData().invalidDate()}function s2(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(Cf.lastIndex=0;n>=0&&Cf.test(t);)t=t.replace(Cf,r),Cf.lastIndex=0,n-=1;return t}var WY={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function qY(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(FS).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var HY="Invalid date";function GY(){return this._invalidDate}var KY="%d",YY=/\d{1,2}/;function QY(t){return this._ordinal.replace("%d",t)}var JY={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function XY(t,e,n,r){var i=this._relativeTime[n];return vi(i)?i(t,e,n,r):i.replace(/%d/i,t)}function ZY(t,e){var n=this._relativeTime[t>0?"future":"past"];return vi(n)?n(e):n.replace(/%s/i,e)}var aA={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function vr(t){return typeof t=="string"?aA[t]||aA[t.toLowerCase()]:void 0}function US(t){var e={},n,r;for(r in t)Ae(t,r)&&(n=vr(r),n&&(e[n]=t[r]));return e}var eQ={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function tQ(t){var e=[],n;for(n in t)Ae(t,n)&&e.push({unit:n,priority:eQ[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}var o2=/\d/,sr=/\d\d/,a2=/\d{3}/,jS=/\d{4}/,Zg=/[+-]?\d{6}/,Ke=/\d\d?/,l2=/\d\d\d\d?/,u2=/\d\d\d\d\d\d?/,ey=/\d{1,3}/,BS=/\d{1,4}/,ty=/[+-]?\d{1,6}/,Pu=/\d+/,ny=/[+-]?\d+/,nQ=/Z|[+-]\d\d:?\d\d/gi,ry=/Z|[+-]\d\d(?::?\d\d)?/gi,rQ=/[+-]?\d+(\.\d{1,3})?/,Oh=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ku=/^[1-9]\d?/,$S=/^([1-9]\d|\d)/,Im;Im={};function Z(t,e,n){Im[t]=vi(e)?e:function(r,i){return r&&n?n:e}}function iQ(t,e){return Ae(Im,t)?Im[t](e._strict,e._locale):new RegExp(sQ(t))}function sQ(t){return Wi(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function Wi(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ur(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ve(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=ur(e)),n}var N0={};function Le(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),ts(e)&&(r=function(s,o){o[e]=ve(s)}),i=t.length,n=0;n<i;n++)N0[t[n]]=r}function Dh(t,e){Le(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function oQ(t,e,n){e!=null&&Ae(N0,t)&&N0[t](e,n._a,n,t)}function iy(t){return t%4===0&&t%100!==0||t%400===0}var hn=0,ji=1,ti=2,Mt=3,Or=4,Bi=5,Go=6,aQ=7,lQ=8;re("Y",0,0,function(){var t=this.year();return t<=9999?yi(t,4):"+"+t});re(0,["YY",2],0,function(){return this.year()%100});re(0,["YYYY",4],0,"year");re(0,["YYYYY",5],0,"year");re(0,["YYYYYY",6,!0],0,"year");Z("Y",ny);Z("YY",Ke,sr);Z("YYYY",BS,jS);Z("YYYYY",ty,Zg);Z("YYYYYY",ty,Zg);Le(["YYYYY","YYYYYY"],hn);Le("YYYY",function(t,e){e[hn]=t.length===2?J.parseTwoDigitYear(t):ve(t)});Le("YY",function(t,e){e[hn]=J.parseTwoDigitYear(t)});Le("Y",function(t,e){e[hn]=parseInt(t,10)});function Qc(t){return iy(t)?366:365}J.parseTwoDigitYear=function(t){return ve(t)+(ve(t)>68?1900:2e3)};var c2=Cu("FullYear",!0);function uQ(){return iy(this.year())}function Cu(t,e){return function(n){return n!=null?(d2(this,t,n),J.updateOffset(this,e),this):$d(this,t)}}function $d(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function d2(t,e,n){var r,i,s,o,a;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}s=n,o=t.month(),a=t.date(),a=a===29&&o===1&&!iy(s)?28:a,i?r.setUTCFullYear(s,o,a):r.setFullYear(s,o,a)}}function cQ(t){return t=vr(t),vi(this[t])?this[t]():this}function dQ(t,e){if(typeof t=="object"){t=US(t);var n=tQ(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=vr(t),vi(this[t]))return this[t](e);return this}function hQ(t,e){return(t%e+e)%e}var wt;Array.prototype.indexOf?wt=Array.prototype.indexOf:wt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function zS(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=hQ(e,12);return t+=(e-n)/12,n===1?iy(t)?29:28:31-n%7%2}re("M",["MM",2],"Mo",function(){return this.month()+1});re("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});re("MMMM",0,0,function(t){return this.localeData().months(this,t)});Z("M",Ke,ku);Z("MM",Ke,sr);Z("MMM",function(t,e){return e.monthsShortRegex(t)});Z("MMMM",function(t,e){return e.monthsRegex(t)});Le(["M","MM"],function(t,e){e[ji]=ve(t)-1});Le(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[ji]=i:ce(n).invalidMonth=t});var fQ="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),h2="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),f2=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,pQ=Oh,mQ=Oh;function gQ(t,e){return t?Fr(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||f2).test(e)?"format":"standalone"][t.month()]:Fr(this._months)?this._months:this._months.standalone}function yQ(t,e){return t?Fr(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[f2.test(e)?"format":"standalone"][t.month()]:Fr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function _Q(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=_i([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=wt.call(this._shortMonthsParse,o),i!==-1?i:null):(i=wt.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=wt.call(this._shortMonthsParse,o),i!==-1?i:(i=wt.call(this._longMonthsParse,o),i!==-1?i:null)):(i=wt.call(this._longMonthsParse,o),i!==-1?i:(i=wt.call(this._shortMonthsParse,o),i!==-1?i:null))}function vQ(t,e,n){var r,i,s;if(this._monthsParseExact)return _Q.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=_i([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function p2(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=ve(e);else if(e=t.localeData().monthsParse(e),!ts(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,zS(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function m2(t){return t!=null?(p2(this,t),J.updateOffset(this,!0),this):$d(this,"Month")}function wQ(){return zS(this.year(),this.month())}function EQ(t){return this._monthsParseExact?(Ae(this,"_monthsRegex")||g2.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Ae(this,"_monthsShortRegex")||(this._monthsShortRegex=pQ),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function SQ(t){return this._monthsParseExact?(Ae(this,"_monthsRegex")||g2.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Ae(this,"_monthsRegex")||(this._monthsRegex=mQ),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function g2(){function t(l,u){return u.length-l.length}var e=[],n=[],r=[],i,s,o,a;for(i=0;i<12;i++)s=_i([2e3,i]),o=Wi(this.monthsShort(s,"")),a=Wi(this.months(s,"")),e.push(o),n.push(a),r.push(a),r.push(o);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function IQ(t,e,n,r,i,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,s,o),a}function zd(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Tm(t,e,n){var r=7+e-n,i=(7+zd(t,0,r).getUTCDay()-e)%7;return-i+r-1}function y2(t,e,n,r,i){var s=(7+n-r)%7,o=Tm(t,r,i),a=1+7*(e-1)+s+o,l,u;return a<=0?(l=t-1,u=Qc(l)+a):a>Qc(t)?(l=t+1,u=a-Qc(t)):(l=t,u=a),{year:l,dayOfYear:u}}function Wd(t,e,n){var r=Tm(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=t.year()-1,s=i+qi(o,e,n)):i>qi(t.year(),e,n)?(s=i-qi(t.year(),e,n),o=t.year()+1):(o=t.year(),s=i),{week:s,year:o}}function qi(t,e,n){var r=Tm(t,e,n),i=Tm(t+1,e,n);return(Qc(t)-r+i)/7}re("w",["ww",2],"wo","week");re("W",["WW",2],"Wo","isoWeek");Z("w",Ke,ku);Z("ww",Ke,sr);Z("W",Ke,ku);Z("WW",Ke,sr);Dh(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=ve(t)});function TQ(t){return Wd(t,this._week.dow,this._week.doy).week}var bQ={dow:0,doy:6};function RQ(){return this._week.dow}function AQ(){return this._week.doy}function PQ(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function kQ(t){var e=Wd(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}re("d",0,"do","day");re("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});re("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});re("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});re("e",0,0,"weekday");re("E",0,0,"isoWeekday");Z("d",Ke);Z("e",Ke);Z("E",Ke);Z("dd",function(t,e){return e.weekdaysMinRegex(t)});Z("ddd",function(t,e){return e.weekdaysShortRegex(t)});Z("dddd",function(t,e){return e.weekdaysRegex(t)});Dh(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:ce(n).invalidWeekday=t});Dh(["d","e","E"],function(t,e,n,r){e[r]=ve(t)});function CQ(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function xQ(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function WS(t,e){return t.slice(e,7).concat(t.slice(0,e))}var OQ="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),_2="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),DQ="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),NQ=Oh,MQ=Oh,LQ=Oh;function VQ(t,e){var n=Fr(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?WS(n,this._week.dow):t?n[t.day()]:n}function FQ(t){return t===!0?WS(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function UQ(t){return t===!0?WS(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function jQ(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=_i([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=wt.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=wt.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=wt.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=wt.call(this._weekdaysParse,o),i!==-1||(i=wt.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=wt.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=wt.call(this._shortWeekdaysParse,o),i!==-1||(i=wt.call(this._weekdaysParse,o),i!==-1)?i:(i=wt.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=wt.call(this._minWeekdaysParse,o),i!==-1||(i=wt.call(this._weekdaysParse,o),i!==-1)?i:(i=wt.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function BQ(t,e,n){var r,i,s;if(this._weekdaysParseExact)return jQ.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=_i([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function $Q(t){if(!this.isValid())return t!=null?this:NaN;var e=$d(this,"Day");return t!=null?(t=CQ(t,this.localeData()),this.add(t-e,"d")):e}function zQ(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function WQ(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=xQ(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function qQ(t){return this._weekdaysParseExact?(Ae(this,"_weekdaysRegex")||qS.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Ae(this,"_weekdaysRegex")||(this._weekdaysRegex=NQ),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function HQ(t){return this._weekdaysParseExact?(Ae(this,"_weekdaysRegex")||qS.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ae(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=MQ),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function GQ(t){return this._weekdaysParseExact?(Ae(this,"_weekdaysRegex")||qS.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ae(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=LQ),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function qS(){function t(d,h){return h.length-d.length}var e=[],n=[],r=[],i=[],s,o,a,l,u;for(s=0;s<7;s++)o=_i([2e3,1]).day(s),a=Wi(this.weekdaysMin(o,"")),l=Wi(this.weekdaysShort(o,"")),u=Wi(this.weekdays(o,"")),e.push(a),n.push(l),r.push(u),i.push(a),i.push(l),i.push(u);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function HS(){return this.hours()%12||12}function KQ(){return this.hours()||24}re("H",["HH",2],0,"hour");re("h",["hh",2],0,HS);re("k",["kk",2],0,KQ);re("hmm",0,0,function(){return""+HS.apply(this)+yi(this.minutes(),2)});re("hmmss",0,0,function(){return""+HS.apply(this)+yi(this.minutes(),2)+yi(this.seconds(),2)});re("Hmm",0,0,function(){return""+this.hours()+yi(this.minutes(),2)});re("Hmmss",0,0,function(){return""+this.hours()+yi(this.minutes(),2)+yi(this.seconds(),2)});function v2(t,e){re(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}v2("a",!0);v2("A",!1);function w2(t,e){return e._meridiemParse}Z("a",w2);Z("A",w2);Z("H",Ke,$S);Z("h",Ke,ku);Z("k",Ke,ku);Z("HH",Ke,sr);Z("hh",Ke,sr);Z("kk",Ke,sr);Z("hmm",l2);Z("hmmss",u2);Z("Hmm",l2);Z("Hmmss",u2);Le(["H","HH"],Mt);Le(["k","kk"],function(t,e,n){var r=ve(t);e[Mt]=r===24?0:r});Le(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Le(["h","hh"],function(t,e,n){e[Mt]=ve(t),ce(n).bigHour=!0});Le("hmm",function(t,e,n){var r=t.length-2;e[Mt]=ve(t.substr(0,r)),e[Or]=ve(t.substr(r)),ce(n).bigHour=!0});Le("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Mt]=ve(t.substr(0,r)),e[Or]=ve(t.substr(r,2)),e[Bi]=ve(t.substr(i)),ce(n).bigHour=!0});Le("Hmm",function(t,e,n){var r=t.length-2;e[Mt]=ve(t.substr(0,r)),e[Or]=ve(t.substr(r))});Le("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Mt]=ve(t.substr(0,r)),e[Or]=ve(t.substr(r,2)),e[Bi]=ve(t.substr(i))});function YQ(t){return(t+"").toLowerCase().charAt(0)==="p"}var QQ=/[ap]\.?m?\.?/i,JQ=Cu("Hours",!0);function XQ(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var E2={calendar:jY,longDateFormat:WY,invalidDate:HY,ordinal:KY,dayOfMonthOrdinalParse:YY,relativeTime:JY,months:fQ,monthsShort:h2,week:bQ,weekdays:OQ,weekdaysMin:DQ,weekdaysShort:_2,meridiemParse:QQ},Je={},cc={},qd;function ZQ(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function lA(t){return t&&t.toLowerCase().replace("_","-")}function eJ(t){for(var e=0,n,r,i,s;e<t.length;){for(s=lA(t[e]).split("-"),n=s.length,r=lA(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=sy(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&ZQ(s,r)>=n-1)break;n--}e++}return qd}function tJ(t){return!!(t&&t.match("^[^/\\\\]*$"))}function sy(t){var e=null,n;if(Je[t]===void 0&&typeof mp<"u"&&mp&&mp.exports&&tJ(t))try{e=qd._abbr,n=require,n("./locale/"+t),Hs(e)}catch{Je[t]=null}return Je[t]}function Hs(t,e){var n;return t&&(kn(e)?n=us(t):n=GS(t,e),n?qd=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),qd._abbr}function GS(t,e){if(e!==null){var n,r=E2;if(e.abbr=t,Je[t]!=null)i2("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Je[t]._config;else if(e.parentLocale!=null)if(Je[e.parentLocale]!=null)r=Je[e.parentLocale]._config;else if(n=sy(e.parentLocale),n!=null)r=n._config;else return cc[e.parentLocale]||(cc[e.parentLocale]=[]),cc[e.parentLocale].push({name:t,config:e}),null;return Je[t]=new VS(O0(r,e)),cc[t]&&cc[t].forEach(function(i){GS(i.name,i.config)}),Hs(t),Je[t]}else return delete Je[t],null}function nJ(t,e){if(e!=null){var n,r,i=E2;Je[t]!=null&&Je[t].parentLocale!=null?Je[t].set(O0(Je[t]._config,e)):(r=sy(t),r!=null&&(i=r._config),e=O0(i,e),r==null&&(e.abbr=t),n=new VS(e),n.parentLocale=Je[t],Je[t]=n),Hs(t)}else Je[t]!=null&&(Je[t].parentLocale!=null?(Je[t]=Je[t].parentLocale,t===Hs()&&Hs(t)):Je[t]!=null&&delete Je[t]);return Je[t]}function us(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return qd;if(!Fr(t)){if(e=sy(t),e)return e;t=[t]}return eJ(t)}function rJ(){return D0(Je)}function KS(t){var e,n=t._a;return n&&ce(t).overflow===-2&&(e=n[ji]<0||n[ji]>11?ji:n[ti]<1||n[ti]>zS(n[hn],n[ji])?ti:n[Mt]<0||n[Mt]>24||n[Mt]===24&&(n[Or]!==0||n[Bi]!==0||n[Go]!==0)?Mt:n[Or]<0||n[Or]>59?Or:n[Bi]<0||n[Bi]>59?Bi:n[Go]<0||n[Go]>999?Go:-1,ce(t)._overflowDayOfYear&&(e<hn||e>ti)&&(e=ti),ce(t)._overflowWeeks&&e===-1&&(e=aQ),ce(t)._overflowWeekday&&e===-1&&(e=lQ),ce(t).overflow=e),t}var iJ=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sJ=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,oJ=/Z|[+-]\d\d(?::?\d\d)?/,xf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],C_=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aJ=/^\/?Date\((-?\d+)/i,lJ=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,uJ={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function S2(t){var e,n,r=t._i,i=iJ.exec(r)||sJ.exec(r),s,o,a,l,u=xf.length,d=C_.length;if(i){for(ce(t).iso=!0,e=0,n=u;e<n;e++)if(xf[e][1].exec(i[1])){o=xf[e][0],s=xf[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,n=d;e<n;e++)if(C_[e][1].exec(i[3])){a=(i[2]||" ")+C_[e][0];break}if(a==null){t._isValid=!1;return}}if(!s&&a!=null){t._isValid=!1;return}if(i[4])if(oJ.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),QS(t)}else t._isValid=!1}function cJ(t,e,n,r,i,s){var o=[dJ(t),h2.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function dJ(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function hJ(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function fJ(t,e,n){if(t){var r=_2.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return ce(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function pJ(t,e,n){if(t)return uJ[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function I2(t){var e=lJ.exec(hJ(t._i)),n;if(e){if(n=cJ(e[4],e[3],e[2],e[5],e[6],e[7]),!fJ(e[1],n,t))return;t._a=n,t._tzm=pJ(e[8],e[9],e[10]),t._d=zd.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ce(t).rfc2822=!0}else t._isValid=!1}function mJ(t){var e=aJ.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(S2(t),t._isValid===!1)delete t._isValid;else return;if(I2(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:J.createFromInputFallback(t)}J.createFromInputFallback=_r("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function el(t,e,n){return t??e??n}function gJ(t){var e=new Date(J.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function YS(t){var e,n,r=[],i,s,o;if(!t._d){for(i=gJ(t),t._w&&t._a[ti]==null&&t._a[ji]==null&&yJ(t),t._dayOfYear!=null&&(o=el(t._a[hn],i[hn]),(t._dayOfYear>Qc(o)||t._dayOfYear===0)&&(ce(t)._overflowDayOfYear=!0),n=zd(o,0,t._dayOfYear),t._a[ji]=n.getUTCMonth(),t._a[ti]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Mt]===24&&t._a[Or]===0&&t._a[Bi]===0&&t._a[Go]===0&&(t._nextDay=!0,t._a[Mt]=0),t._d=(t._useUTC?zd:IQ).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Mt]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(ce(t).weekdayMismatch=!0)}}function yJ(t){var e,n,r,i,s,o,a,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,n=el(e.GG,t._a[hn],Wd(Ge(),1,4).year),r=el(e.W,1),i=el(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,u=Wd(Ge(),s,o),n=el(e.gg,t._a[hn],u.year),r=el(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>qi(n,s,o)?ce(t)._overflowWeeks=!0:l!=null?ce(t)._overflowWeekday=!0:(a=y2(n,r,i,s,o),t._a[hn]=a.year,t._dayOfYear=a.dayOfYear)}J.ISO_8601=function(){};J.RFC_2822=function(){};function QS(t){if(t._f===J.ISO_8601){S2(t);return}if(t._f===J.RFC_2822){I2(t);return}t._a=[],ce(t).empty=!0;var e=""+t._i,n,r,i,s,o,a=e.length,l=0,u,d;for(i=s2(t._f,t._locale).match(FS)||[],d=i.length,n=0;n<d;n++)s=i[n],r=(e.match(iQ(s,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&ce(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),kl[s]?(r?ce(t).empty=!1:ce(t).unusedTokens.push(s),oQ(s,r,t)):t._strict&&!r&&ce(t).unusedTokens.push(s);ce(t).charsLeftOver=a-l,e.length>0&&ce(t).unusedInput.push(e),t._a[Mt]<=12&&ce(t).bigHour===!0&&t._a[Mt]>0&&(ce(t).bigHour=void 0),ce(t).parsedDateParts=t._a.slice(0),ce(t).meridiem=t._meridiem,t._a[Mt]=_J(t._locale,t._a[Mt],t._meridiem),u=ce(t).era,u!==null&&(t._a[hn]=t._locale.erasConvertYear(u,t._a[hn])),YS(t),KS(t)}function _J(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function vJ(t){var e,n,r,i,s,o,a=!1,l=t._f.length;if(l===0){ce(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=LS({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],QS(e),MS(e)&&(o=!0),s+=ce(e).charsLeftOver,s+=ce(e).unusedTokens.length*10,ce(e).score=s,a?s<r&&(r=s,n=e):(r==null||s<r||o)&&(r=s,n=e,o&&(a=!0));Ds(t,n||e)}function wJ(t){if(!t._d){var e=US(t._i),n=e.day===void 0?e.date:e.day;t._a=n2([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),YS(t)}}function EJ(t){var e=new xh(KS(T2(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function T2(t){var e=t._i,n=t._f;return t._locale=t._locale||us(t._l),e===null||n===void 0&&e===""?Xg({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Ur(e)?new xh(KS(e)):(Ch(e)?t._d=e:Fr(n)?vJ(t):n?QS(t):SJ(t),MS(t)||(t._d=null),t))}function SJ(t){var e=t._i;kn(e)?t._d=new Date(J.now()):Ch(e)?t._d=new Date(e.valueOf()):typeof e=="string"?mJ(t):Fr(e)?(t._a=n2(e.slice(0),function(n){return parseInt(n,10)}),YS(t)):ea(e)?wJ(t):ts(e)?t._d=new Date(e):J.createFromInputFallback(t)}function b2(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(ea(t)&&NS(t)||Fr(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,EJ(s)}function Ge(t,e,n,r){return b2(t,e,n,r,!1)}var IJ=_r("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ge.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Xg()}),TJ=_r("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ge.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Xg()});function R2(t,e){var n,r;if(e.length===1&&Fr(e[0])&&(e=e[0]),!e.length)return Ge();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function bJ(){var t=[].slice.call(arguments,0);return R2("isBefore",t)}function RJ(){var t=[].slice.call(arguments,0);return R2("isAfter",t)}var AJ=function(){return Date.now?Date.now():+new Date},dc=["year","quarter","month","week","day","hour","minute","second","millisecond"];function PJ(t){var e,n=!1,r,i=dc.length;for(e in t)if(Ae(t,e)&&!(wt.call(dc,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[dc[r]]){if(n)return!1;parseFloat(t[dc[r]])!==ve(t[dc[r]])&&(n=!0)}return!0}function kJ(){return this._isValid}function CJ(){return Br(NaN)}function oy(t){var e=US(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,d=e.millisecond||0;this._isValid=PJ(e),this._milliseconds=+d+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=us(),this._bubble()}function fp(t){return t instanceof oy}function M0(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function xJ(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,o;for(o=0;o<r;o++)ve(t[o])!==ve(e[o])&&s++;return s+i}function A2(t,e){re(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+yi(~~(n/60),2)+e+yi(~~n%60,2)})}A2("Z",":");A2("ZZ","");Z("Z",ry);Z("ZZ",ry);Le(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=JS(ry,t)});var OJ=/([\+\-]|\d\d)/gi;function JS(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(OJ)||["-",0,0],s=+(i[1]*60)+ve(i[2]),s===0?0:i[0]==="+"?s:-s)}function XS(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Ur(t)||Ch(t)?t.valueOf():Ge(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),J.updateOffset(n,!1),n):Ge(t).local()}function L0(t){return-Math.round(t._d.getTimezoneOffset())}J.updateOffset=function(){};function DJ(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=JS(ry,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=L0(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?C2(this,Br(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,J.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:L0(this)}function NJ(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function MJ(t){return this.utcOffset(0,t)}function LJ(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(L0(this),"m")),this}function VJ(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=JS(nQ,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function FJ(t){return this.isValid()?(t=t?Ge(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function UJ(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function jJ(){if(!kn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return LS(t,this),t=T2(t),t._a?(e=t._isUTC?_i(t._a):Ge(t._a),this._isDSTShifted=this.isValid()&&xJ(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function BJ(){return this.isValid()?!this._isUTC:!1}function $J(){return this.isValid()?this._isUTC:!1}function P2(){return this.isValid()?this._isUTC&&this._offset===0:!1}var zJ=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,WJ=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Br(t,e){var n=t,r=null,i,s,o;return fp(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:ts(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=zJ.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:ve(r[ti])*i,h:ve(r[Mt])*i,m:ve(r[Or])*i,s:ve(r[Bi])*i,ms:ve(M0(r[Go]*1e3))*i}):(r=WJ.exec(t))?(i=r[1]==="-"?-1:1,n={y:Po(r[2],i),M:Po(r[3],i),w:Po(r[4],i),d:Po(r[5],i),h:Po(r[6],i),m:Po(r[7],i),s:Po(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=qJ(Ge(n.from),Ge(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new oy(n),fp(t)&&Ae(t,"_locale")&&(s._locale=t._locale),fp(t)&&Ae(t,"_isValid")&&(s._isValid=t._isValid),s}Br.fn=oy.prototype;Br.invalid=CJ;function Po(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function uA(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function qJ(t,e){var n;return t.isValid()&&e.isValid()?(e=XS(e,t),t.isBefore(e)?n=uA(t,e):(n=uA(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function k2(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(i2(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=Br(n,r),C2(this,i,t),this}}function C2(t,e,n,r){var i=e._milliseconds,s=M0(e._days),o=M0(e._months);t.isValid()&&(r=r??!0,o&&p2(t,$d(t,"Month")+o*n),s&&d2(t,"Date",$d(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&J.updateOffset(t,s||o))}var HJ=k2(1,"add"),GJ=k2(-1,"subtract");function x2(t){return typeof t=="string"||t instanceof String}function KJ(t){return Ur(t)||Ch(t)||x2(t)||ts(t)||QJ(t)||YJ(t)||t===null||t===void 0}function YJ(t){var e=ea(t)&&!NS(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],n=n||Ae(t,s);return e&&n}function QJ(t){var e=Fr(t),n=!1;return e&&(n=t.filter(function(r){return!ts(r)&&x2(t)}).length===0),e&&n}function JJ(t){var e=ea(t)&&!NS(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||Ae(t,s);return e&&n}function XJ(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function ZJ(t,e){arguments.length===1&&(arguments[0]?KJ(arguments[0])?(t=arguments[0],e=void 0):JJ(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Ge(),r=XS(n,this).startOf("day"),i=J.calendarFormat(this,r)||"sameElse",s=e&&(vi(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,Ge(n)))}function eX(){return new xh(this)}function tX(t,e){var n=Ur(t)?t:Ge(t);return this.isValid()&&n.isValid()?(e=vr(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function nX(t,e){var n=Ur(t)?t:Ge(t);return this.isValid()&&n.isValid()?(e=vr(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function rX(t,e,n,r){var i=Ur(t)?t:Ge(t),s=Ur(e)?e:Ge(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function iX(t,e){var n=Ur(t)?t:Ge(t),r;return this.isValid()&&n.isValid()?(e=vr(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function sX(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function oX(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function aX(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=XS(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=vr(e),e){case"year":s=pp(this,r)/12;break;case"month":s=pp(this,r);break;case"quarter":s=pp(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:ur(s)}function pp(t,e){if(t.date()<e.date())return-pp(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}J.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";J.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function lX(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function uX(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?hp(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):vi(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",hp(n,"Z")):hp(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function cX(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function dX(t){t||(t=this.isUtc()?J.defaultFormatUtc:J.defaultFormat);var e=hp(this,t);return this.localeData().postformat(e)}function hX(t,e){return this.isValid()&&(Ur(t)&&t.isValid()||Ge(t).isValid())?Br({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function fX(t){return this.from(Ge(),t)}function pX(t,e){return this.isValid()&&(Ur(t)&&t.isValid()||Ge(t).isValid())?Br({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function mX(t){return this.to(Ge(),t)}function O2(t){var e;return t===void 0?this._locale._abbr:(e=us(t),e!=null&&(this._locale=e),this)}var D2=_r("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function N2(){return this._locale}var bm=1e3,Cl=60*bm,Rm=60*Cl,M2=(365*400+97)*24*Rm;function xl(t,e){return(t%e+e)%e}function L2(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-M2:new Date(t,e,n).valueOf()}function V2(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-M2:Date.UTC(t,e,n)}function gX(t){var e,n;if(t=vr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?V2:L2,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=xl(e+(this._isUTC?0:this.utcOffset()*Cl),Rm);break;case"minute":e=this._d.valueOf(),e-=xl(e,Cl);break;case"second":e=this._d.valueOf(),e-=xl(e,bm);break}return this._d.setTime(e),J.updateOffset(this,!0),this}function yX(t){var e,n;if(t=vr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?V2:L2,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Rm-xl(e+(this._isUTC?0:this.utcOffset()*Cl),Rm)-1;break;case"minute":e=this._d.valueOf(),e+=Cl-xl(e,Cl)-1;break;case"second":e=this._d.valueOf(),e+=bm-xl(e,bm)-1;break}return this._d.setTime(e),J.updateOffset(this,!0),this}function _X(){return this._d.valueOf()-(this._offset||0)*6e4}function vX(){return Math.floor(this.valueOf()/1e3)}function wX(){return new Date(this.valueOf())}function EX(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function SX(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function IX(){return this.isValid()?this.toISOString():null}function TX(){return MS(this)}function bX(){return Ds({},ce(this))}function RX(){return ce(this).overflow}function AX(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}re("N",0,0,"eraAbbr");re("NN",0,0,"eraAbbr");re("NNN",0,0,"eraAbbr");re("NNNN",0,0,"eraName");re("NNNNN",0,0,"eraNarrow");re("y",["y",1],"yo","eraYear");re("y",["yy",2],0,"eraYear");re("y",["yyy",3],0,"eraYear");re("y",["yyyy",4],0,"eraYear");Z("N",ZS);Z("NN",ZS);Z("NNN",ZS);Z("NNNN",FX);Z("NNNNN",UX);Le(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?ce(n).era=i:ce(n).invalidEra=t});Z("y",Pu);Z("yy",Pu);Z("yyy",Pu);Z("yyyy",Pu);Z("yo",jX);Le(["y","yy","yyy","yyyy"],hn);Le(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[hn]=n._locale.eraYearOrdinalParse(t,i):e[hn]=parseInt(t,10)});function PX(t,e){var n,r,i,s=this._eras||us("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=J(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=J(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function kX(t,e,n){var r,i,s=this.eras(),o,a,l;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),a=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return s[r];break;case"NNNN":if(o===t)return s[r];break;case"NNNNN":if(l===t)return s[r];break}else if([o,a,l].indexOf(t)>=0)return s[r]}function CX(t,e){var n=t.since<=t.until?1:-1;return e===void 0?J(t.since).year():J(t.since).year()+(e-t.offset)*n}function xX(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function OX(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function DX(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function NX(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-J(i[t].since).year())*n+i[t].offset;return this.year()}function MX(t){return Ae(this,"_erasNameRegex")||eI.call(this),t?this._erasNameRegex:this._erasRegex}function LX(t){return Ae(this,"_erasAbbrRegex")||eI.call(this),t?this._erasAbbrRegex:this._erasRegex}function VX(t){return Ae(this,"_erasNarrowRegex")||eI.call(this),t?this._erasNarrowRegex:this._erasRegex}function ZS(t,e){return e.erasAbbrRegex(t)}function FX(t,e){return e.erasNameRegex(t)}function UX(t,e){return e.erasNarrowRegex(t)}function jX(t,e){return e._eraYearOrdinalRegex||Pu}function eI(){var t=[],e=[],n=[],r=[],i,s,o,a,l,u=this.eras();for(i=0,s=u.length;i<s;++i)o=Wi(u[i].name),a=Wi(u[i].abbr),l=Wi(u[i].narrow),e.push(o),t.push(a),n.push(l),r.push(o),r.push(a),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}re(0,["gg",2],0,function(){return this.weekYear()%100});re(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ay(t,e){re(0,[t,t.length],0,e)}ay("gggg","weekYear");ay("ggggg","weekYear");ay("GGGG","isoWeekYear");ay("GGGGG","isoWeekYear");Z("G",ny);Z("g",ny);Z("GG",Ke,sr);Z("gg",Ke,sr);Z("GGGG",BS,jS);Z("gggg",BS,jS);Z("GGGGG",ty,Zg);Z("ggggg",ty,Zg);Dh(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=ve(t)});Dh(["gg","GG"],function(t,e,n,r){e[r]=J.parseTwoDigitYear(t)});function BX(t){return F2.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function $X(t){return F2.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function zX(){return qi(this.year(),1,4)}function WX(){return qi(this.isoWeekYear(),1,4)}function qX(){var t=this.localeData()._week;return qi(this.year(),t.dow,t.doy)}function HX(){var t=this.localeData()._week;return qi(this.weekYear(),t.dow,t.doy)}function F2(t,e,n,r,i){var s;return t==null?Wd(this,r,i).year:(s=qi(t,r,i),e>s&&(e=s),GX.call(this,t,e,n,r,i))}function GX(t,e,n,r,i){var s=y2(t,e,n,r,i),o=zd(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}re("Q",0,"Qo","quarter");Z("Q",o2);Le("Q",function(t,e){e[ji]=(ve(t)-1)*3});function KX(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}re("D",["DD",2],"Do","date");Z("D",Ke,ku);Z("DD",Ke,sr);Z("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Le(["D","DD"],ti);Le("Do",function(t,e){e[ti]=ve(t.match(Ke)[0])});var U2=Cu("Date",!0);re("DDD",["DDDD",3],"DDDo","dayOfYear");Z("DDD",ey);Z("DDDD",a2);Le(["DDD","DDDD"],function(t,e,n){n._dayOfYear=ve(t)});function YX(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}re("m",["mm",2],0,"minute");Z("m",Ke,$S);Z("mm",Ke,sr);Le(["m","mm"],Or);var QX=Cu("Minutes",!1);re("s",["ss",2],0,"second");Z("s",Ke,$S);Z("ss",Ke,sr);Le(["s","ss"],Bi);var JX=Cu("Seconds",!1);re("S",0,0,function(){return~~(this.millisecond()/100)});re(0,["SS",2],0,function(){return~~(this.millisecond()/10)});re(0,["SSS",3],0,"millisecond");re(0,["SSSS",4],0,function(){return this.millisecond()*10});re(0,["SSSSS",5],0,function(){return this.millisecond()*100});re(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});re(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});re(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});re(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Z("S",ey,o2);Z("SS",ey,sr);Z("SSS",ey,a2);var Ns,j2;for(Ns="SSSS";Ns.length<=9;Ns+="S")Z(Ns,Pu);function XX(t,e){e[Go]=ve(("0."+t)*1e3)}for(Ns="S";Ns.length<=9;Ns+="S")Le(Ns,XX);j2=Cu("Milliseconds",!1);re("z",0,0,"zoneAbbr");re("zz",0,0,"zoneName");function ZX(){return this._isUTC?"UTC":""}function eZ(){return this._isUTC?"Coordinated Universal Time":""}var H=xh.prototype;H.add=HJ;H.calendar=ZJ;H.clone=eX;H.diff=aX;H.endOf=yX;H.format=dX;H.from=hX;H.fromNow=fX;H.to=pX;H.toNow=mX;H.get=cQ;H.invalidAt=RX;H.isAfter=tX;H.isBefore=nX;H.isBetween=rX;H.isSame=iX;H.isSameOrAfter=sX;H.isSameOrBefore=oX;H.isValid=TX;H.lang=D2;H.locale=O2;H.localeData=N2;H.max=TJ;H.min=IJ;H.parsingFlags=bX;H.set=dQ;H.startOf=gX;H.subtract=GJ;H.toArray=EX;H.toObject=SX;H.toDate=wX;H.toISOString=uX;H.inspect=cX;typeof Symbol<"u"&&Symbol.for!=null&&(H[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});H.toJSON=IX;H.toString=lX;H.unix=vX;H.valueOf=_X;H.creationData=AX;H.eraName=xX;H.eraNarrow=OX;H.eraAbbr=DX;H.eraYear=NX;H.year=c2;H.isLeapYear=uQ;H.weekYear=BX;H.isoWeekYear=$X;H.quarter=H.quarters=KX;H.month=m2;H.daysInMonth=wQ;H.week=H.weeks=PQ;H.isoWeek=H.isoWeeks=kQ;H.weeksInYear=qX;H.weeksInWeekYear=HX;H.isoWeeksInYear=zX;H.isoWeeksInISOWeekYear=WX;H.date=U2;H.day=H.days=$Q;H.weekday=zQ;H.isoWeekday=WQ;H.dayOfYear=YX;H.hour=H.hours=JQ;H.minute=H.minutes=QX;H.second=H.seconds=JX;H.millisecond=H.milliseconds=j2;H.utcOffset=DJ;H.utc=MJ;H.local=LJ;H.parseZone=VJ;H.hasAlignedHourOffset=FJ;H.isDST=UJ;H.isLocal=BJ;H.isUtcOffset=$J;H.isUtc=P2;H.isUTC=P2;H.zoneAbbr=ZX;H.zoneName=eZ;H.dates=_r("dates accessor is deprecated. Use date instead.",U2);H.months=_r("months accessor is deprecated. Use month instead",m2);H.years=_r("years accessor is deprecated. Use year instead",c2);H.zone=_r("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",NJ);H.isDSTShifted=_r("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",jJ);function tZ(t){return Ge(t*1e3)}function nZ(){return Ge.apply(null,arguments).parseZone()}function B2(t){return t}var Pe=VS.prototype;Pe.calendar=BY;Pe.longDateFormat=qY;Pe.invalidDate=GY;Pe.ordinal=QY;Pe.preparse=B2;Pe.postformat=B2;Pe.relativeTime=XY;Pe.pastFuture=ZY;Pe.set=UY;Pe.eras=PX;Pe.erasParse=kX;Pe.erasConvertYear=CX;Pe.erasAbbrRegex=LX;Pe.erasNameRegex=MX;Pe.erasNarrowRegex=VX;Pe.months=gQ;Pe.monthsShort=yQ;Pe.monthsParse=vQ;Pe.monthsRegex=SQ;Pe.monthsShortRegex=EQ;Pe.week=TQ;Pe.firstDayOfYear=AQ;Pe.firstDayOfWeek=RQ;Pe.weekdays=VQ;Pe.weekdaysMin=UQ;Pe.weekdaysShort=FQ;Pe.weekdaysParse=BQ;Pe.weekdaysRegex=qQ;Pe.weekdaysShortRegex=HQ;Pe.weekdaysMinRegex=GQ;Pe.isPM=YQ;Pe.meridiem=XQ;function Am(t,e,n,r){var i=us(),s=_i().set(r,e);return i[n](s,t)}function $2(t,e,n){if(ts(t)&&(e=t,t=void 0),t=t||"",e!=null)return Am(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Am(t,r,n,"month");return i}function tI(t,e,n,r){typeof t=="boolean"?(ts(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,ts(e)&&(n=e,e=void 0),e=e||"");var i=us(),s=t?i._week.dow:0,o,a=[];if(n!=null)return Am(e,(n+s)%7,r,"day");for(o=0;o<7;o++)a[o]=Am(e,(o+s)%7,r,"day");return a}function rZ(t,e){return $2(t,e,"months")}function iZ(t,e){return $2(t,e,"monthsShort")}function sZ(t,e,n){return tI(t,e,n,"weekdays")}function oZ(t,e,n){return tI(t,e,n,"weekdaysShort")}function aZ(t,e,n){return tI(t,e,n,"weekdaysMin")}Hs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=ve(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});J.lang=_r("moment.lang is deprecated. Use moment.locale instead.",Hs);J.langData=_r("moment.langData is deprecated. Use moment.localeData instead.",us);var Ri=Math.abs;function lZ(){var t=this._data;return this._milliseconds=Ri(this._milliseconds),this._days=Ri(this._days),this._months=Ri(this._months),t.milliseconds=Ri(t.milliseconds),t.seconds=Ri(t.seconds),t.minutes=Ri(t.minutes),t.hours=Ri(t.hours),t.months=Ri(t.months),t.years=Ri(t.years),this}function z2(t,e,n,r){var i=Br(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function uZ(t,e){return z2(this,t,e,1)}function cZ(t,e){return z2(this,t,e,-1)}function cA(t){return t<0?Math.floor(t):Math.ceil(t)}function dZ(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,o,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=cA(V0(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=ur(t/1e3),r.seconds=i%60,s=ur(i/60),r.minutes=s%60,o=ur(s/60),r.hours=o%24,e+=ur(o/24),l=ur(W2(e)),n+=l,e-=cA(V0(l)),a=ur(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function W2(t){return t*4800/146097}function V0(t){return t*146097/4800}function hZ(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=vr(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+W2(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(V0(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function cs(t){return function(){return this.as(t)}}var q2=cs("ms"),fZ=cs("s"),pZ=cs("m"),mZ=cs("h"),gZ=cs("d"),yZ=cs("w"),_Z=cs("M"),vZ=cs("Q"),wZ=cs("y"),EZ=q2;function SZ(){return Br(this)}function IZ(t){return t=vr(t),this.isValid()?this[t+"s"]():NaN}function Ca(t){return function(){return this.isValid()?this._data[t]:NaN}}var TZ=Ca("milliseconds"),bZ=Ca("seconds"),RZ=Ca("minutes"),AZ=Ca("hours"),PZ=Ca("days"),kZ=Ca("months"),CZ=Ca("years");function xZ(){return ur(this.days()/7)}var ki=Math.round,pl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function OZ(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function DZ(t,e,n,r){var i=Br(t).abs(),s=ki(i.as("s")),o=ki(i.as("m")),a=ki(i.as("h")),l=ki(i.as("d")),u=ki(i.as("M")),d=ki(i.as("w")),h=ki(i.as("y")),f=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(f=f||d<=1&&["w"]||d<n.w&&["ww",d]),f=f||u<=1&&["M"]||u<n.M&&["MM",u]||h<=1&&["y"]||["yy",h],f[2]=e,f[3]=+t>0,f[4]=r,OZ.apply(null,f)}function NZ(t){return t===void 0?ki:typeof t=="function"?(ki=t,!0):!1}function MZ(t,e){return pl[t]===void 0?!1:e===void 0?pl[t]:(pl[t]=e,t==="s"&&(pl.ss=e-1),!0)}function LZ(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=pl,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},pl,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=DZ(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var x_=Math.abs;function Ka(t){return(t>0)-(t<0)||+t}function ly(){if(!this.isValid())return this.localeData().invalidDate();var t=x_(this._milliseconds)/1e3,e=x_(this._days),n=x_(this._months),r,i,s,o,a=this.asSeconds(),l,u,d,h;return a?(r=ur(t/60),i=ur(r/60),t%=60,r%=60,s=ur(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=Ka(this._months)!==Ka(a)?"-":"",d=Ka(this._days)!==Ka(a)?"-":"",h=Ka(this._milliseconds)!==Ka(a)?"-":"",l+"P"+(s?u+s+"Y":"")+(n?u+n+"M":"")+(e?d+e+"D":"")+(i||r||t?"T":"")+(i?h+i+"H":"")+(r?h+r+"M":"")+(t?h+o+"S":"")):"P0D"}var Ie=oy.prototype;Ie.isValid=kJ;Ie.abs=lZ;Ie.add=uZ;Ie.subtract=cZ;Ie.as=hZ;Ie.asMilliseconds=q2;Ie.asSeconds=fZ;Ie.asMinutes=pZ;Ie.asHours=mZ;Ie.asDays=gZ;Ie.asWeeks=yZ;Ie.asMonths=_Z;Ie.asQuarters=vZ;Ie.asYears=wZ;Ie.valueOf=EZ;Ie._bubble=dZ;Ie.clone=SZ;Ie.get=IZ;Ie.milliseconds=TZ;Ie.seconds=bZ;Ie.minutes=RZ;Ie.hours=AZ;Ie.days=PZ;Ie.weeks=xZ;Ie.months=kZ;Ie.years=CZ;Ie.humanize=LZ;Ie.toISOString=ly;Ie.toString=ly;Ie.toJSON=ly;Ie.locale=O2;Ie.localeData=N2;Ie.toIsoString=_r("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ly);Ie.lang=D2;re("X",0,0,"unix");re("x",0,0,"valueOf");Z("x",ny);Z("X",rQ);Le("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Le("x",function(t,e,n){n._d=new Date(ve(t))});//! moment.js
J.version="2.30.1";VY(Ge);J.fn=H;J.min=bJ;J.max=RJ;J.now=AJ;J.utc=_i;J.unix=tZ;J.months=rZ;J.isDate=Ch;J.locale=Hs;J.invalid=Xg;J.duration=Br;J.isMoment=Ur;J.weekdays=sZ;J.parseZone=nZ;J.localeData=us;J.isDuration=fp;J.monthsShort=iZ;J.weekdaysMin=aZ;J.defineLocale=GS;J.updateLocale=nJ;J.locales=rJ;J.weekdaysShort=oZ;J.normalizeUnits=vr;J.relativeTimeRounding=NZ;J.relativeTimeThreshold=MZ;J.calendarFormat=XJ;J.prototype=H;J.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function VZ(){const[{user:t},e]=U.useContext(rs),[n,r]=U.useState([]);return U.useEffect(()=>{t?GN.collection("users").doc(t.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{r(i.docs.map(s=>({id:s.id,created:s.data().created,amount:s.data().amount,data:s.data()})))}):r([])},[]),P.jsx(ka,{children:P.jsx("section",{className:iA.container,children:P.jsxs("div",{className:iA.orders__container,children:[P.jsx("h2",{style:{margin:"20px"},children:"Your Orders"}),(n==null?void 0:n.length)==0&&P.jsx("div",{style:{padding:"20px"},children:"you don't have orders yet."}),P.jsx("div",{children:n==null?void 0:n.map((i,s)=>{var o,a;return P.jsxs("div",{children:[P.jsx("hr",{}),P.jsxs("div",{style:{display:"flex",flexWrap:"wrap",fontWeight:"500",borderBottom:"1px solid black"},children:[P.jsxs("p",{children:["Order ID: ",P.jsx("span",{style:{color:"var(--primary-shade)"},children:i==null?void 0:i.id})]}),P.jsxs("p",{children:["Total Amount: ",P.jsxs("span",{style:{color:"var(--primary-shade)"},children:["$",i==null?void 0:i.amount.toLocaleString()]})]}),P.jsxs("p",{children:["Purchased Date: ",P.jsx("span",{style:{color:"var(--primary-shade)"},children:J((i==null?void 0:i.created)*1e3).format("dddd, MMM DD, YYYY h:mm A")})]})]}),(a=(o=i==null?void 0:i.data)==null?void 0:o.basket)==null?void 0:a.map(l=>P.jsx(pu,{flex:!0,product:l,itemAmount:l.amount,total:!0},l.id))]},s)})})]})})})}const FZ="_products_container_x2l8t_1",UZ={products_container:FZ};function jZ(){const[t,e]=U.useState({}),[n,r]=U.useState(!1),{productId:i}=Mk();return U.useEffect(()=>{r(!0),ut.get(`${iE}/products/${i}`).then(s=>{console.log(s.data,i),e(s.data),r(!1)}).catch(s=>{console.log(s),r(!1)})},[]),P.jsxs(ka,{children:[console.log(t),n?P.jsx(zw,{}):P.jsx(pu,{product:t,flex:!0,renderDesc:!0,renderAdd:!0})]})}function BZ(){const{categoryName:t}=Mk(),[e,n]=U.useState([]),[r,i]=U.useState(!1);return U.useEffect(()=>{i(!0),ut.get(`${iE}/products/category/${t}`).then(s=>{console.log(s.data),n(s.data),i(!1)}).catch(s=>{console.log(s),i(!1)})},[t]),P.jsx(ka,{children:P.jsxs("section",{children:[P.jsx("h1",{style:{padding:"30px"},children:"Results"}),P.jsxs("p",{style:{padding:"30px"},children:["Category / ",t]}),P.jsx("hr",{}),r?P.jsx(zw,{}):P.jsx("div",{className:UZ.products_container,children:e==null?void 0:e.map(s=>P.jsx(pu,{product:s,renderDesc:!1,renderAdd:!0},s.id))})]})})}var H2="https://js.stripe.com/v3",$Z=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,dA="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",zZ=function(){for(var e=document.querySelectorAll('script[src^="'.concat(H2,'"]')),n=0;n<e.length;n++){var r=e[n];if($Z.test(r.src))return r}return null},hA=function(e){var n="",r=document.createElement("script");r.src="".concat(H2).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},WZ=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"4.4.0",startTime:n})},hc=null,Of=null,Df=null,qZ=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},HZ=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},GZ=function(e){return hc!==null?hc:(hc=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(dA),window.Stripe){n(window.Stripe);return}try{var i=zZ();if(i&&e)console.warn(dA);else if(!i)i=hA(e);else if(i&&Df!==null&&Of!==null){var s;i.removeEventListener("load",Df),i.removeEventListener("error",Of),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=hA(e)}Df=HZ(n,r),Of=qZ(r),i.addEventListener("load",Df),i.addEventListener("error",Of)}catch(o){r(o);return}}),hc.catch(function(n){return hc=null,Promise.reject(n)}))},KZ=function(e,n,r){if(e===null)return null;var i=e.apply(void 0,n);return WZ(i,r),i},fc,G2=!1,K2=function(){return fc||(fc=GZ(null).catch(function(e){return fc=null,Promise.reject(e)}),fc)};Promise.resolve().then(function(){return K2()}).catch(function(t){G2||console.warn(t)});var YZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];G2=!0;var i=Date.now();return K2().then(function(s){return KZ(s,n,i)})};const QZ="_errorHolder_unznk_1",JZ={errorHolder:QZ};function XZ(){return P.jsx(ka,{children:P.jsxs("div",{className:JZ.errorHolder,children:[P.jsx("h2",{children:"404 - Page Not Found"}),P.jsx("p",{children:"Sorry, the page you are looking for does not exist."})]})})}const fA=({children:t,msg:e,redirect:n})=>{const r=qm(),[{user:i},s]=U.useContext(rs);return U.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:n}})},[i]),t},ZZ=YZ("pk_test_51QSLXxHgGzflC5pHYYfLYt0LF7YmsUTygdeKFvV9FlCaf33zpQQGGiX98V7aNGQy9lBgPqeFatH0IYIeea2OGOpK00H8OdhsZ2");function eee(){return P.jsx(WF,{children:P.jsxs(VF,{children:[P.jsx(Hr,{path:"/",element:P.jsx($K,{})}),P.jsx(Hr,{path:"/auth",element:P.jsx(JK,{})}),P.jsx(Hr,{path:"/payments",element:P.jsx(fA,{msg:"Please sign in to complete your payment. (You'll be redirected to the checkout page)",redirect:"/payments",children:P.jsx(ZN,{stripe:ZZ,children:P.jsx(SY,{})})})}),P.jsx(Hr,{path:"/orders",element:P.jsx(fA,{msg:"Please sign in to access your orders",redirect:"/orders",children:P.jsx(VZ,{})})}),P.jsx(Hr,{path:"/cart",element:P.jsx(NY,{})}),P.jsx(Hr,{path:"/category/:categoryName",element:P.jsx(BZ,{})}),P.jsx(Hr,{path:"/products/:productId",element:P.jsx(jZ,{})}),P.jsx(Hr,{path:"/products",element:P.jsx(QC,{})}),P.jsx(Hr,{path:"*",element:P.jsx(XZ,{})})]})})}function tee(){const[{user:t},e]=U.useContext(rs);return U.useEffect(()=>{Sm.onAuthStateChanged(n=>{e(n?{type:dn.SET_USER,user:n}:{type:dn.SET_USER,user:null})})},[]),P.jsx(P.Fragment,{children:P.jsx(eee,{})})}Rk(document.getElementById("root")).render(P.jsx(y6,{reducer:TY,initialState:IY,children:P.jsx(tee,{})}))});export default nee();
